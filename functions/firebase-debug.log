[debug] [2021-09-22T20:12:41.753Z] ----------------------------------------------------------------------
[debug] [2021-09-22T20:12:41.756Z] Command:       /usr/local/bin/node /usr/local/bin/firebase emulators:start
[debug] [2021-09-22T20:12:41.756Z] CLI Version:   9.18.0
[debug] [2021-09-22T20:12:41.756Z] Platform:      darwin
[debug] [2021-09-22T20:12:41.756Z] Node Version:  v14.15.5
[debug] [2021-09-22T20:12:41.769Z] Time:          Wed Sep 22 2021 22:12:41 GMT+0200 (heure d’été d’Europe centrale)
[debug] [2021-09-22T20:12:41.769Z] ----------------------------------------------------------------------
[debug] 
[debug] [2021-09-22T20:12:41.830Z] > command requires scopes: ["email","openid","https://www.googleapis.com/auth/cloudplatformprojects.readonly","https://www.googleapis.com/auth/firebase","https://www.googleapis.com/auth/cloud-platform"]
[debug] [2021-09-22T20:12:41.830Z] > authorizing via signed-in user (edtoulet@gmail.com)
[info] i  emulators: Starting emulators: functions, hosting {"metadata":{"emulator":{"name":"hub"},"message":"Starting emulators: functions, hosting"}}
[debug] [2021-09-22T20:12:41.971Z] [hub] writing locator at /var/folders/1q/t08t1c7147b3jyhcc6c2xwfr0000gn/T/hub-clone-e655c.json
[warn] ⚠  functions: The following emulators are not running, calls to these services from the Functions emulator will affect production: auth, firestore, database, pubsub, storage {"metadata":{"emulator":{"name":"functions"},"message":"The following emulators are not running, calls to these services from the Functions emulator will affect production: \u001b[1mauth, firestore, database, pubsub, storage\u001b[22m"}}
[info] ✔  functions: Using node@14 from host. {"metadata":{"emulator":{"name":"functions"},"message":"Using node@14 from host."}}
[debug] [2021-09-22T20:12:42.058Z] defaultcredentials: writing to file /Users/edouardtoulet/.config/firebase/edtoulet_gmail_com_application_default_credentials.json
[debug] [2021-09-22T20:12:42.333Z] Setting GAC to /Users/edouardtoulet/.config/firebase/edtoulet_gmail_com_application_default_credentials.json {"metadata":{"emulator":{"name":"functions"},"message":"Setting GAC to /Users/edouardtoulet/.config/firebase/edtoulet_gmail_com_application_default_credentials.json"}}
[debug] [2021-09-22T20:12:42.339Z] >>> [apiv2][query] GET https://firebase.googleapis.com/v1beta1/projects/clone-e655c/adminSdkConfig [none]
[debug] [2021-09-22T20:12:42.752Z] <<< [apiv2][status] GET https://firebase.googleapis.com/v1beta1/projects/clone-e655c/adminSdkConfig 200
[debug] [2021-09-22T20:12:42.752Z] <<< [apiv2][body] GET https://firebase.googleapis.com/v1beta1/projects/clone-e655c/adminSdkConfig {"projectId":"clone-e655c","storageBucket":"clone-e655c.appspot.com","locationId":"us-central"}
[debug] [2021-09-22T20:12:42.785Z] >>> [apiv2][query] GET https://firebasehosting.googleapis.com/v1beta1/projects/clone-e655c/sites 
[debug] [2021-09-22T20:12:43.534Z] <<< [apiv2][status] GET https://firebasehosting.googleapis.com/v1beta1/projects/clone-e655c/sites 200
[debug] [2021-09-22T20:12:43.534Z] <<< [apiv2][body] GET https://firebasehosting.googleapis.com/v1beta1/projects/clone-e655c/sites {"sites":[{"name":"projects/246153621557/sites/clone-e655c","defaultUrl":"https://clone-e655c.web.app","appId":"1:246153621557:web:77d592578725f6efe9017c","type":"DEFAULT_SITE"}]}
[debug] [2021-09-22T20:12:43.535Z] >>> [apiv2][query] GET https://firebase.googleapis.com/v1beta1/projects/clone-e655c/webApps/1:246153621557:web:77d592578725f6efe9017c/config [none]
[debug] [2021-09-22T20:12:44.352Z] <<< [apiv2][status] GET https://firebase.googleapis.com/v1beta1/projects/clone-e655c/webApps/1:246153621557:web:77d592578725f6efe9017c/config 200
[debug] [2021-09-22T20:12:44.352Z] <<< [apiv2][body] GET https://firebase.googleapis.com/v1beta1/projects/clone-e655c/webApps/1:246153621557:web:77d592578725f6efe9017c/config {"projectId":"clone-e655c","appId":"1:246153621557:web:77d592578725f6efe9017c","storageBucket":"clone-e655c.appspot.com","locationId":"us-central","apiKey":"AIzaSyDx1_78WUiYBPEAjGwRZ-KBS-Gnpy83Xyg","authDomain":"clone-e655c.firebaseapp.com","messagingSenderId":"246153621557","measurementId":"G-K0WZK9Y6W6"}
[info] i  hosting: Serving hosting files from: build {"metadata":{"emulator":{"name":"hosting"},"message":"Serving hosting files from: \u001b[1mbuild\u001b[22m"}}
[info] ✔  hosting: Local server: http://localhost:5000 {"metadata":{"emulator":{"name":"hosting"},"message":"Local server: \u001b[4m\u001b[1mhttp://localhost:5000\u001b[22m\u001b[24m"}}
[debug] [2021-09-22T20:12:44.429Z] Ignoring unsupported arg: auto_download {"metadata":{"emulator":{"name":"ui"},"message":"Ignoring unsupported arg: auto_download"}}
[debug] [2021-09-22T20:12:44.429Z] Ignoring unsupported arg: port {"metadata":{"emulator":{"name":"ui"},"message":"Ignoring unsupported arg: port"}}
[debug] [2021-09-22T20:12:44.429Z] Starting Emulator UI with command {"binary":"node","args":["/Users/edouardtoulet/.cache/firebase/emulators/ui-v1.6.3/server.bundle.js"],"optionalArgs":[],"joinArgs":false} {"metadata":{"emulator":{"name":"ui"},"message":"Starting Emulator UI with command {\"binary\":\"node\",\"args\":[\"/Users/edouardtoulet/.cache/firebase/emulators/ui-v1.6.3/server.bundle.js\"],\"optionalArgs\":[],\"joinArgs\":false}"}}
[info] i  ui: Emulator UI logging to ui-debug.log {"metadata":{"emulator":{"name":"ui"},"message":"Emulator UI logging to \u001b[1mui-debug.log\u001b[22m"}}
[debug] [2021-09-22T20:12:44.596Z] Web / API server started at localhost:4000
 {"metadata":{"emulator":{"name":"ui"},"message":"Web / API server started at localhost:4000\n"}}
[info] i  functions: Watching "/Users/edouardtoulet/Desktop/Js/REACT/amazon-clone/functions" for Cloud Functions... {"metadata":{"emulator":{"name":"functions"},"message":"Watching \"/Users/edouardtoulet/Desktop/Js/REACT/amazon-clone/functions\" for Cloud Functions..."}}
[debug] [2021-09-22T20:12:44.716Z] [worker-pool] addWorker(~diagnostic~) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] addWorker(~diagnostic~)"}}
[debug] [2021-09-22T20:12:44.716Z] [worker-pool] Adding worker with key ~diagnostic~, total=1 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Adding worker with key ~diagnostic~, total=1"}}
[debug] [2021-09-22T20:12:44.716Z] [worker-pool] submitWork(triggerId=) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitWork(triggerId=)"}}
[debug] [2021-09-22T20:12:44.716Z] [worker-~diagnostic~-93ddadda-72a1-4a7f-ba76-0d022a877678]: Assigning socketPath: /var/folders/1q/t08t1c7147b3jyhcc6c2xwfr0000gn/T/fire_emu_23979.sock {"metadata":{"emulator":{"name":"functions"},"message":"[worker-~diagnostic~-93ddadda-72a1-4a7f-ba76-0d022a877678]: Assigning socketPath: /var/folders/1q/t08t1c7147b3jyhcc6c2xwfr0000gn/T/fire_emu_23979.sock"}}
[debug] [2021-09-22T20:12:44.717Z] [worker-~diagnostic~-93ddadda-72a1-4a7f-ba76-0d022a877678]: BUSY {"metadata":{"emulator":{"name":"functions"},"message":"[worker-~diagnostic~-93ddadda-72a1-4a7f-ba76-0d022a877678]: BUSY"}}
[debug] [2021-09-22T20:12:45.485Z] [runtime-status] [23979] Functions runtime initialized. {"cwd":"/Users/edouardtoulet/Desktop/Js/REACT/amazon-clone/functions","node_version":"14.15.5"} {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [23979] Functions runtime initialized. {\"cwd\":\"/Users/edouardtoulet/Desktop/Js/REACT/amazon-clone/functions\",\"node_version\":\"14.15.5\"}"}}
[debug] [2021-09-22T20:12:45.492Z] [runtime-status] [23979] Disabled runtime features: undefined {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [23979] Disabled runtime features: undefined"}}
[debug] [2021-09-22T20:12:45.500Z] [runtime-status] [23979] Resolved module firebase-admin {"declared":true,"installed":true,"version":"9.11.1","resolution":"/Users/edouardtoulet/Desktop/Js/REACT/amazon-clone/functions/node_modules/firebase-admin/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [23979] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"9.11.1\",\"resolution\":\"/Users/edouardtoulet/Desktop/Js/REACT/amazon-clone/functions/node_modules/firebase-admin/lib/index.js\"}"}}
[debug] [2021-09-22T20:12:45.505Z] [runtime-status] [23979] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.15.7","resolution":"/Users/edouardtoulet/Desktop/Js/REACT/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [23979] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.15.7\",\"resolution\":\"/Users/edouardtoulet/Desktop/Js/REACT/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2021-09-22T20:12:45.510Z] [runtime-status] [23979] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.15.7","resolution":"/Users/edouardtoulet/Desktop/Js/REACT/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [23979] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.15.7\",\"resolution\":\"/Users/edouardtoulet/Desktop/Js/REACT/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2021-09-22T20:12:45.512Z] [runtime-status] [23979] Outgoing network have been stubbed. [{"name":"http","status":"mocked"},{"name":"http","status":"mocked"},{"name":"https","status":"mocked"},{"name":"https","status":"mocked"},{"name":"net","status":"mocked"}] {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [23979] Outgoing network have been stubbed. [{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"net\",\"status\":\"mocked\"}]"}}
[debug] [2021-09-22T20:12:45.513Z] [runtime-status] [23979] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.15.7","resolution":"/Users/edouardtoulet/Desktop/Js/REACT/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [23979] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.15.7\",\"resolution\":\"/Users/edouardtoulet/Desktop/Js/REACT/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2021-09-22T20:12:45.808Z] [runtime-status] [23979] Checked functions.config() {"config":{}} {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [23979] Checked functions.config() {\"config\":{}}"}}
[debug] [2021-09-22T20:12:45.809Z] [runtime-status] [23979] firebase-functions has been stubbed. {"functionsResolution":{"declared":true,"installed":true,"version":"3.15.7","resolution":"/Users/edouardtoulet/Desktop/Js/REACT/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"}} {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [23979] firebase-functions has been stubbed. {\"functionsResolution\":{\"declared\":true,\"installed\":true,\"version\":\"3.15.7\",\"resolution\":\"/Users/edouardtoulet/Desktop/Js/REACT/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}}"}}
[debug] [2021-09-22T20:12:45.811Z] [runtime-status] [23979] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.15.7","resolution":"/Users/edouardtoulet/Desktop/Js/REACT/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [23979] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.15.7\",\"resolution\":\"/Users/edouardtoulet/Desktop/Js/REACT/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2021-09-22T20:12:45.813Z] [runtime-status] [23979] Resolved module firebase-admin {"declared":true,"installed":true,"version":"9.11.1","resolution":"/Users/edouardtoulet/Desktop/Js/REACT/amazon-clone/functions/node_modules/firebase-admin/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [23979] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"9.11.1\",\"resolution\":\"/Users/edouardtoulet/Desktop/Js/REACT/amazon-clone/functions/node_modules/firebase-admin/lib/index.js\"}"}}
[debug] [2021-09-22T20:12:45.816Z] [runtime-status] [23979] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.15.7","resolution":"/Users/edouardtoulet/Desktop/Js/REACT/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [23979] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.15.7\",\"resolution\":\"/Users/edouardtoulet/Desktop/Js/REACT/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2021-09-22T20:12:45.817Z] [runtime-status] [23979] firebase-admin has been stubbed. {"adminResolution":{"declared":true,"installed":true,"version":"9.11.1","resolution":"/Users/edouardtoulet/Desktop/Js/REACT/amazon-clone/functions/node_modules/firebase-admin/lib/index.js"}} {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [23979] firebase-admin has been stubbed. {\"adminResolution\":{\"declared\":true,\"installed\":true,\"version\":\"9.11.1\",\"resolution\":\"/Users/edouardtoulet/Desktop/Js/REACT/amazon-clone/functions/node_modules/firebase-admin/lib/index.js\"}}"}}
[info] ✔  functions[us-central1-api]: http function initialized (http://localhost:5001/clone-e655c/us-central1/api). {"metadata":{"emulator":{"name":"functions"},"message":"\u001b[1mhttp\u001b[22m function initialized (http://localhost:5001/clone-e655c/us-central1/api)."}}
[info] 
┌─────────────────────────────────────────────────────────────┐
│ ✔  All emulators ready! It is now safe to connect your app. │
│ i  View Emulator UI at http://localhost:4000                │
└─────────────────────────────────────────────────────────────┘

┌───────────┬────────────────┬─────────────────────────────────┐
│ Emulator  │ Host:Port      │ View in Emulator UI             │
├───────────┼────────────────┼─────────────────────────────────┤
│ Functions │ localhost:5001 │ http://localhost:4000/functions │
├───────────┼────────────────┼─────────────────────────────────┤
│ Hosting   │ localhost:5000 │ n/a                             │
└───────────┴────────────────┴─────────────────────────────────┘
  Emulator Hub running at localhost:4400
  Other reserved ports: 4500

Issues? Report them at https://github.com/firebase/firebase-tools/issues and attach the *-debug.log files.
 
[debug] [2021-09-22T20:12:46.444Z] [worker-~diagnostic~-93ddadda-72a1-4a7f-ba76-0d022a877678]: IDLE {"metadata":{"emulator":{"name":"functions"},"message":"[worker-~diagnostic~-93ddadda-72a1-4a7f-ba76-0d022a877678]: IDLE"}}
[debug] [2021-09-22T20:12:53.266Z] [work-queue] {"queueLength":1,"workRunningCount":0}
[debug] [2021-09-22T20:12:53.266Z] [work-queue] {"queueLength":0,"workRunningCount":1}
[debug] [2021-09-22T20:12:53.266Z] Accepted request POST /clone-e655c/us-central1/api/payments/create?total=0 --> us-central1-api
[debug] [2021-09-22T20:12:53.274Z] [worker-pool] addWorker(us-central1-api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] addWorker(us-central1-api)"}}
[debug] [2021-09-22T20:12:53.275Z] [worker-pool] Adding worker with key us-central1-api, total=1 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Adding worker with key us-central1-api, total=1"}}
[debug] [2021-09-22T20:12:53.275Z] [worker-pool] submitWork(triggerId=us-central1-api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitWork(triggerId=us-central1-api)"}}
[debug] [2021-09-22T20:12:53.275Z] [worker-us-central1-api-d99ad144-3f93-45a3-b677-9df58ecb53e0]: Assigning socketPath: /var/folders/1q/t08t1c7147b3jyhcc6c2xwfr0000gn/T/fire_emu_23988.sock {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-api-d99ad144-3f93-45a3-b677-9df58ecb53e0]: Assigning socketPath: /var/folders/1q/t08t1c7147b3jyhcc6c2xwfr0000gn/T/fire_emu_23988.sock"}}
[debug] [2021-09-22T20:12:53.275Z] [worker-us-central1-api-d99ad144-3f93-45a3-b677-9df58ecb53e0]: BUSY {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-api-d99ad144-3f93-45a3-b677-9df58ecb53e0]: BUSY"}}
[debug] [2021-09-22T20:12:54.282Z] [runtime-status] [23988] Functions runtime initialized. {"cwd":"/Users/edouardtoulet/Desktop/Js/REACT/amazon-clone/functions","node_version":"14.15.5"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [23988] Functions runtime initialized. {\"cwd\":\"/Users/edouardtoulet/Desktop/Js/REACT/amazon-clone/functions\",\"node_version\":\"14.15.5\"}"}}
[debug] [2021-09-22T20:12:54.308Z] [runtime-status] [23988] Disabled runtime features: undefined {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [23988] Disabled runtime features: undefined"}}
[debug] [2021-09-22T20:12:54.344Z] [runtime-status] [23988] Resolved module firebase-admin {"declared":true,"installed":true,"version":"9.11.1","resolution":"/Users/edouardtoulet/Desktop/Js/REACT/amazon-clone/functions/node_modules/firebase-admin/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [23988] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"9.11.1\",\"resolution\":\"/Users/edouardtoulet/Desktop/Js/REACT/amazon-clone/functions/node_modules/firebase-admin/lib/index.js\"}"}}
[debug] [2021-09-22T20:12:54.348Z] [runtime-status] [23988] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.15.7","resolution":"/Users/edouardtoulet/Desktop/Js/REACT/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [23988] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.15.7\",\"resolution\":\"/Users/edouardtoulet/Desktop/Js/REACT/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2021-09-22T20:12:54.352Z] [runtime-status] [23988] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.15.7","resolution":"/Users/edouardtoulet/Desktop/Js/REACT/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [23988] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.15.7\",\"resolution\":\"/Users/edouardtoulet/Desktop/Js/REACT/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2021-09-22T20:12:54.355Z] [runtime-status] [23988] Outgoing network have been stubbed. [{"name":"http","status":"mocked"},{"name":"http","status":"mocked"},{"name":"https","status":"mocked"},{"name":"https","status":"mocked"},{"name":"net","status":"mocked"}] {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [23988] Outgoing network have been stubbed. [{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"net\",\"status\":\"mocked\"}]"}}
[debug] [2021-09-22T20:12:54.356Z] [runtime-status] [23988] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.15.7","resolution":"/Users/edouardtoulet/Desktop/Js/REACT/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [23988] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.15.7\",\"resolution\":\"/Users/edouardtoulet/Desktop/Js/REACT/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2021-09-22T20:12:54.431Z] [runtime-status] [23988] Checked functions.config() {"config":{}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [23988] Checked functions.config() {\"config\":{}}"}}
[debug] [2021-09-22T20:12:54.431Z] [runtime-status] [23988] firebase-functions has been stubbed. {"functionsResolution":{"declared":true,"installed":true,"version":"3.15.7","resolution":"/Users/edouardtoulet/Desktop/Js/REACT/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [23988] firebase-functions has been stubbed. {\"functionsResolution\":{\"declared\":true,\"installed\":true,\"version\":\"3.15.7\",\"resolution\":\"/Users/edouardtoulet/Desktop/Js/REACT/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}}"}}
[debug] [2021-09-22T20:12:54.432Z] [runtime-status] [23988] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.15.7","resolution":"/Users/edouardtoulet/Desktop/Js/REACT/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [23988] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.15.7\",\"resolution\":\"/Users/edouardtoulet/Desktop/Js/REACT/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2021-09-22T20:12:54.433Z] [runtime-status] [23988] Resolved module firebase-admin {"declared":true,"installed":true,"version":"9.11.1","resolution":"/Users/edouardtoulet/Desktop/Js/REACT/amazon-clone/functions/node_modules/firebase-admin/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [23988] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"9.11.1\",\"resolution\":\"/Users/edouardtoulet/Desktop/Js/REACT/amazon-clone/functions/node_modules/firebase-admin/lib/index.js\"}"}}
[debug] [2021-09-22T20:12:54.434Z] [runtime-status] [23988] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.15.7","resolution":"/Users/edouardtoulet/Desktop/Js/REACT/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [23988] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.15.7\",\"resolution\":\"/Users/edouardtoulet/Desktop/Js/REACT/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2021-09-22T20:12:54.434Z] [runtime-status] [23988] firebase-admin has been stubbed. {"adminResolution":{"declared":true,"installed":true,"version":"9.11.1","resolution":"/Users/edouardtoulet/Desktop/Js/REACT/amazon-clone/functions/node_modules/firebase-admin/lib/index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [23988] firebase-admin has been stubbed. {\"adminResolution\":{\"declared\":true,\"installed\":true,\"version\":\"9.11.1\",\"resolution\":\"/Users/edouardtoulet/Desktop/Js/REACT/amazon-clone/functions/node_modules/firebase-admin/lib/index.js\"}}"}}
[debug] [2021-09-22T20:12:55.081Z] [runtime-status] [23988] Trigger "us-central1-api" has been found, beginning invocation! {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [23988] Trigger \"us-central1-api\" has been found, beginning invocation!"}}
[info] i  functions: Beginning execution of "us-central1-api" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"Beginning execution of \"us-central1-api\""}}
[debug] [2021-09-22T20:12:55.082Z] [runtime-status] [23988] triggerDefinition {"httpsTrigger":{},"name":"api","entryPoint":"api","regions":["us-central1"],"region":"us-central1","id":"us-central1-api"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [23988] triggerDefinition {\"httpsTrigger\":{},\"name\":\"api\",\"entryPoint\":\"api\",\"regions\":[\"us-central1\"],\"region\":\"us-central1\",\"id\":\"us-central1-api\"}"}}
[debug] [2021-09-22T20:12:55.082Z] [runtime-status] [23988] Running us-central1-api in mode HTTPS {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [23988] Running us-central1-api in mode HTTPS"}}
[debug] [2021-09-22T20:12:55.085Z] [runtime-status] [23988] Attempting to listen to socketPath: /var/folders/1q/t08t1c7147b3jyhcc6c2xwfr0000gn/T/fire_emu_23988.sock {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [23988] Attempting to listen to socketPath: /var/folders/1q/t08t1c7147b3jyhcc6c2xwfr0000gn/T/fire_emu_23988.sock"}}
[debug] [2021-09-22T20:12:55.298Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2021-09-22T20:12:55.299Z] [functions] Got req.url=/clone-e655c/us-central1/api/payments/create?total=0, mapping to path=/payments/create?total=0 {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Got req.url=/clone-e655c/us-central1/api/payments/create?total=0, mapping to path=/payments/create?total=0"}}
[debug] [2021-09-22T20:12:55.312Z] [runtime-status] [23988] Ephemeral server handling POST request {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [23988] Ephemeral server handling POST request"}}
[info] >  Payment Request received BOOOOOM !! 0 {"user":"Payment Request received BOOOOOM !! 0","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m Payment Request received BOOOOOM !! 0"}}
[debug] [2021-09-22T20:12:55.364Z] [runtime-status] [23988] Ephemeral server survived. {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [23988] Ephemeral server survived."}}
[info] >  (node:23988) UnhandledPromiseRejectionWarning: Error: This value must be greater than or equal to 1. {"user":"(node:23988) UnhandledPromiseRejectionWarning: Error: This value must be greater than or equal to 1.","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m (node:23988) UnhandledPromiseRejectionWarning: Error: This value must be greater than or equal to 1."}}
[info] >      at Function.generate (/Users/edouardtoulet/Desktop/Js/REACT/amazon-clone/functions/node_modules/stripe/lib/Error.js:40:16) {"user":"    at Function.generate (/Users/edouardtoulet/Desktop/Js/REACT/amazon-clone/functions/node_modules/stripe/lib/Error.js:40:16)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     at Function.generate (/Users/edouardtoulet/Desktop/Js/REACT/amazon-clone/functions/node_modules/stripe/lib/Error.js:40:16)"}}
[info] >      at res.toJSON.then.StripeAPIError.message (/Users/edouardtoulet/Desktop/Js/REACT/amazon-clone/functions/node_modules/stripe/lib/StripeResource.js:220:35) {"user":"    at res.toJSON.then.StripeAPIError.message (/Users/edouardtoulet/Desktop/Js/REACT/amazon-clone/functions/node_modules/stripe/lib/StripeResource.js:220:35)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     at res.toJSON.then.StripeAPIError.message (/Users/edouardtoulet/Desktop/Js/REACT/amazon-clone/functions/node_modules/stripe/lib/StripeResource.js:220:35)"}}
[info] >      at processTicksAndRejections (internal/process/task_queues.js:93:5) {"user":"    at processTicksAndRejections (internal/process/task_queues.js:93:5)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     at processTicksAndRejections (internal/process/task_queues.js:93:5)"}}
[info] >  (Use `node --trace-warnings ...` to show where the warning was created) {"user":"(Use `node --trace-warnings ...` to show where the warning was created)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m (Use `node --trace-warnings ...` to show where the warning was created)"}}
[info] >  (node:23988) UnhandledPromiseRejectionWarning: Unhandled promise rejection. This error originated either by throwing inside of an async function without a catch block, or by rejecting a promise which was not handled with .catch(). To terminate the node process on unhandled promise rejection, use the CLI flag `--unhandled-rejections=strict` (see https://nodejs.org/api/cli.html#cli_unhandled_rejections_mode). (rejection id: 1) {"user":"(node:23988) UnhandledPromiseRejectionWarning: Unhandled promise rejection. This error originated either by throwing inside of an async function without a catch block, or by rejecting a promise which was not handled with .catch(). To terminate the node process on unhandled promise rejection, use the CLI flag `--unhandled-rejections=strict` (see https://nodejs.org/api/cli.html#cli_unhandled_rejections_mode). (rejection id: 1)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m (node:23988) UnhandledPromiseRejectionWarning: Unhandled promise rejection. This error originated either by throwing inside of an async function without a catch block, or by rejecting a promise which was not handled with .catch(). To terminate the node process on unhandled promise rejection, use the CLI flag `--unhandled-rejections=strict` (see https://nodejs.org/api/cli.html#cli_unhandled_rejections_mode). (rejection id: 1)"}}
[info] >  (node:23988) [DEP0018] DeprecationWarning: Unhandled promise rejections are deprecated. In the future, promise rejections that are not handled will terminate the Node.js process with a non-zero exit code. {"user":"(node:23988) [DEP0018] DeprecationWarning: Unhandled promise rejections are deprecated. In the future, promise rejections that are not handled will terminate the Node.js process with a non-zero exit code.","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m (node:23988) [DEP0018] DeprecationWarning: Unhandled promise rejections are deprecated. In the future, promise rejections that are not handled will terminate the Node.js process with a non-zero exit code."}}
[debug] [2021-09-22T20:13:10.055Z] [work-queue] {"queueLength":1,"workRunningCount":1}
[debug] [2021-09-22T20:13:10.056Z] [work-queue] {"queueLength":0,"workRunningCount":2}
[debug] [2021-09-22T20:13:10.056Z] Accepted request POST /clone-e655c/us-central1/api/payments/create?total=31900 --> us-central1-api
[debug] [2021-09-22T20:13:10.069Z] [worker-pool] addWorker(us-central1-api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] addWorker(us-central1-api)"}}
[debug] [2021-09-22T20:13:10.069Z] [worker-pool] Adding worker with key us-central1-api, total=2 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Adding worker with key us-central1-api, total=2"}}
[debug] [2021-09-22T20:13:10.070Z] [worker-pool] submitWork(triggerId=us-central1-api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitWork(triggerId=us-central1-api)"}}
[debug] [2021-09-22T20:13:10.070Z] [worker-us-central1-api-4c5b74ad-a504-4c0b-a715-f05c8a3df8b6]: Assigning socketPath: /var/folders/1q/t08t1c7147b3jyhcc6c2xwfr0000gn/T/fire_emu_23993.sock {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-api-4c5b74ad-a504-4c0b-a715-f05c8a3df8b6]: Assigning socketPath: /var/folders/1q/t08t1c7147b3jyhcc6c2xwfr0000gn/T/fire_emu_23993.sock"}}
[debug] [2021-09-22T20:13:10.070Z] [worker-us-central1-api-4c5b74ad-a504-4c0b-a715-f05c8a3df8b6]: BUSY {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-api-4c5b74ad-a504-4c0b-a715-f05c8a3df8b6]: BUSY"}}
[debug] [2021-09-22T20:13:10.758Z] [runtime-status] [23993] Functions runtime initialized. {"cwd":"/Users/edouardtoulet/Desktop/Js/REACT/amazon-clone/functions","node_version":"14.15.5"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [23993] Functions runtime initialized. {\"cwd\":\"/Users/edouardtoulet/Desktop/Js/REACT/amazon-clone/functions\",\"node_version\":\"14.15.5\"}"}}
[debug] [2021-09-22T20:13:10.772Z] [runtime-status] [23993] Disabled runtime features: undefined {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [23993] Disabled runtime features: undefined"}}
[debug] [2021-09-22T20:13:10.779Z] [runtime-status] [23993] Resolved module firebase-admin {"declared":true,"installed":true,"version":"9.11.1","resolution":"/Users/edouardtoulet/Desktop/Js/REACT/amazon-clone/functions/node_modules/firebase-admin/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [23993] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"9.11.1\",\"resolution\":\"/Users/edouardtoulet/Desktop/Js/REACT/amazon-clone/functions/node_modules/firebase-admin/lib/index.js\"}"}}
[debug] [2021-09-22T20:13:10.790Z] [runtime-status] [23993] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.15.7","resolution":"/Users/edouardtoulet/Desktop/Js/REACT/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [23993] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.15.7\",\"resolution\":\"/Users/edouardtoulet/Desktop/Js/REACT/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2021-09-22T20:13:10.796Z] [runtime-status] [23993] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.15.7","resolution":"/Users/edouardtoulet/Desktop/Js/REACT/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [23993] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.15.7\",\"resolution\":\"/Users/edouardtoulet/Desktop/Js/REACT/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2021-09-22T20:13:10.805Z] [runtime-status] [23993] Outgoing network have been stubbed. [{"name":"http","status":"mocked"},{"name":"http","status":"mocked"},{"name":"https","status":"mocked"},{"name":"https","status":"mocked"},{"name":"net","status":"mocked"}] {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [23993] Outgoing network have been stubbed. [{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"net\",\"status\":\"mocked\"}]"}}
[debug] [2021-09-22T20:13:10.806Z] [runtime-status] [23993] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.15.7","resolution":"/Users/edouardtoulet/Desktop/Js/REACT/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [23993] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.15.7\",\"resolution\":\"/Users/edouardtoulet/Desktop/Js/REACT/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2021-09-22T20:13:10.936Z] [runtime-status] [23993] Checked functions.config() {"config":{}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [23993] Checked functions.config() {\"config\":{}}"}}
[debug] [2021-09-22T20:13:10.937Z] [runtime-status] [23993] firebase-functions has been stubbed. {"functionsResolution":{"declared":true,"installed":true,"version":"3.15.7","resolution":"/Users/edouardtoulet/Desktop/Js/REACT/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [23993] firebase-functions has been stubbed. {\"functionsResolution\":{\"declared\":true,\"installed\":true,\"version\":\"3.15.7\",\"resolution\":\"/Users/edouardtoulet/Desktop/Js/REACT/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}}"}}
[debug] [2021-09-22T20:13:10.938Z] [runtime-status] [23993] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.15.7","resolution":"/Users/edouardtoulet/Desktop/Js/REACT/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [23993] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.15.7\",\"resolution\":\"/Users/edouardtoulet/Desktop/Js/REACT/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2021-09-22T20:13:10.940Z] [runtime-status] [23993] Resolved module firebase-admin {"declared":true,"installed":true,"version":"9.11.1","resolution":"/Users/edouardtoulet/Desktop/Js/REACT/amazon-clone/functions/node_modules/firebase-admin/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [23993] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"9.11.1\",\"resolution\":\"/Users/edouardtoulet/Desktop/Js/REACT/amazon-clone/functions/node_modules/firebase-admin/lib/index.js\"}"}}
[debug] [2021-09-22T20:13:10.940Z] [runtime-status] [23993] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.15.7","resolution":"/Users/edouardtoulet/Desktop/Js/REACT/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [23993] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.15.7\",\"resolution\":\"/Users/edouardtoulet/Desktop/Js/REACT/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2021-09-22T20:13:10.941Z] [runtime-status] [23993] firebase-admin has been stubbed. {"adminResolution":{"declared":true,"installed":true,"version":"9.11.1","resolution":"/Users/edouardtoulet/Desktop/Js/REACT/amazon-clone/functions/node_modules/firebase-admin/lib/index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [23993] firebase-admin has been stubbed. {\"adminResolution\":{\"declared\":true,\"installed\":true,\"version\":\"9.11.1\",\"resolution\":\"/Users/edouardtoulet/Desktop/Js/REACT/amazon-clone/functions/node_modules/firebase-admin/lib/index.js\"}}"}}
[debug] [2021-09-22T20:13:11.215Z] [runtime-status] [23993] Trigger "us-central1-api" has been found, beginning invocation! {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [23993] Trigger \"us-central1-api\" has been found, beginning invocation!"}}
[info] i  functions: Beginning execution of "us-central1-api" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"Beginning execution of \"us-central1-api\""}}
[debug] [2021-09-22T20:13:11.216Z] [runtime-status] [23993] triggerDefinition {"httpsTrigger":{},"name":"api","entryPoint":"api","regions":["us-central1"],"region":"us-central1","id":"us-central1-api"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [23993] triggerDefinition {\"httpsTrigger\":{},\"name\":\"api\",\"entryPoint\":\"api\",\"regions\":[\"us-central1\"],\"region\":\"us-central1\",\"id\":\"us-central1-api\"}"}}
[debug] [2021-09-22T20:13:11.218Z] [runtime-status] [23993] Running us-central1-api in mode HTTPS {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [23993] Running us-central1-api in mode HTTPS"}}
[debug] [2021-09-22T20:13:11.224Z] [runtime-status] [23993] Attempting to listen to socketPath: /var/folders/1q/t08t1c7147b3jyhcc6c2xwfr0000gn/T/fire_emu_23993.sock {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [23993] Attempting to listen to socketPath: /var/folders/1q/t08t1c7147b3jyhcc6c2xwfr0000gn/T/fire_emu_23993.sock"}}
[debug] [2021-09-22T20:13:11.228Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2021-09-22T20:13:11.228Z] [functions] Got req.url=/clone-e655c/us-central1/api/payments/create?total=31900, mapping to path=/payments/create?total=31900 {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Got req.url=/clone-e655c/us-central1/api/payments/create?total=31900, mapping to path=/payments/create?total=31900"}}
[debug] [2021-09-22T20:13:11.237Z] [runtime-status] [23993] Ephemeral server handling POST request {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [23993] Ephemeral server handling POST request"}}
[info] >  Payment Request received BOOOOOM !! 31900 {"user":"Payment Request received BOOOOOM !! 31900","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m Payment Request received BOOOOOM !! 31900"}}
[debug] [2021-09-22T20:13:11.265Z] [runtime-status] [23993] Ephemeral server survived. {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [23993] Ephemeral server survived."}}
[info] i  functions: Finished "us-central1-api" in ~1s {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"Finished \"us-central1-api\" in ~1s"}}
[debug] [2021-09-22T20:13:11.711Z] [worker-us-central1-api-4c5b74ad-a504-4c0b-a715-f05c8a3df8b6]: IDLE {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-api-4c5b74ad-a504-4c0b-a715-f05c8a3df8b6]: IDLE"}}
[debug] [2021-09-22T20:13:11.712Z] [work-queue] {"queueLength":0,"workRunningCount":1}
[debug] [2021-09-22T20:13:21.379Z] [work-queue] {"queueLength":1,"workRunningCount":1}
[debug] [2021-09-22T20:13:21.379Z] [work-queue] {"queueLength":0,"workRunningCount":2}
[debug] [2021-09-22T20:13:21.379Z] Accepted request POST /clone-e655c/us-central1/api/payments/create?total=0 --> us-central1-api
[debug] [2021-09-22T20:13:21.379Z] [worker-pool] submitWork(triggerId=us-central1-api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitWork(triggerId=us-central1-api)"}}
[debug] [2021-09-22T20:13:21.379Z] [worker-us-central1-api-4c5b74ad-a504-4c0b-a715-f05c8a3df8b6]: Assigning socketPath: /var/folders/1q/t08t1c7147b3jyhcc6c2xwfr0000gn/T/fire_emu_23993.sock {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-api-4c5b74ad-a504-4c0b-a715-f05c8a3df8b6]: Assigning socketPath: /var/folders/1q/t08t1c7147b3jyhcc6c2xwfr0000gn/T/fire_emu_23993.sock"}}
[debug] [2021-09-22T20:13:21.379Z] [worker-us-central1-api-4c5b74ad-a504-4c0b-a715-f05c8a3df8b6]: BUSY {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-api-4c5b74ad-a504-4c0b-a715-f05c8a3df8b6]: BUSY"}}
[debug] [2021-09-22T20:13:21.389Z] [runtime-status] [23993] Trigger "us-central1-api" has been found, beginning invocation! {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [23993] Trigger \"us-central1-api\" has been found, beginning invocation!"}}
[info] i  functions: Beginning execution of "us-central1-api" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"Beginning execution of \"us-central1-api\""}}
[debug] [2021-09-22T20:13:21.390Z] [runtime-status] [23993] triggerDefinition {"httpsTrigger":{},"name":"api","entryPoint":"api","regions":["us-central1"],"region":"us-central1","id":"us-central1-api"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [23993] triggerDefinition {\"httpsTrigger\":{},\"name\":\"api\",\"entryPoint\":\"api\",\"regions\":[\"us-central1\"],\"region\":\"us-central1\",\"id\":\"us-central1-api\"}"}}
[debug] [2021-09-22T20:13:21.390Z] [runtime-status] [23993] Running us-central1-api in mode HTTPS {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [23993] Running us-central1-api in mode HTTPS"}}
[debug] [2021-09-22T20:13:21.390Z] [runtime-status] [23993] Attempting to listen to socketPath: /var/folders/1q/t08t1c7147b3jyhcc6c2xwfr0000gn/T/fire_emu_23993.sock {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [23993] Attempting to listen to socketPath: /var/folders/1q/t08t1c7147b3jyhcc6c2xwfr0000gn/T/fire_emu_23993.sock"}}
[debug] [2021-09-22T20:13:21.396Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2021-09-22T20:13:21.397Z] [functions] Got req.url=/clone-e655c/us-central1/api/payments/create?total=0, mapping to path=/payments/create?total=0 {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Got req.url=/clone-e655c/us-central1/api/payments/create?total=0, mapping to path=/payments/create?total=0"}}
[debug] [2021-09-22T20:13:21.406Z] [runtime-status] [23993] Ephemeral server handling POST request {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [23993] Ephemeral server handling POST request"}}
[debug] [2021-09-22T20:13:21.406Z] [runtime-status] [23993] Ephemeral server survived. {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [23993] Ephemeral server survived."}}
[info] >  Payment Request received BOOOOOM !! 0 {"user":"Payment Request received BOOOOOM !! 0","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m Payment Request received BOOOOOM !! 0"}}
[info] >  (node:23993) UnhandledPromiseRejectionWarning: Error: This value must be greater than or equal to 1. {"user":"(node:23993) UnhandledPromiseRejectionWarning: Error: This value must be greater than or equal to 1.","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m (node:23993) UnhandledPromiseRejectionWarning: Error: This value must be greater than or equal to 1."}}
[info] >      at Function.generate (/Users/edouardtoulet/Desktop/Js/REACT/amazon-clone/functions/node_modules/stripe/lib/Error.js:40:16) {"user":"    at Function.generate (/Users/edouardtoulet/Desktop/Js/REACT/amazon-clone/functions/node_modules/stripe/lib/Error.js:40:16)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     at Function.generate (/Users/edouardtoulet/Desktop/Js/REACT/amazon-clone/functions/node_modules/stripe/lib/Error.js:40:16)"}}
[info] >      at res.toJSON.then.StripeAPIError.message (/Users/edouardtoulet/Desktop/Js/REACT/amazon-clone/functions/node_modules/stripe/lib/StripeResource.js:220:35) {"user":"    at res.toJSON.then.StripeAPIError.message (/Users/edouardtoulet/Desktop/Js/REACT/amazon-clone/functions/node_modules/stripe/lib/StripeResource.js:220:35)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     at res.toJSON.then.StripeAPIError.message (/Users/edouardtoulet/Desktop/Js/REACT/amazon-clone/functions/node_modules/stripe/lib/StripeResource.js:220:35)"}}
[info] >      at processTicksAndRejections (internal/process/task_queues.js:93:5) {"user":"    at processTicksAndRejections (internal/process/task_queues.js:93:5)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     at processTicksAndRejections (internal/process/task_queues.js:93:5)"}}
[info] >  (Use `node --trace-warnings ...` to show where the warning was created) {"user":"(Use `node --trace-warnings ...` to show where the warning was created)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m (Use `node --trace-warnings ...` to show where the warning was created)"}}
[info] >  (node:23993) UnhandledPromiseRejectionWarning: Unhandled promise rejection. This error originated either by throwing inside of an async function without a catch block, or by rejecting a promise which was not handled with .catch(). To terminate the node process on unhandled promise rejection, use the CLI flag `--unhandled-rejections=strict` (see https://nodejs.org/api/cli.html#cli_unhandled_rejections_mode). (rejection id: 1) {"user":"(node:23993) UnhandledPromiseRejectionWarning: Unhandled promise rejection. This error originated either by throwing inside of an async function without a catch block, or by rejecting a promise which was not handled with .catch(). To terminate the node process on unhandled promise rejection, use the CLI flag `--unhandled-rejections=strict` (see https://nodejs.org/api/cli.html#cli_unhandled_rejections_mode). (rejection id: 1)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m (node:23993) UnhandledPromiseRejectionWarning: Unhandled promise rejection. This error originated either by throwing inside of an async function without a catch block, or by rejecting a promise which was not handled with .catch(). To terminate the node process on unhandled promise rejection, use the CLI flag `--unhandled-rejections=strict` (see https://nodejs.org/api/cli.html#cli_unhandled_rejections_mode). (rejection id: 1)"}}
[info] >  (node:23993) [DEP0018] DeprecationWarning: Unhandled promise rejections are deprecated. In the future, promise rejections that are not handled will terminate the Node.js process with a non-zero exit code. {"user":"(node:23993) [DEP0018] DeprecationWarning: Unhandled promise rejections are deprecated. In the future, promise rejections that are not handled will terminate the Node.js process with a non-zero exit code.","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m (node:23993) [DEP0018] DeprecationWarning: Unhandled promise rejections are deprecated. In the future, promise rejections that are not handled will terminate the Node.js process with a non-zero exit code."}}
[warn] ⚠  functions: Your function timed out after ~60s. To configure this timeout, see
      https://firebase.google.com/docs/functions/manage-functions#set_timeout_and_memory_allocation. {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"Your function timed out after ~60s. To configure this timeout, see\n      https://firebase.google.com/docs/functions/manage-functions#set_timeout_and_memory_allocation."}}
[info] >  /usr/local/lib/node_modules/firebase-tools/lib/emulator/functionsEmulatorRuntime.js:679 {"user":"/usr/local/lib/node_modules/firebase-tools/lib/emulator/functionsEmulatorRuntime.js:679","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m /usr/local/lib/node_modules/firebase-tools/lib/emulator/functionsEmulatorRuntime.js:679"}}
[info] >              throw new Error("Function timed out."); {"user":"            throw new Error(\"Function timed out.\");","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m             throw new Error(\"Function timed out.\");"}}
[info] >              ^ {"user":"            ^","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m             ^"}}
[info] >   {"user":"","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m "}}
[info] >  Error: Function timed out. {"user":"Error: Function timed out.","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m Error: Function timed out."}}
[info] >      at Timeout._onTimeout (/usr/local/lib/node_modules/firebase-tools/lib/emulator/functionsEmulatorRuntime.js:679:19) {"user":"    at Timeout._onTimeout (/usr/local/lib/node_modules/firebase-tools/lib/emulator/functionsEmulatorRuntime.js:679:19)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     at Timeout._onTimeout (/usr/local/lib/node_modules/firebase-tools/lib/emulator/functionsEmulatorRuntime.js:679:19)"}}
[info] >      at listOnTimeout (internal/timers.js:554:17) {"user":"    at listOnTimeout (internal/timers.js:554:17)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     at listOnTimeout (internal/timers.js:554:17)"}}
[info] >      at processTimers (internal/timers.js:497:7) {"user":"    at processTimers (internal/timers.js:497:7)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     at processTimers (internal/timers.js:497:7)"}}
[debug] [2021-09-22T20:13:55.104Z] [worker-us-central1-api-d99ad144-3f93-45a3-b677-9df58ecb53e0]: exited {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-api-d99ad144-3f93-45a3-b677-9df58ecb53e0]: exited"}}
[debug] [2021-09-22T20:13:55.104Z] [worker-us-central1-api-d99ad144-3f93-45a3-b677-9df58ecb53e0]: FINISHED {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-api-d99ad144-3f93-45a3-b677-9df58ecb53e0]: FINISHED"}}
[debug] [2021-09-22T20:13:55.104Z] [work-queue] {"queueLength":0,"workRunningCount":1}
[warn] ⚠  functions: Your function timed out after ~60s. To configure this timeout, see
      https://firebase.google.com/docs/functions/manage-functions#set_timeout_and_memory_allocation. {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"Your function timed out after ~60s. To configure this timeout, see\n      https://firebase.google.com/docs/functions/manage-functions#set_timeout_and_memory_allocation."}}
[info] >  /usr/local/lib/node_modules/firebase-tools/lib/emulator/functionsEmulatorRuntime.js:679 {"user":"/usr/local/lib/node_modules/firebase-tools/lib/emulator/functionsEmulatorRuntime.js:679","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m /usr/local/lib/node_modules/firebase-tools/lib/emulator/functionsEmulatorRuntime.js:679"}}
[info] >              throw new Error("Function timed out."); {"user":"            throw new Error(\"Function timed out.\");","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m             throw new Error(\"Function timed out.\");"}}
[info] >              ^ {"user":"            ^","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m             ^"}}
[info] >   {"user":"","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m "}}
[info] >  Error: Function timed out. {"user":"Error: Function timed out.","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m Error: Function timed out."}}
[info] >      at Timeout._onTimeout (/usr/local/lib/node_modules/firebase-tools/lib/emulator/functionsEmulatorRuntime.js:679:19) {"user":"    at Timeout._onTimeout (/usr/local/lib/node_modules/firebase-tools/lib/emulator/functionsEmulatorRuntime.js:679:19)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     at Timeout._onTimeout (/usr/local/lib/node_modules/firebase-tools/lib/emulator/functionsEmulatorRuntime.js:679:19)"}}
[info] >      at listOnTimeout (internal/timers.js:554:17) {"user":"    at listOnTimeout (internal/timers.js:554:17)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     at listOnTimeout (internal/timers.js:554:17)"}}
[info] >      at processTimers (internal/timers.js:497:7) {"user":"    at processTimers (internal/timers.js:497:7)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     at processTimers (internal/timers.js:497:7)"}}
[debug] [2021-09-22T20:14:21.407Z] [worker-us-central1-api-4c5b74ad-a504-4c0b-a715-f05c8a3df8b6]: exited {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-api-4c5b74ad-a504-4c0b-a715-f05c8a3df8b6]: exited"}}
[debug] [2021-09-22T20:14:21.407Z] [worker-us-central1-api-4c5b74ad-a504-4c0b-a715-f05c8a3df8b6]: FINISHED {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-api-4c5b74ad-a504-4c0b-a715-f05c8a3df8b6]: FINISHED"}}
[debug] [2021-09-22T20:14:21.407Z] [work-queue] {"queueLength":0,"workRunningCount":0}
[debug] [2021-09-22T20:17:14.541Z] [work-queue] {"queueLength":1,"workRunningCount":0}
[debug] [2021-09-22T20:17:14.542Z] [work-queue] {"queueLength":0,"workRunningCount":1}
[debug] [2021-09-22T20:17:14.542Z] Accepted request POST /clone-e655c/us-central1/api/payments/create?total=8798 --> us-central1-api
[debug] [2021-09-22T20:17:14.542Z] [worker-pool] Cleaned up workers for us-central1-api: 2 --> 0 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Cleaned up workers for us-central1-api: 2 --> 0"}}
[debug] [2021-09-22T20:17:14.565Z] [worker-pool] addWorker(us-central1-api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] addWorker(us-central1-api)"}}
[debug] [2021-09-22T20:17:14.566Z] [worker-pool] Adding worker with key us-central1-api, total=1 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Adding worker with key us-central1-api, total=1"}}
[debug] [2021-09-22T20:17:14.566Z] [worker-pool] submitWork(triggerId=us-central1-api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitWork(triggerId=us-central1-api)"}}
[debug] [2021-09-22T20:17:14.566Z] [worker-us-central1-api-2e5e5517-b630-4550-8e52-708891d03f53]: Assigning socketPath: /var/folders/1q/t08t1c7147b3jyhcc6c2xwfr0000gn/T/fire_emu_24020.sock {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-api-2e5e5517-b630-4550-8e52-708891d03f53]: Assigning socketPath: /var/folders/1q/t08t1c7147b3jyhcc6c2xwfr0000gn/T/fire_emu_24020.sock"}}
[debug] [2021-09-22T20:17:14.566Z] [worker-us-central1-api-2e5e5517-b630-4550-8e52-708891d03f53]: BUSY {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-api-2e5e5517-b630-4550-8e52-708891d03f53]: BUSY"}}
[debug] [2021-09-22T20:17:15.637Z] [runtime-status] [24020] Functions runtime initialized. {"cwd":"/Users/edouardtoulet/Desktop/Js/REACT/amazon-clone/functions","node_version":"14.15.5"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [24020] Functions runtime initialized. {\"cwd\":\"/Users/edouardtoulet/Desktop/Js/REACT/amazon-clone/functions\",\"node_version\":\"14.15.5\"}"}}
[debug] [2021-09-22T20:17:15.643Z] [runtime-status] [24020] Disabled runtime features: undefined {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [24020] Disabled runtime features: undefined"}}
[debug] [2021-09-22T20:17:15.654Z] [runtime-status] [24020] Resolved module firebase-admin {"declared":true,"installed":true,"version":"9.11.1","resolution":"/Users/edouardtoulet/Desktop/Js/REACT/amazon-clone/functions/node_modules/firebase-admin/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [24020] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"9.11.1\",\"resolution\":\"/Users/edouardtoulet/Desktop/Js/REACT/amazon-clone/functions/node_modules/firebase-admin/lib/index.js\"}"}}
[debug] [2021-09-22T20:17:15.663Z] [runtime-status] [24020] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.15.7","resolution":"/Users/edouardtoulet/Desktop/Js/REACT/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [24020] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.15.7\",\"resolution\":\"/Users/edouardtoulet/Desktop/Js/REACT/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2021-09-22T20:17:15.667Z] [runtime-status] [24020] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.15.7","resolution":"/Users/edouardtoulet/Desktop/Js/REACT/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [24020] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.15.7\",\"resolution\":\"/Users/edouardtoulet/Desktop/Js/REACT/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2021-09-22T20:17:15.669Z] [runtime-status] [24020] Outgoing network have been stubbed. [{"name":"http","status":"mocked"},{"name":"http","status":"mocked"},{"name":"https","status":"mocked"},{"name":"https","status":"mocked"},{"name":"net","status":"mocked"}] {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [24020] Outgoing network have been stubbed. [{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"net\",\"status\":\"mocked\"}]"}}
[debug] [2021-09-22T20:17:15.670Z] [runtime-status] [24020] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.15.7","resolution":"/Users/edouardtoulet/Desktop/Js/REACT/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [24020] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.15.7\",\"resolution\":\"/Users/edouardtoulet/Desktop/Js/REACT/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2021-09-22T20:17:15.734Z] [runtime-status] [24020] Checked functions.config() {"config":{}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [24020] Checked functions.config() {\"config\":{}}"}}
[debug] [2021-09-22T20:17:15.735Z] [runtime-status] [24020] firebase-functions has been stubbed. {"functionsResolution":{"declared":true,"installed":true,"version":"3.15.7","resolution":"/Users/edouardtoulet/Desktop/Js/REACT/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [24020] firebase-functions has been stubbed. {\"functionsResolution\":{\"declared\":true,\"installed\":true,\"version\":\"3.15.7\",\"resolution\":\"/Users/edouardtoulet/Desktop/Js/REACT/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}}"}}
[debug] [2021-09-22T20:17:15.735Z] [runtime-status] [24020] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.15.7","resolution":"/Users/edouardtoulet/Desktop/Js/REACT/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [24020] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.15.7\",\"resolution\":\"/Users/edouardtoulet/Desktop/Js/REACT/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2021-09-22T20:17:15.736Z] [runtime-status] [24020] Resolved module firebase-admin {"declared":true,"installed":true,"version":"9.11.1","resolution":"/Users/edouardtoulet/Desktop/Js/REACT/amazon-clone/functions/node_modules/firebase-admin/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [24020] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"9.11.1\",\"resolution\":\"/Users/edouardtoulet/Desktop/Js/REACT/amazon-clone/functions/node_modules/firebase-admin/lib/index.js\"}"}}
[debug] [2021-09-22T20:17:15.737Z] [runtime-status] [24020] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.15.7","resolution":"/Users/edouardtoulet/Desktop/Js/REACT/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [24020] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.15.7\",\"resolution\":\"/Users/edouardtoulet/Desktop/Js/REACT/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2021-09-22T20:17:15.737Z] [runtime-status] [24020] firebase-admin has been stubbed. {"adminResolution":{"declared":true,"installed":true,"version":"9.11.1","resolution":"/Users/edouardtoulet/Desktop/Js/REACT/amazon-clone/functions/node_modules/firebase-admin/lib/index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [24020] firebase-admin has been stubbed. {\"adminResolution\":{\"declared\":true,\"installed\":true,\"version\":\"9.11.1\",\"resolution\":\"/Users/edouardtoulet/Desktop/Js/REACT/amazon-clone/functions/node_modules/firebase-admin/lib/index.js\"}}"}}
[debug] [2021-09-22T20:17:15.983Z] [runtime-status] [24020] Trigger "us-central1-api" has been found, beginning invocation! {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [24020] Trigger \"us-central1-api\" has been found, beginning invocation!"}}
[info] i  functions: Beginning execution of "us-central1-api" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"Beginning execution of \"us-central1-api\""}}
[debug] [2021-09-22T20:17:15.984Z] [runtime-status] [24020] triggerDefinition {"httpsTrigger":{},"name":"api","entryPoint":"api","regions":["us-central1"],"region":"us-central1","id":"us-central1-api"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [24020] triggerDefinition {\"httpsTrigger\":{},\"name\":\"api\",\"entryPoint\":\"api\",\"regions\":[\"us-central1\"],\"region\":\"us-central1\",\"id\":\"us-central1-api\"}"}}
[debug] [2021-09-22T20:17:15.984Z] [runtime-status] [24020] Running us-central1-api in mode HTTPS {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [24020] Running us-central1-api in mode HTTPS"}}
[debug] [2021-09-22T20:17:15.989Z] [runtime-status] [24020] Attempting to listen to socketPath: /var/folders/1q/t08t1c7147b3jyhcc6c2xwfr0000gn/T/fire_emu_24020.sock {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [24020] Attempting to listen to socketPath: /var/folders/1q/t08t1c7147b3jyhcc6c2xwfr0000gn/T/fire_emu_24020.sock"}}
[debug] [2021-09-22T20:17:15.992Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2021-09-22T20:17:15.992Z] [functions] Got req.url=/clone-e655c/us-central1/api/payments/create?total=8798, mapping to path=/payments/create?total=8798 {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Got req.url=/clone-e655c/us-central1/api/payments/create?total=8798, mapping to path=/payments/create?total=8798"}}
[debug] [2021-09-22T20:17:16.003Z] [runtime-status] [24020] Ephemeral server handling POST request {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [24020] Ephemeral server handling POST request"}}
[info] >  Payment Request received BOOOOOM !! 8798 {"user":"Payment Request received BOOOOOM !! 8798","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m Payment Request received BOOOOOM !! 8798"}}
[debug] [2021-09-22T20:17:16.017Z] [runtime-status] [24020] Ephemeral server survived. {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [24020] Ephemeral server survived."}}
[info] i  functions: Finished "us-central1-api" in ~1s {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"Finished \"us-central1-api\" in ~1s"}}
[debug] [2021-09-22T20:17:16.488Z] [worker-us-central1-api-2e5e5517-b630-4550-8e52-708891d03f53]: IDLE {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-api-2e5e5517-b630-4550-8e52-708891d03f53]: IDLE"}}
[debug] [2021-09-22T20:17:16.489Z] [work-queue] {"queueLength":0,"workRunningCount":0}
[debug] [2021-09-22T20:17:27.983Z] [work-queue] {"queueLength":1,"workRunningCount":0}
[debug] [2021-09-22T20:17:27.983Z] [work-queue] {"queueLength":0,"workRunningCount":1}
[debug] [2021-09-22T20:17:27.983Z] Accepted request POST /clone-e655c/us-central1/api/payments/create?total=0 --> us-central1-api
[debug] [2021-09-22T20:17:27.983Z] [worker-pool] submitWork(triggerId=us-central1-api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitWork(triggerId=us-central1-api)"}}
[debug] [2021-09-22T20:17:27.983Z] [worker-us-central1-api-2e5e5517-b630-4550-8e52-708891d03f53]: Assigning socketPath: /var/folders/1q/t08t1c7147b3jyhcc6c2xwfr0000gn/T/fire_emu_24020.sock {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-api-2e5e5517-b630-4550-8e52-708891d03f53]: Assigning socketPath: /var/folders/1q/t08t1c7147b3jyhcc6c2xwfr0000gn/T/fire_emu_24020.sock"}}
[debug] [2021-09-22T20:17:27.983Z] [worker-us-central1-api-2e5e5517-b630-4550-8e52-708891d03f53]: BUSY {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-api-2e5e5517-b630-4550-8e52-708891d03f53]: BUSY"}}
[debug] [2021-09-22T20:17:27.986Z] [runtime-status] [24020] Trigger "us-central1-api" has been found, beginning invocation! {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [24020] Trigger \"us-central1-api\" has been found, beginning invocation!"}}
[info] i  functions: Beginning execution of "us-central1-api" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"Beginning execution of \"us-central1-api\""}}
[debug] [2021-09-22T20:17:27.986Z] [runtime-status] [24020] triggerDefinition {"httpsTrigger":{},"name":"api","entryPoint":"api","regions":["us-central1"],"region":"us-central1","id":"us-central1-api"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [24020] triggerDefinition {\"httpsTrigger\":{},\"name\":\"api\",\"entryPoint\":\"api\",\"regions\":[\"us-central1\"],\"region\":\"us-central1\",\"id\":\"us-central1-api\"}"}}
[debug] [2021-09-22T20:17:27.986Z] [runtime-status] [24020] Running us-central1-api in mode HTTPS {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [24020] Running us-central1-api in mode HTTPS"}}
[debug] [2021-09-22T20:17:27.987Z] [runtime-status] [24020] Attempting to listen to socketPath: /var/folders/1q/t08t1c7147b3jyhcc6c2xwfr0000gn/T/fire_emu_24020.sock {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [24020] Attempting to listen to socketPath: /var/folders/1q/t08t1c7147b3jyhcc6c2xwfr0000gn/T/fire_emu_24020.sock"}}
[debug] [2021-09-22T20:17:28.001Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2021-09-22T20:17:28.001Z] [functions] Got req.url=/clone-e655c/us-central1/api/payments/create?total=0, mapping to path=/payments/create?total=0 {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Got req.url=/clone-e655c/us-central1/api/payments/create?total=0, mapping to path=/payments/create?total=0"}}
[debug] [2021-09-22T20:17:28.012Z] [runtime-status] [24020] Ephemeral server handling POST request {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [24020] Ephemeral server handling POST request"}}
[debug] [2021-09-22T20:17:28.012Z] [runtime-status] [24020] Ephemeral server survived. {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [24020] Ephemeral server survived."}}
[info] >  Payment Request received BOOOOOM !! 0 {"user":"Payment Request received BOOOOOM !! 0","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m Payment Request received BOOOOOM !! 0"}}
[info] >  (node:24020) UnhandledPromiseRejectionWarning: Error: This value must be greater than or equal to 1. {"user":"(node:24020) UnhandledPromiseRejectionWarning: Error: This value must be greater than or equal to 1.","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m (node:24020) UnhandledPromiseRejectionWarning: Error: This value must be greater than or equal to 1."}}
[info] >      at Function.generate (/Users/edouardtoulet/Desktop/Js/REACT/amazon-clone/functions/node_modules/stripe/lib/Error.js:40:16) {"user":"    at Function.generate (/Users/edouardtoulet/Desktop/Js/REACT/amazon-clone/functions/node_modules/stripe/lib/Error.js:40:16)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     at Function.generate (/Users/edouardtoulet/Desktop/Js/REACT/amazon-clone/functions/node_modules/stripe/lib/Error.js:40:16)"}}
[info] >      at res.toJSON.then.StripeAPIError.message (/Users/edouardtoulet/Desktop/Js/REACT/amazon-clone/functions/node_modules/stripe/lib/StripeResource.js:220:35) {"user":"    at res.toJSON.then.StripeAPIError.message (/Users/edouardtoulet/Desktop/Js/REACT/amazon-clone/functions/node_modules/stripe/lib/StripeResource.js:220:35)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     at res.toJSON.then.StripeAPIError.message (/Users/edouardtoulet/Desktop/Js/REACT/amazon-clone/functions/node_modules/stripe/lib/StripeResource.js:220:35)"}}
[info] >      at processTicksAndRejections (internal/process/task_queues.js:93:5) {"user":"    at processTicksAndRejections (internal/process/task_queues.js:93:5)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     at processTicksAndRejections (internal/process/task_queues.js:93:5)"}}
[info] >  (Use `node --trace-warnings ...` to show where the warning was created) {"user":"(Use `node --trace-warnings ...` to show where the warning was created)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m (Use `node --trace-warnings ...` to show where the warning was created)"}}
[info] >  (node:24020) UnhandledPromiseRejectionWarning: Unhandled promise rejection. This error originated either by throwing inside of an async function without a catch block, or by rejecting a promise which was not handled with .catch(). To terminate the node process on unhandled promise rejection, use the CLI flag `--unhandled-rejections=strict` (see https://nodejs.org/api/cli.html#cli_unhandled_rejections_mode). (rejection id: 1) {"user":"(node:24020) UnhandledPromiseRejectionWarning: Unhandled promise rejection. This error originated either by throwing inside of an async function without a catch block, or by rejecting a promise which was not handled with .catch(). To terminate the node process on unhandled promise rejection, use the CLI flag `--unhandled-rejections=strict` (see https://nodejs.org/api/cli.html#cli_unhandled_rejections_mode). (rejection id: 1)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m (node:24020) UnhandledPromiseRejectionWarning: Unhandled promise rejection. This error originated either by throwing inside of an async function without a catch block, or by rejecting a promise which was not handled with .catch(). To terminate the node process on unhandled promise rejection, use the CLI flag `--unhandled-rejections=strict` (see https://nodejs.org/api/cli.html#cli_unhandled_rejections_mode). (rejection id: 1)"}}
[info] >  (node:24020) [DEP0018] DeprecationWarning: Unhandled promise rejections are deprecated. In the future, promise rejections that are not handled will terminate the Node.js process with a non-zero exit code. {"user":"(node:24020) [DEP0018] DeprecationWarning: Unhandled promise rejections are deprecated. In the future, promise rejections that are not handled will terminate the Node.js process with a non-zero exit code.","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m (node:24020) [DEP0018] DeprecationWarning: Unhandled promise rejections are deprecated. In the future, promise rejections that are not handled will terminate the Node.js process with a non-zero exit code."}}
[warn] ⚠  functions: Your function timed out after ~60s. To configure this timeout, see
      https://firebase.google.com/docs/functions/manage-functions#set_timeout_and_memory_allocation. {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"Your function timed out after ~60s. To configure this timeout, see\n      https://firebase.google.com/docs/functions/manage-functions#set_timeout_and_memory_allocation."}}
[info] >  /usr/local/lib/node_modules/firebase-tools/lib/emulator/functionsEmulatorRuntime.js:679 {"user":"/usr/local/lib/node_modules/firebase-tools/lib/emulator/functionsEmulatorRuntime.js:679","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m /usr/local/lib/node_modules/firebase-tools/lib/emulator/functionsEmulatorRuntime.js:679"}}
[info] >              throw new Error("Function timed out."); {"user":"            throw new Error(\"Function timed out.\");","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m             throw new Error(\"Function timed out.\");"}}
[info] >              ^ {"user":"            ^","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m             ^"}}
[info] >   {"user":"","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m "}}
[info] >  Error: Function timed out. {"user":"Error: Function timed out.","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m Error: Function timed out."}}
[info] >      at Timeout._onTimeout (/usr/local/lib/node_modules/firebase-tools/lib/emulator/functionsEmulatorRuntime.js:679:19) {"user":"    at Timeout._onTimeout (/usr/local/lib/node_modules/firebase-tools/lib/emulator/functionsEmulatorRuntime.js:679:19)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     at Timeout._onTimeout (/usr/local/lib/node_modules/firebase-tools/lib/emulator/functionsEmulatorRuntime.js:679:19)"}}
[info] >      at listOnTimeout (internal/timers.js:554:17) {"user":"    at listOnTimeout (internal/timers.js:554:17)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     at listOnTimeout (internal/timers.js:554:17)"}}
[info] >      at processTimers (internal/timers.js:497:7) {"user":"    at processTimers (internal/timers.js:497:7)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     at processTimers (internal/timers.js:497:7)"}}
[debug] [2021-09-22T20:18:27.998Z] [worker-us-central1-api-2e5e5517-b630-4550-8e52-708891d03f53]: exited {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-api-2e5e5517-b630-4550-8e52-708891d03f53]: exited"}}
[debug] [2021-09-22T20:18:27.999Z] [worker-us-central1-api-2e5e5517-b630-4550-8e52-708891d03f53]: FINISHED {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-api-2e5e5517-b630-4550-8e52-708891d03f53]: FINISHED"}}
[debug] [2021-09-22T20:18:27.999Z] [work-queue] {"queueLength":0,"workRunningCount":0}
[debug] [2021-09-23T08:41:52.768Z] [work-queue] {"queueLength":1,"workRunningCount":0}
[debug] [2021-09-23T08:41:52.776Z] [work-queue] {"queueLength":0,"workRunningCount":1}
[debug] [2021-09-23T08:41:52.778Z] Accepted request POST /clone-e655c/us-central1/api/payments/create?total=37599 --> us-central1-api
[debug] [2021-09-23T08:41:52.791Z] [worker-pool] Cleaned up workers for us-central1-api: 1 --> 0 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Cleaned up workers for us-central1-api: 1 --> 0"}}
[debug] [2021-09-23T08:41:52.860Z] [worker-pool] addWorker(us-central1-api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] addWorker(us-central1-api)"}}
[debug] [2021-09-23T08:41:52.860Z] [worker-pool] Adding worker with key us-central1-api, total=1 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Adding worker with key us-central1-api, total=1"}}
[debug] [2021-09-23T08:41:52.861Z] [worker-pool] submitWork(triggerId=us-central1-api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitWork(triggerId=us-central1-api)"}}
[debug] [2021-09-23T08:41:52.861Z] [worker-us-central1-api-f116638e-3cb5-4b7b-b605-46140cfa1b6e]: Assigning socketPath: /var/folders/1q/t08t1c7147b3jyhcc6c2xwfr0000gn/T/fire_emu_25192.sock {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-api-f116638e-3cb5-4b7b-b605-46140cfa1b6e]: Assigning socketPath: /var/folders/1q/t08t1c7147b3jyhcc6c2xwfr0000gn/T/fire_emu_25192.sock"}}
[debug] [2021-09-23T08:41:52.862Z] [worker-us-central1-api-f116638e-3cb5-4b7b-b605-46140cfa1b6e]: BUSY {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-api-f116638e-3cb5-4b7b-b605-46140cfa1b6e]: BUSY"}}
[debug] [2021-09-23T08:41:53.764Z] [runtime-status] [25192] Functions runtime initialized. {"cwd":"/Users/edouardtoulet/Desktop/Js/REACT/amazon-clone/functions","node_version":"14.15.5"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [25192] Functions runtime initialized. {\"cwd\":\"/Users/edouardtoulet/Desktop/Js/REACT/amazon-clone/functions\",\"node_version\":\"14.15.5\"}"}}
[debug] [2021-09-23T08:41:53.779Z] [runtime-status] [25192] Disabled runtime features: undefined {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [25192] Disabled runtime features: undefined"}}
[debug] [2021-09-23T08:41:53.787Z] [runtime-status] [25192] Resolved module firebase-admin {"declared":true,"installed":true,"version":"9.11.1","resolution":"/Users/edouardtoulet/Desktop/Js/REACT/amazon-clone/functions/node_modules/firebase-admin/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [25192] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"9.11.1\",\"resolution\":\"/Users/edouardtoulet/Desktop/Js/REACT/amazon-clone/functions/node_modules/firebase-admin/lib/index.js\"}"}}
[debug] [2021-09-23T08:41:53.790Z] [runtime-status] [25192] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.15.7","resolution":"/Users/edouardtoulet/Desktop/Js/REACT/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [25192] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.15.7\",\"resolution\":\"/Users/edouardtoulet/Desktop/Js/REACT/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2021-09-23T08:41:53.796Z] [runtime-status] [25192] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.15.7","resolution":"/Users/edouardtoulet/Desktop/Js/REACT/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [25192] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.15.7\",\"resolution\":\"/Users/edouardtoulet/Desktop/Js/REACT/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2021-09-23T08:41:53.801Z] [runtime-status] [25192] Outgoing network have been stubbed. [{"name":"http","status":"mocked"},{"name":"http","status":"mocked"},{"name":"https","status":"mocked"},{"name":"https","status":"mocked"},{"name":"net","status":"mocked"}] {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [25192] Outgoing network have been stubbed. [{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"net\",\"status\":\"mocked\"}]"}}
[debug] [2021-09-23T08:41:53.802Z] [runtime-status] [25192] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.15.7","resolution":"/Users/edouardtoulet/Desktop/Js/REACT/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [25192] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.15.7\",\"resolution\":\"/Users/edouardtoulet/Desktop/Js/REACT/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2021-09-23T08:41:53.902Z] [runtime-status] [25192] Checked functions.config() {"config":{}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [25192] Checked functions.config() {\"config\":{}}"}}
[debug] [2021-09-23T08:41:53.902Z] [runtime-status] [25192] firebase-functions has been stubbed. {"functionsResolution":{"declared":true,"installed":true,"version":"3.15.7","resolution":"/Users/edouardtoulet/Desktop/Js/REACT/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [25192] firebase-functions has been stubbed. {\"functionsResolution\":{\"declared\":true,\"installed\":true,\"version\":\"3.15.7\",\"resolution\":\"/Users/edouardtoulet/Desktop/Js/REACT/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}}"}}
[debug] [2021-09-23T08:41:53.903Z] [runtime-status] [25192] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.15.7","resolution":"/Users/edouardtoulet/Desktop/Js/REACT/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [25192] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.15.7\",\"resolution\":\"/Users/edouardtoulet/Desktop/Js/REACT/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2021-09-23T08:41:53.905Z] [runtime-status] [25192] Resolved module firebase-admin {"declared":true,"installed":true,"version":"9.11.1","resolution":"/Users/edouardtoulet/Desktop/Js/REACT/amazon-clone/functions/node_modules/firebase-admin/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [25192] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"9.11.1\",\"resolution\":\"/Users/edouardtoulet/Desktop/Js/REACT/amazon-clone/functions/node_modules/firebase-admin/lib/index.js\"}"}}
[debug] [2021-09-23T08:41:53.907Z] [runtime-status] [25192] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.15.7","resolution":"/Users/edouardtoulet/Desktop/Js/REACT/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [25192] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.15.7\",\"resolution\":\"/Users/edouardtoulet/Desktop/Js/REACT/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2021-09-23T08:41:53.910Z] [runtime-status] [25192] firebase-admin has been stubbed. {"adminResolution":{"declared":true,"installed":true,"version":"9.11.1","resolution":"/Users/edouardtoulet/Desktop/Js/REACT/amazon-clone/functions/node_modules/firebase-admin/lib/index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [25192] firebase-admin has been stubbed. {\"adminResolution\":{\"declared\":true,\"installed\":true,\"version\":\"9.11.1\",\"resolution\":\"/Users/edouardtoulet/Desktop/Js/REACT/amazon-clone/functions/node_modules/firebase-admin/lib/index.js\"}}"}}
[debug] [2021-09-23T08:41:54.141Z] [runtime-status] [25192] Trigger "us-central1-api" has been found, beginning invocation! {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [25192] Trigger \"us-central1-api\" has been found, beginning invocation!"}}
[info] i  functions: Beginning execution of "us-central1-api" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"Beginning execution of \"us-central1-api\""}}
[debug] [2021-09-23T08:41:54.144Z] [runtime-status] [25192] triggerDefinition {"httpsTrigger":{},"name":"api","entryPoint":"api","regions":["us-central1"],"region":"us-central1","id":"us-central1-api"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [25192] triggerDefinition {\"httpsTrigger\":{},\"name\":\"api\",\"entryPoint\":\"api\",\"regions\":[\"us-central1\"],\"region\":\"us-central1\",\"id\":\"us-central1-api\"}"}}
[debug] [2021-09-23T08:41:54.144Z] [runtime-status] [25192] Running us-central1-api in mode HTTPS {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [25192] Running us-central1-api in mode HTTPS"}}
[debug] [2021-09-23T08:41:54.148Z] [runtime-status] [25192] Attempting to listen to socketPath: /var/folders/1q/t08t1c7147b3jyhcc6c2xwfr0000gn/T/fire_emu_25192.sock {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [25192] Attempting to listen to socketPath: /var/folders/1q/t08t1c7147b3jyhcc6c2xwfr0000gn/T/fire_emu_25192.sock"}}
[debug] [2021-09-23T08:41:54.158Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2021-09-23T08:41:54.161Z] [functions] Got req.url=/clone-e655c/us-central1/api/payments/create?total=37599, mapping to path=/payments/create?total=37599 {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Got req.url=/clone-e655c/us-central1/api/payments/create?total=37599, mapping to path=/payments/create?total=37599"}}
[debug] [2021-09-23T08:41:54.211Z] [runtime-status] [25192] Ephemeral server handling POST request {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [25192] Ephemeral server handling POST request"}}
[info] >  Payment Request received BOOOOOM !! 37599 {"user":"Payment Request received BOOOOOM !! 37599","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m Payment Request received BOOOOOM !! 37599"}}
[debug] [2021-09-23T08:41:54.224Z] [runtime-status] [25192] Ephemeral server survived. {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [25192] Ephemeral server survived."}}
[info] i  functions: Finished "us-central1-api" in ~1s {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"Finished \"us-central1-api\" in ~1s"}}
[debug] [2021-09-23T08:41:54.928Z] [worker-us-central1-api-f116638e-3cb5-4b7b-b605-46140cfa1b6e]: IDLE {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-api-f116638e-3cb5-4b7b-b605-46140cfa1b6e]: IDLE"}}
[debug] [2021-09-23T08:41:54.928Z] [work-queue] {"queueLength":0,"workRunningCount":0}
[debug] [2021-09-23T08:43:47.025Z] [work-queue] {"queueLength":1,"workRunningCount":0}
[debug] [2021-09-23T08:43:47.025Z] [work-queue] {"queueLength":0,"workRunningCount":1}
[debug] [2021-09-23T08:43:47.025Z] Accepted request POST /clone-e655c/us-central1/api/payments/create?total=0 --> us-central1-api
[debug] [2021-09-23T08:43:47.026Z] [worker-pool] submitWork(triggerId=us-central1-api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitWork(triggerId=us-central1-api)"}}
[debug] [2021-09-23T08:43:47.026Z] [worker-us-central1-api-f116638e-3cb5-4b7b-b605-46140cfa1b6e]: Assigning socketPath: /var/folders/1q/t08t1c7147b3jyhcc6c2xwfr0000gn/T/fire_emu_25192.sock {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-api-f116638e-3cb5-4b7b-b605-46140cfa1b6e]: Assigning socketPath: /var/folders/1q/t08t1c7147b3jyhcc6c2xwfr0000gn/T/fire_emu_25192.sock"}}
[debug] [2021-09-23T08:43:47.026Z] [worker-us-central1-api-f116638e-3cb5-4b7b-b605-46140cfa1b6e]: BUSY {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-api-f116638e-3cb5-4b7b-b605-46140cfa1b6e]: BUSY"}}
[debug] [2021-09-23T08:43:47.027Z] [runtime-status] [25192] Trigger "us-central1-api" has been found, beginning invocation! {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [25192] Trigger \"us-central1-api\" has been found, beginning invocation!"}}
[info] i  functions: Beginning execution of "us-central1-api" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"Beginning execution of \"us-central1-api\""}}
[debug] [2021-09-23T08:43:47.028Z] [runtime-status] [25192] triggerDefinition {"httpsTrigger":{},"name":"api","entryPoint":"api","regions":["us-central1"],"region":"us-central1","id":"us-central1-api"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [25192] triggerDefinition {\"httpsTrigger\":{},\"name\":\"api\",\"entryPoint\":\"api\",\"regions\":[\"us-central1\"],\"region\":\"us-central1\",\"id\":\"us-central1-api\"}"}}
[debug] [2021-09-23T08:43:47.028Z] [runtime-status] [25192] Running us-central1-api in mode HTTPS {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [25192] Running us-central1-api in mode HTTPS"}}
[debug] [2021-09-23T08:43:47.028Z] [runtime-status] [25192] Attempting to listen to socketPath: /var/folders/1q/t08t1c7147b3jyhcc6c2xwfr0000gn/T/fire_emu_25192.sock {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [25192] Attempting to listen to socketPath: /var/folders/1q/t08t1c7147b3jyhcc6c2xwfr0000gn/T/fire_emu_25192.sock"}}
[debug] [2021-09-23T08:43:47.029Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2021-09-23T08:43:47.030Z] [functions] Got req.url=/clone-e655c/us-central1/api/payments/create?total=0, mapping to path=/payments/create?total=0 {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Got req.url=/clone-e655c/us-central1/api/payments/create?total=0, mapping to path=/payments/create?total=0"}}
[debug] [2021-09-23T08:43:47.034Z] [runtime-status] [25192] Ephemeral server handling POST request {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [25192] Ephemeral server handling POST request"}}
[info] >  Payment Request received BOOOOOM !! 0 {"user":"Payment Request received BOOOOOM !! 0","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m Payment Request received BOOOOOM !! 0"}}
[debug] [2021-09-23T08:43:47.037Z] [runtime-status] [25192] Ephemeral server survived. {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [25192] Ephemeral server survived."}}
[info] >  (node:25192) UnhandledPromiseRejectionWarning: Error: This value must be greater than or equal to 1. {"user":"(node:25192) UnhandledPromiseRejectionWarning: Error: This value must be greater than or equal to 1.","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m (node:25192) UnhandledPromiseRejectionWarning: Error: This value must be greater than or equal to 1."}}
[info] >      at Function.generate (/Users/edouardtoulet/Desktop/Js/REACT/amazon-clone/functions/node_modules/stripe/lib/Error.js:40:16) {"user":"    at Function.generate (/Users/edouardtoulet/Desktop/Js/REACT/amazon-clone/functions/node_modules/stripe/lib/Error.js:40:16)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     at Function.generate (/Users/edouardtoulet/Desktop/Js/REACT/amazon-clone/functions/node_modules/stripe/lib/Error.js:40:16)"}}
[info] >      at res.toJSON.then.StripeAPIError.message (/Users/edouardtoulet/Desktop/Js/REACT/amazon-clone/functions/node_modules/stripe/lib/StripeResource.js:220:35) {"user":"    at res.toJSON.then.StripeAPIError.message (/Users/edouardtoulet/Desktop/Js/REACT/amazon-clone/functions/node_modules/stripe/lib/StripeResource.js:220:35)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     at res.toJSON.then.StripeAPIError.message (/Users/edouardtoulet/Desktop/Js/REACT/amazon-clone/functions/node_modules/stripe/lib/StripeResource.js:220:35)"}}
[info] >      at processTicksAndRejections (internal/process/task_queues.js:93:5) {"user":"    at processTicksAndRejections (internal/process/task_queues.js:93:5)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     at processTicksAndRejections (internal/process/task_queues.js:93:5)"}}
[info] >  (Use `node --trace-warnings ...` to show where the warning was created) {"user":"(Use `node --trace-warnings ...` to show where the warning was created)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m (Use `node --trace-warnings ...` to show where the warning was created)"}}
[info] >  (node:25192) UnhandledPromiseRejectionWarning: Unhandled promise rejection. This error originated either by throwing inside of an async function without a catch block, or by rejecting a promise which was not handled with .catch(). To terminate the node process on unhandled promise rejection, use the CLI flag `--unhandled-rejections=strict` (see https://nodejs.org/api/cli.html#cli_unhandled_rejections_mode). (rejection id: 1) {"user":"(node:25192) UnhandledPromiseRejectionWarning: Unhandled promise rejection. This error originated either by throwing inside of an async function without a catch block, or by rejecting a promise which was not handled with .catch(). To terminate the node process on unhandled promise rejection, use the CLI flag `--unhandled-rejections=strict` (see https://nodejs.org/api/cli.html#cli_unhandled_rejections_mode). (rejection id: 1)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m (node:25192) UnhandledPromiseRejectionWarning: Unhandled promise rejection. This error originated either by throwing inside of an async function without a catch block, or by rejecting a promise which was not handled with .catch(). To terminate the node process on unhandled promise rejection, use the CLI flag `--unhandled-rejections=strict` (see https://nodejs.org/api/cli.html#cli_unhandled_rejections_mode). (rejection id: 1)"}}
[info] >  (node:25192) [DEP0018] DeprecationWarning: Unhandled promise rejections are deprecated. In the future, promise rejections that are not handled will terminate the Node.js process with a non-zero exit code. {"user":"(node:25192) [DEP0018] DeprecationWarning: Unhandled promise rejections are deprecated. In the future, promise rejections that are not handled will terminate the Node.js process with a non-zero exit code.","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m (node:25192) [DEP0018] DeprecationWarning: Unhandled promise rejections are deprecated. In the future, promise rejections that are not handled will terminate the Node.js process with a non-zero exit code."}}
[warn] ⚠  functions: Your function timed out after ~60s. To configure this timeout, see
      https://firebase.google.com/docs/functions/manage-functions#set_timeout_and_memory_allocation. {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"Your function timed out after ~60s. To configure this timeout, see\n      https://firebase.google.com/docs/functions/manage-functions#set_timeout_and_memory_allocation."}}
[info] >  /usr/local/lib/node_modules/firebase-tools/lib/emulator/functionsEmulatorRuntime.js:679 {"user":"/usr/local/lib/node_modules/firebase-tools/lib/emulator/functionsEmulatorRuntime.js:679","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m /usr/local/lib/node_modules/firebase-tools/lib/emulator/functionsEmulatorRuntime.js:679"}}
[info] >              throw new Error("Function timed out."); {"user":"            throw new Error(\"Function timed out.\");","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m             throw new Error(\"Function timed out.\");"}}
[info] >              ^ {"user":"            ^","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m             ^"}}
[info] >   {"user":"","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m "}}
[info] >  Error: Function timed out. {"user":"Error: Function timed out.","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m Error: Function timed out."}}
[info] >      at Timeout._onTimeout (/usr/local/lib/node_modules/firebase-tools/lib/emulator/functionsEmulatorRuntime.js:679:19) {"user":"    at Timeout._onTimeout (/usr/local/lib/node_modules/firebase-tools/lib/emulator/functionsEmulatorRuntime.js:679:19)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     at Timeout._onTimeout (/usr/local/lib/node_modules/firebase-tools/lib/emulator/functionsEmulatorRuntime.js:679:19)"}}
[info] >      at listOnTimeout (internal/timers.js:554:17) {"user":"    at listOnTimeout (internal/timers.js:554:17)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     at listOnTimeout (internal/timers.js:554:17)"}}
[info] >      at processTimers (internal/timers.js:497:7) {"user":"    at processTimers (internal/timers.js:497:7)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     at processTimers (internal/timers.js:497:7)"}}
[debug] [2021-09-23T08:44:47.044Z] [worker-us-central1-api-f116638e-3cb5-4b7b-b605-46140cfa1b6e]: exited {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-api-f116638e-3cb5-4b7b-b605-46140cfa1b6e]: exited"}}
[debug] [2021-09-23T08:44:47.044Z] [worker-us-central1-api-f116638e-3cb5-4b7b-b605-46140cfa1b6e]: FINISHED {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-api-f116638e-3cb5-4b7b-b605-46140cfa1b6e]: FINISHED"}}
[debug] [2021-09-23T08:44:47.044Z] [work-queue] {"queueLength":0,"workRunningCount":0}
[debug] [2021-09-23T08:45:19.412Z] [work-queue] {"queueLength":1,"workRunningCount":0}
[debug] [2021-09-23T08:45:19.412Z] [work-queue] {"queueLength":0,"workRunningCount":1}
[debug] [2021-09-23T08:45:19.412Z] Accepted request POST /clone-e655c/us-central1/api/payments/create?total=37599 --> us-central1-api
[debug] [2021-09-23T08:45:19.413Z] [worker-pool] Cleaned up workers for us-central1-api: 1 --> 0 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Cleaned up workers for us-central1-api: 1 --> 0"}}
[debug] [2021-09-23T08:45:19.440Z] [worker-pool] addWorker(us-central1-api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] addWorker(us-central1-api)"}}
[debug] [2021-09-23T08:45:19.441Z] [worker-pool] Adding worker with key us-central1-api, total=1 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Adding worker with key us-central1-api, total=1"}}
[debug] [2021-09-23T08:45:19.442Z] [worker-pool] submitWork(triggerId=us-central1-api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitWork(triggerId=us-central1-api)"}}
[debug] [2021-09-23T08:45:19.442Z] [worker-us-central1-api-c482e435-c22c-4560-84cd-1876d2d1b403]: Assigning socketPath: /var/folders/1q/t08t1c7147b3jyhcc6c2xwfr0000gn/T/fire_emu_27013.sock {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-api-c482e435-c22c-4560-84cd-1876d2d1b403]: Assigning socketPath: /var/folders/1q/t08t1c7147b3jyhcc6c2xwfr0000gn/T/fire_emu_27013.sock"}}
[debug] [2021-09-23T08:45:19.443Z] [worker-us-central1-api-c482e435-c22c-4560-84cd-1876d2d1b403]: BUSY {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-api-c482e435-c22c-4560-84cd-1876d2d1b403]: BUSY"}}
[debug] [2021-09-23T08:45:20.277Z] [runtime-status] [27013] Functions runtime initialized. {"cwd":"/Users/edouardtoulet/Desktop/Js/REACT/amazon-clone/functions","node_version":"14.15.5"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [27013] Functions runtime initialized. {\"cwd\":\"/Users/edouardtoulet/Desktop/Js/REACT/amazon-clone/functions\",\"node_version\":\"14.15.5\"}"}}
[debug] [2021-09-23T08:45:20.282Z] [runtime-status] [27013] Disabled runtime features: undefined {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [27013] Disabled runtime features: undefined"}}
[debug] [2021-09-23T08:45:20.284Z] [runtime-status] [27013] Resolved module firebase-admin {"declared":true,"installed":true,"version":"9.11.1","resolution":"/Users/edouardtoulet/Desktop/Js/REACT/amazon-clone/functions/node_modules/firebase-admin/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [27013] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"9.11.1\",\"resolution\":\"/Users/edouardtoulet/Desktop/Js/REACT/amazon-clone/functions/node_modules/firebase-admin/lib/index.js\"}"}}
[debug] [2021-09-23T08:45:20.291Z] [runtime-status] [27013] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.15.7","resolution":"/Users/edouardtoulet/Desktop/Js/REACT/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [27013] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.15.7\",\"resolution\":\"/Users/edouardtoulet/Desktop/Js/REACT/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2021-09-23T08:45:20.293Z] [runtime-status] [27013] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.15.7","resolution":"/Users/edouardtoulet/Desktop/Js/REACT/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [27013] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.15.7\",\"resolution\":\"/Users/edouardtoulet/Desktop/Js/REACT/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2021-09-23T08:45:20.296Z] [runtime-status] [27013] Outgoing network have been stubbed. [{"name":"http","status":"mocked"},{"name":"http","status":"mocked"},{"name":"https","status":"mocked"},{"name":"https","status":"mocked"},{"name":"net","status":"mocked"}] {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [27013] Outgoing network have been stubbed. [{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"net\",\"status\":\"mocked\"}]"}}
[debug] [2021-09-23T08:45:20.297Z] [runtime-status] [27013] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.15.7","resolution":"/Users/edouardtoulet/Desktop/Js/REACT/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [27013] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.15.7\",\"resolution\":\"/Users/edouardtoulet/Desktop/Js/REACT/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2021-09-23T08:45:20.366Z] [runtime-status] [27013] Checked functions.config() {"config":{}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [27013] Checked functions.config() {\"config\":{}}"}}
[debug] [2021-09-23T08:45:20.367Z] [runtime-status] [27013] firebase-functions has been stubbed. {"functionsResolution":{"declared":true,"installed":true,"version":"3.15.7","resolution":"/Users/edouardtoulet/Desktop/Js/REACT/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [27013] firebase-functions has been stubbed. {\"functionsResolution\":{\"declared\":true,\"installed\":true,\"version\":\"3.15.7\",\"resolution\":\"/Users/edouardtoulet/Desktop/Js/REACT/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}}"}}
[debug] [2021-09-23T08:45:20.367Z] [runtime-status] [27013] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.15.7","resolution":"/Users/edouardtoulet/Desktop/Js/REACT/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [27013] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.15.7\",\"resolution\":\"/Users/edouardtoulet/Desktop/Js/REACT/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2021-09-23T08:45:20.368Z] [runtime-status] [27013] Resolved module firebase-admin {"declared":true,"installed":true,"version":"9.11.1","resolution":"/Users/edouardtoulet/Desktop/Js/REACT/amazon-clone/functions/node_modules/firebase-admin/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [27013] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"9.11.1\",\"resolution\":\"/Users/edouardtoulet/Desktop/Js/REACT/amazon-clone/functions/node_modules/firebase-admin/lib/index.js\"}"}}
[debug] [2021-09-23T08:45:20.369Z] [runtime-status] [27013] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.15.7","resolution":"/Users/edouardtoulet/Desktop/Js/REACT/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [27013] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.15.7\",\"resolution\":\"/Users/edouardtoulet/Desktop/Js/REACT/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2021-09-23T08:45:20.369Z] [runtime-status] [27013] firebase-admin has been stubbed. {"adminResolution":{"declared":true,"installed":true,"version":"9.11.1","resolution":"/Users/edouardtoulet/Desktop/Js/REACT/amazon-clone/functions/node_modules/firebase-admin/lib/index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [27013] firebase-admin has been stubbed. {\"adminResolution\":{\"declared\":true,\"installed\":true,\"version\":\"9.11.1\",\"resolution\":\"/Users/edouardtoulet/Desktop/Js/REACT/amazon-clone/functions/node_modules/firebase-admin/lib/index.js\"}}"}}
[debug] [2021-09-23T08:45:20.552Z] [runtime-status] [27013] Trigger "us-central1-api" has been found, beginning invocation! {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [27013] Trigger \"us-central1-api\" has been found, beginning invocation!"}}
[info] i  functions: Beginning execution of "us-central1-api" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"Beginning execution of \"us-central1-api\""}}
[debug] [2021-09-23T08:45:20.553Z] [runtime-status] [27013] triggerDefinition {"httpsTrigger":{},"name":"api","entryPoint":"api","regions":["us-central1"],"region":"us-central1","id":"us-central1-api"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [27013] triggerDefinition {\"httpsTrigger\":{},\"name\":\"api\",\"entryPoint\":\"api\",\"regions\":[\"us-central1\"],\"region\":\"us-central1\",\"id\":\"us-central1-api\"}"}}
[debug] [2021-09-23T08:45:20.553Z] [runtime-status] [27013] Running us-central1-api in mode HTTPS {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [27013] Running us-central1-api in mode HTTPS"}}
[debug] [2021-09-23T08:45:20.557Z] [runtime-status] [27013] Attempting to listen to socketPath: /var/folders/1q/t08t1c7147b3jyhcc6c2xwfr0000gn/T/fire_emu_27013.sock {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [27013] Attempting to listen to socketPath: /var/folders/1q/t08t1c7147b3jyhcc6c2xwfr0000gn/T/fire_emu_27013.sock"}}
[debug] [2021-09-23T08:45:20.559Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2021-09-23T08:45:20.560Z] [functions] Got req.url=/clone-e655c/us-central1/api/payments/create?total=37599, mapping to path=/payments/create?total=37599 {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Got req.url=/clone-e655c/us-central1/api/payments/create?total=37599, mapping to path=/payments/create?total=37599"}}
[debug] [2021-09-23T08:45:20.572Z] [runtime-status] [27013] Ephemeral server handling POST request {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [27013] Ephemeral server handling POST request"}}
[info] >  Payment Request received BOOOOOM !! 37599 {"user":"Payment Request received BOOOOOM !! 37599","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m Payment Request received BOOOOOM !! 37599"}}
[debug] [2021-09-23T08:45:20.584Z] [runtime-status] [27013] Ephemeral server survived. {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [27013] Ephemeral server survived."}}
[info] i  functions: Finished "us-central1-api" in ~1s {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"Finished \"us-central1-api\" in ~1s"}}
[debug] [2021-09-23T08:45:21.125Z] [worker-us-central1-api-c482e435-c22c-4560-84cd-1876d2d1b403]: IDLE {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-api-c482e435-c22c-4560-84cd-1876d2d1b403]: IDLE"}}
[debug] [2021-09-23T08:45:21.125Z] [work-queue] {"queueLength":0,"workRunningCount":0}
[debug] [2021-09-23T08:47:11.644Z] [work-queue] {"queueLength":1,"workRunningCount":0}
[debug] [2021-09-23T08:47:11.644Z] [work-queue] {"queueLength":0,"workRunningCount":1}
[debug] [2021-09-23T08:47:11.644Z] Accepted request POST /clone-e655c/us-central1/api/payments/create?total=37599 --> us-central1-api
[debug] [2021-09-23T08:47:11.644Z] [worker-pool] submitWork(triggerId=us-central1-api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitWork(triggerId=us-central1-api)"}}
[debug] [2021-09-23T08:47:11.644Z] [worker-us-central1-api-c482e435-c22c-4560-84cd-1876d2d1b403]: Assigning socketPath: /var/folders/1q/t08t1c7147b3jyhcc6c2xwfr0000gn/T/fire_emu_27013.sock {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-api-c482e435-c22c-4560-84cd-1876d2d1b403]: Assigning socketPath: /var/folders/1q/t08t1c7147b3jyhcc6c2xwfr0000gn/T/fire_emu_27013.sock"}}
[debug] [2021-09-23T08:47:11.644Z] [worker-us-central1-api-c482e435-c22c-4560-84cd-1876d2d1b403]: BUSY {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-api-c482e435-c22c-4560-84cd-1876d2d1b403]: BUSY"}}
[debug] [2021-09-23T08:47:11.648Z] [runtime-status] [27013] Trigger "us-central1-api" has been found, beginning invocation! {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [27013] Trigger \"us-central1-api\" has been found, beginning invocation!"}}
[info] i  functions: Beginning execution of "us-central1-api" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"Beginning execution of \"us-central1-api\""}}
[debug] [2021-09-23T08:47:11.648Z] [runtime-status] [27013] triggerDefinition {"httpsTrigger":{},"name":"api","entryPoint":"api","regions":["us-central1"],"region":"us-central1","id":"us-central1-api"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [27013] triggerDefinition {\"httpsTrigger\":{},\"name\":\"api\",\"entryPoint\":\"api\",\"regions\":[\"us-central1\"],\"region\":\"us-central1\",\"id\":\"us-central1-api\"}"}}
[debug] [2021-09-23T08:47:11.648Z] [runtime-status] [27013] Running us-central1-api in mode HTTPS {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [27013] Running us-central1-api in mode HTTPS"}}
[debug] [2021-09-23T08:47:11.649Z] [runtime-status] [27013] Attempting to listen to socketPath: /var/folders/1q/t08t1c7147b3jyhcc6c2xwfr0000gn/T/fire_emu_27013.sock {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [27013] Attempting to listen to socketPath: /var/folders/1q/t08t1c7147b3jyhcc6c2xwfr0000gn/T/fire_emu_27013.sock"}}
[debug] [2021-09-23T08:47:11.650Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2021-09-23T08:47:11.650Z] [functions] Got req.url=/clone-e655c/us-central1/api/payments/create?total=37599, mapping to path=/payments/create?total=37599 {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Got req.url=/clone-e655c/us-central1/api/payments/create?total=37599, mapping to path=/payments/create?total=37599"}}
[debug] [2021-09-23T08:47:11.656Z] [runtime-status] [27013] Ephemeral server handling POST request {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [27013] Ephemeral server handling POST request"}}
[debug] [2021-09-23T08:47:11.657Z] [runtime-status] [27013] Ephemeral server survived. {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [27013] Ephemeral server survived."}}
[info] >  Payment Request received BOOOOOM !! 37599 {"user":"Payment Request received BOOOOOM !! 37599","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m Payment Request received BOOOOOM !! 37599"}}
[info] i  functions: Finished "us-central1-api" in ~1s {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"Finished \"us-central1-api\" in ~1s"}}
[debug] [2021-09-23T08:47:12.034Z] [worker-us-central1-api-c482e435-c22c-4560-84cd-1876d2d1b403]: IDLE {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-api-c482e435-c22c-4560-84cd-1876d2d1b403]: IDLE"}}
[debug] [2021-09-23T08:47:12.034Z] [work-queue] {"queueLength":0,"workRunningCount":0}
[debug] [2021-09-23T08:48:03.531Z] [work-queue] {"queueLength":1,"workRunningCount":0}
[debug] [2021-09-23T08:48:03.531Z] [work-queue] {"queueLength":0,"workRunningCount":1}
[debug] [2021-09-23T08:48:03.531Z] Accepted request POST /clone-e655c/us-central1/api/payments/create?total=37599 --> us-central1-api
[debug] [2021-09-23T08:48:03.531Z] [worker-pool] submitWork(triggerId=us-central1-api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitWork(triggerId=us-central1-api)"}}
[debug] [2021-09-23T08:48:03.531Z] [worker-us-central1-api-c482e435-c22c-4560-84cd-1876d2d1b403]: Assigning socketPath: /var/folders/1q/t08t1c7147b3jyhcc6c2xwfr0000gn/T/fire_emu_27013.sock {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-api-c482e435-c22c-4560-84cd-1876d2d1b403]: Assigning socketPath: /var/folders/1q/t08t1c7147b3jyhcc6c2xwfr0000gn/T/fire_emu_27013.sock"}}
[debug] [2021-09-23T08:48:03.531Z] [worker-us-central1-api-c482e435-c22c-4560-84cd-1876d2d1b403]: BUSY {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-api-c482e435-c22c-4560-84cd-1876d2d1b403]: BUSY"}}
[debug] [2021-09-23T08:48:03.534Z] [runtime-status] [27013] Trigger "us-central1-api" has been found, beginning invocation! {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [27013] Trigger \"us-central1-api\" has been found, beginning invocation!"}}
[info] i  functions: Beginning execution of "us-central1-api" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"Beginning execution of \"us-central1-api\""}}
[debug] [2021-09-23T08:48:03.538Z] [runtime-status] [27013] triggerDefinition {"httpsTrigger":{},"name":"api","entryPoint":"api","regions":["us-central1"],"region":"us-central1","id":"us-central1-api"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [27013] triggerDefinition {\"httpsTrigger\":{},\"name\":\"api\",\"entryPoint\":\"api\",\"regions\":[\"us-central1\"],\"region\":\"us-central1\",\"id\":\"us-central1-api\"}"}}
[debug] [2021-09-23T08:48:03.538Z] [runtime-status] [27013] Running us-central1-api in mode HTTPS {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [27013] Running us-central1-api in mode HTTPS"}}
[debug] [2021-09-23T08:48:03.539Z] [runtime-status] [27013] Attempting to listen to socketPath: /var/folders/1q/t08t1c7147b3jyhcc6c2xwfr0000gn/T/fire_emu_27013.sock {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [27013] Attempting to listen to socketPath: /var/folders/1q/t08t1c7147b3jyhcc6c2xwfr0000gn/T/fire_emu_27013.sock"}}
[debug] [2021-09-23T08:48:03.543Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2021-09-23T08:48:03.544Z] [functions] Got req.url=/clone-e655c/us-central1/api/payments/create?total=37599, mapping to path=/payments/create?total=37599 {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Got req.url=/clone-e655c/us-central1/api/payments/create?total=37599, mapping to path=/payments/create?total=37599"}}
[debug] [2021-09-23T08:48:03.549Z] [runtime-status] [27013] Ephemeral server handling POST request {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [27013] Ephemeral server handling POST request"}}
[debug] [2021-09-23T08:48:03.549Z] [runtime-status] [27013] Ephemeral server survived. {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [27013] Ephemeral server survived."}}
[info] >  Payment Request received BOOOOOM !! 37599 {"user":"Payment Request received BOOOOOM !! 37599","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m Payment Request received BOOOOOM !! 37599"}}
[info] i  functions: Finished "us-central1-api" in ~1s {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"Finished \"us-central1-api\" in ~1s"}}
[debug] [2021-09-23T08:48:03.928Z] [worker-us-central1-api-c482e435-c22c-4560-84cd-1876d2d1b403]: IDLE {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-api-c482e435-c22c-4560-84cd-1876d2d1b403]: IDLE"}}
[debug] [2021-09-23T08:48:03.929Z] [work-queue] {"queueLength":0,"workRunningCount":0}
[debug] [2021-09-23T08:50:53.018Z] [work-queue] {"queueLength":1,"workRunningCount":0}
[debug] [2021-09-23T08:50:53.018Z] [work-queue] {"queueLength":0,"workRunningCount":1}
[debug] [2021-09-23T08:50:53.018Z] Accepted request POST /clone-e655c/us-central1/api/payments/create?total=37599 --> us-central1-api
[debug] [2021-09-23T08:50:53.018Z] [worker-pool] submitWork(triggerId=us-central1-api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitWork(triggerId=us-central1-api)"}}
[debug] [2021-09-23T08:50:53.018Z] [worker-us-central1-api-c482e435-c22c-4560-84cd-1876d2d1b403]: Assigning socketPath: /var/folders/1q/t08t1c7147b3jyhcc6c2xwfr0000gn/T/fire_emu_27013.sock {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-api-c482e435-c22c-4560-84cd-1876d2d1b403]: Assigning socketPath: /var/folders/1q/t08t1c7147b3jyhcc6c2xwfr0000gn/T/fire_emu_27013.sock"}}
[debug] [2021-09-23T08:50:53.018Z] [worker-us-central1-api-c482e435-c22c-4560-84cd-1876d2d1b403]: BUSY {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-api-c482e435-c22c-4560-84cd-1876d2d1b403]: BUSY"}}
[debug] [2021-09-23T08:50:53.022Z] [runtime-status] [27013] Trigger "us-central1-api" has been found, beginning invocation! {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [27013] Trigger \"us-central1-api\" has been found, beginning invocation!"}}
[info] i  functions: Beginning execution of "us-central1-api" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"Beginning execution of \"us-central1-api\""}}
[debug] [2021-09-23T08:50:53.023Z] [runtime-status] [27013] triggerDefinition {"httpsTrigger":{},"name":"api","entryPoint":"api","regions":["us-central1"],"region":"us-central1","id":"us-central1-api"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [27013] triggerDefinition {\"httpsTrigger\":{},\"name\":\"api\",\"entryPoint\":\"api\",\"regions\":[\"us-central1\"],\"region\":\"us-central1\",\"id\":\"us-central1-api\"}"}}
[debug] [2021-09-23T08:50:53.023Z] [runtime-status] [27013] Running us-central1-api in mode HTTPS {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [27013] Running us-central1-api in mode HTTPS"}}
[debug] [2021-09-23T08:50:53.036Z] [runtime-status] [27013] Attempting to listen to socketPath: /var/folders/1q/t08t1c7147b3jyhcc6c2xwfr0000gn/T/fire_emu_27013.sock {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [27013] Attempting to listen to socketPath: /var/folders/1q/t08t1c7147b3jyhcc6c2xwfr0000gn/T/fire_emu_27013.sock"}}
[debug] [2021-09-23T08:50:53.039Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2021-09-23T08:50:53.055Z] [functions] Got req.url=/clone-e655c/us-central1/api/payments/create?total=37599, mapping to path=/payments/create?total=37599 {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Got req.url=/clone-e655c/us-central1/api/payments/create?total=37599, mapping to path=/payments/create?total=37599"}}
[debug] [2021-09-23T08:50:53.060Z] [runtime-status] [27013] Ephemeral server handling POST request {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [27013] Ephemeral server handling POST request"}}
[info] >  Payment Request received BOOOOOM !! 37599 {"user":"Payment Request received BOOOOOM !! 37599","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m Payment Request received BOOOOOM !! 37599"}}
[debug] [2021-09-23T08:50:53.061Z] [runtime-status] [27013] Ephemeral server survived. {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [27013] Ephemeral server survived."}}
[info] i  functions: Finished "us-central1-api" in ~1s {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"Finished \"us-central1-api\" in ~1s"}}
[debug] [2021-09-23T08:50:53.438Z] [worker-us-central1-api-c482e435-c22c-4560-84cd-1876d2d1b403]: IDLE {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-api-c482e435-c22c-4560-84cd-1876d2d1b403]: IDLE"}}
[debug] [2021-09-23T08:50:53.439Z] [work-queue] {"queueLength":0,"workRunningCount":0}
[debug] [2021-09-23T09:07:06.121Z] [work-queue] {"queueLength":1,"workRunningCount":0}
[debug] [2021-09-23T09:07:06.124Z] [work-queue] {"queueLength":0,"workRunningCount":1}
[debug] [2021-09-23T09:07:06.124Z] Accepted request POST /clone-e655c/us-central1/api/payments/create?total=5699 --> us-central1-api
[debug] [2021-09-23T09:07:06.125Z] [worker-pool] submitWork(triggerId=us-central1-api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitWork(triggerId=us-central1-api)"}}
[debug] [2021-09-23T09:07:06.127Z] [worker-us-central1-api-c482e435-c22c-4560-84cd-1876d2d1b403]: Assigning socketPath: /var/folders/1q/t08t1c7147b3jyhcc6c2xwfr0000gn/T/fire_emu_27013.sock {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-api-c482e435-c22c-4560-84cd-1876d2d1b403]: Assigning socketPath: /var/folders/1q/t08t1c7147b3jyhcc6c2xwfr0000gn/T/fire_emu_27013.sock"}}
[debug] [2021-09-23T09:07:06.127Z] [worker-us-central1-api-c482e435-c22c-4560-84cd-1876d2d1b403]: BUSY {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-api-c482e435-c22c-4560-84cd-1876d2d1b403]: BUSY"}}
[debug] [2021-09-23T09:07:06.138Z] [runtime-status] [27013] Trigger "us-central1-api" has been found, beginning invocation! {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [27013] Trigger \"us-central1-api\" has been found, beginning invocation!"}}
[info] i  functions: Beginning execution of "us-central1-api" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"Beginning execution of \"us-central1-api\""}}
[debug] [2021-09-23T09:07:06.141Z] [runtime-status] [27013] triggerDefinition {"httpsTrigger":{},"name":"api","entryPoint":"api","regions":["us-central1"],"region":"us-central1","id":"us-central1-api"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [27013] triggerDefinition {\"httpsTrigger\":{},\"name\":\"api\",\"entryPoint\":\"api\",\"regions\":[\"us-central1\"],\"region\":\"us-central1\",\"id\":\"us-central1-api\"}"}}
[debug] [2021-09-23T09:07:06.141Z] [runtime-status] [27013] Running us-central1-api in mode HTTPS {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [27013] Running us-central1-api in mode HTTPS"}}
[debug] [2021-09-23T09:07:06.141Z] [runtime-status] [27013] Attempting to listen to socketPath: /var/folders/1q/t08t1c7147b3jyhcc6c2xwfr0000gn/T/fire_emu_27013.sock {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [27013] Attempting to listen to socketPath: /var/folders/1q/t08t1c7147b3jyhcc6c2xwfr0000gn/T/fire_emu_27013.sock"}}
[debug] [2021-09-23T09:07:06.146Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2021-09-23T09:07:06.146Z] [functions] Got req.url=/clone-e655c/us-central1/api/payments/create?total=5699, mapping to path=/payments/create?total=5699 {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Got req.url=/clone-e655c/us-central1/api/payments/create?total=5699, mapping to path=/payments/create?total=5699"}}
[debug] [2021-09-23T09:07:06.160Z] [runtime-status] [27013] Ephemeral server handling POST request {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [27013] Ephemeral server handling POST request"}}
[info] >  Payment Request received BOOOOOM !! 5699 {"user":"Payment Request received BOOOOOM !! 5699","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m Payment Request received BOOOOOM !! 5699"}}
[debug] [2021-09-23T09:07:06.168Z] [runtime-status] [27013] Ephemeral server survived. {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [27013] Ephemeral server survived."}}
[info] i  functions: Finished "us-central1-api" in ~1s {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"Finished \"us-central1-api\" in ~1s"}}
[debug] [2021-09-23T09:07:06.579Z] [worker-us-central1-api-c482e435-c22c-4560-84cd-1876d2d1b403]: IDLE {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-api-c482e435-c22c-4560-84cd-1876d2d1b403]: IDLE"}}
[debug] [2021-09-23T09:07:06.579Z] [work-queue] {"queueLength":0,"workRunningCount":0}
[debug] [2021-09-23T09:10:12.910Z] [work-queue] {"queueLength":1,"workRunningCount":0}
[debug] [2021-09-23T09:10:12.910Z] [work-queue] {"queueLength":0,"workRunningCount":1}
[debug] [2021-09-23T09:10:12.910Z] Accepted request POST /clone-e655c/us-central1/api/payments/create?total=5699 --> us-central1-api
[debug] [2021-09-23T09:10:12.911Z] [worker-pool] submitWork(triggerId=us-central1-api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitWork(triggerId=us-central1-api)"}}
[debug] [2021-09-23T09:10:12.911Z] [worker-us-central1-api-c482e435-c22c-4560-84cd-1876d2d1b403]: Assigning socketPath: /var/folders/1q/t08t1c7147b3jyhcc6c2xwfr0000gn/T/fire_emu_27013.sock {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-api-c482e435-c22c-4560-84cd-1876d2d1b403]: Assigning socketPath: /var/folders/1q/t08t1c7147b3jyhcc6c2xwfr0000gn/T/fire_emu_27013.sock"}}
[debug] [2021-09-23T09:10:12.911Z] [worker-us-central1-api-c482e435-c22c-4560-84cd-1876d2d1b403]: BUSY {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-api-c482e435-c22c-4560-84cd-1876d2d1b403]: BUSY"}}
[debug] [2021-09-23T09:10:12.914Z] [runtime-status] [27013] Trigger "us-central1-api" has been found, beginning invocation! {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [27013] Trigger \"us-central1-api\" has been found, beginning invocation!"}}
[info] i  functions: Beginning execution of "us-central1-api" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"Beginning execution of \"us-central1-api\""}}
[debug] [2021-09-23T09:10:12.922Z] [runtime-status] [27013] triggerDefinition {"httpsTrigger":{},"name":"api","entryPoint":"api","regions":["us-central1"],"region":"us-central1","id":"us-central1-api"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [27013] triggerDefinition {\"httpsTrigger\":{},\"name\":\"api\",\"entryPoint\":\"api\",\"regions\":[\"us-central1\"],\"region\":\"us-central1\",\"id\":\"us-central1-api\"}"}}
[debug] [2021-09-23T09:10:12.923Z] [runtime-status] [27013] Running us-central1-api in mode HTTPS {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [27013] Running us-central1-api in mode HTTPS"}}
[debug] [2021-09-23T09:10:12.923Z] [runtime-status] [27013] Attempting to listen to socketPath: /var/folders/1q/t08t1c7147b3jyhcc6c2xwfr0000gn/T/fire_emu_27013.sock {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [27013] Attempting to listen to socketPath: /var/folders/1q/t08t1c7147b3jyhcc6c2xwfr0000gn/T/fire_emu_27013.sock"}}
[debug] [2021-09-23T09:10:12.929Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2021-09-23T09:10:12.929Z] [functions] Got req.url=/clone-e655c/us-central1/api/payments/create?total=5699, mapping to path=/payments/create?total=5699 {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Got req.url=/clone-e655c/us-central1/api/payments/create?total=5699, mapping to path=/payments/create?total=5699"}}
[debug] [2021-09-23T09:10:12.933Z] [runtime-status] [27013] Ephemeral server handling POST request {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [27013] Ephemeral server handling POST request"}}
[debug] [2021-09-23T09:10:12.933Z] [runtime-status] [27013] Ephemeral server survived. {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [27013] Ephemeral server survived."}}
[info] >  Payment Request received BOOOOOM !! 5699 {"user":"Payment Request received BOOOOOM !! 5699","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m Payment Request received BOOOOOM !! 5699"}}
[info] i  functions: Finished "us-central1-api" in ~1s {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"Finished \"us-central1-api\" in ~1s"}}
[debug] [2021-09-23T09:10:13.311Z] [worker-us-central1-api-c482e435-c22c-4560-84cd-1876d2d1b403]: IDLE {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-api-c482e435-c22c-4560-84cd-1876d2d1b403]: IDLE"}}
[debug] [2021-09-23T09:10:13.311Z] [work-queue] {"queueLength":0,"workRunningCount":0}
[debug] [2021-09-23T09:11:00.366Z] [work-queue] {"queueLength":1,"workRunningCount":0}
[debug] [2021-09-23T09:11:00.367Z] [work-queue] {"queueLength":0,"workRunningCount":1}
[debug] [2021-09-23T09:11:00.367Z] Accepted request POST /clone-e655c/us-central1/api/payments/create?total=5699 --> us-central1-api
[debug] [2021-09-23T09:11:00.367Z] [worker-pool] submitWork(triggerId=us-central1-api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitWork(triggerId=us-central1-api)"}}
[debug] [2021-09-23T09:11:00.367Z] [worker-us-central1-api-c482e435-c22c-4560-84cd-1876d2d1b403]: Assigning socketPath: /var/folders/1q/t08t1c7147b3jyhcc6c2xwfr0000gn/T/fire_emu_27013.sock {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-api-c482e435-c22c-4560-84cd-1876d2d1b403]: Assigning socketPath: /var/folders/1q/t08t1c7147b3jyhcc6c2xwfr0000gn/T/fire_emu_27013.sock"}}
[debug] [2021-09-23T09:11:00.367Z] [worker-us-central1-api-c482e435-c22c-4560-84cd-1876d2d1b403]: BUSY {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-api-c482e435-c22c-4560-84cd-1876d2d1b403]: BUSY"}}
[debug] [2021-09-23T09:11:00.368Z] [runtime-status] [27013] Trigger "us-central1-api" has been found, beginning invocation! {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [27013] Trigger \"us-central1-api\" has been found, beginning invocation!"}}
[info] i  functions: Beginning execution of "us-central1-api" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"Beginning execution of \"us-central1-api\""}}
[debug] [2021-09-23T09:11:00.368Z] [runtime-status] [27013] triggerDefinition {"httpsTrigger":{},"name":"api","entryPoint":"api","regions":["us-central1"],"region":"us-central1","id":"us-central1-api"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [27013] triggerDefinition {\"httpsTrigger\":{},\"name\":\"api\",\"entryPoint\":\"api\",\"regions\":[\"us-central1\"],\"region\":\"us-central1\",\"id\":\"us-central1-api\"}"}}
[debug] [2021-09-23T09:11:00.368Z] [runtime-status] [27013] Running us-central1-api in mode HTTPS {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [27013] Running us-central1-api in mode HTTPS"}}
[debug] [2021-09-23T09:11:00.368Z] [runtime-status] [27013] Attempting to listen to socketPath: /var/folders/1q/t08t1c7147b3jyhcc6c2xwfr0000gn/T/fire_emu_27013.sock {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [27013] Attempting to listen to socketPath: /var/folders/1q/t08t1c7147b3jyhcc6c2xwfr0000gn/T/fire_emu_27013.sock"}}
[debug] [2021-09-23T09:11:00.369Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2021-09-23T09:11:00.369Z] [functions] Got req.url=/clone-e655c/us-central1/api/payments/create?total=5699, mapping to path=/payments/create?total=5699 {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Got req.url=/clone-e655c/us-central1/api/payments/create?total=5699, mapping to path=/payments/create?total=5699"}}
[debug] [2021-09-23T09:11:00.372Z] [runtime-status] [27013] Ephemeral server handling POST request {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [27013] Ephemeral server handling POST request"}}
[info] >  Payment Request received BOOOOOM !! 5699 {"user":"Payment Request received BOOOOOM !! 5699","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m Payment Request received BOOOOOM !! 5699"}}
[debug] [2021-09-23T09:11:00.375Z] [runtime-status] [27013] Ephemeral server survived. {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [27013] Ephemeral server survived."}}
[info] i  functions: Finished "us-central1-api" in ~1s {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"Finished \"us-central1-api\" in ~1s"}}
[debug] [2021-09-23T09:11:00.716Z] [worker-us-central1-api-c482e435-c22c-4560-84cd-1876d2d1b403]: IDLE {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-api-c482e435-c22c-4560-84cd-1876d2d1b403]: IDLE"}}
[debug] [2021-09-23T09:11:00.716Z] [work-queue] {"queueLength":0,"workRunningCount":0}
[debug] [2021-09-23T09:11:02.183Z] [work-queue] {"queueLength":1,"workRunningCount":0}
[debug] [2021-09-23T09:11:02.183Z] [work-queue] {"queueLength":0,"workRunningCount":1}
[debug] [2021-09-23T09:11:02.183Z] Accepted request POST /clone-e655c/us-central1/api/payments/create?total=5699 --> us-central1-api
[debug] [2021-09-23T09:11:02.183Z] [worker-pool] submitWork(triggerId=us-central1-api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitWork(triggerId=us-central1-api)"}}
[debug] [2021-09-23T09:11:02.184Z] [worker-us-central1-api-c482e435-c22c-4560-84cd-1876d2d1b403]: Assigning socketPath: /var/folders/1q/t08t1c7147b3jyhcc6c2xwfr0000gn/T/fire_emu_27013.sock {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-api-c482e435-c22c-4560-84cd-1876d2d1b403]: Assigning socketPath: /var/folders/1q/t08t1c7147b3jyhcc6c2xwfr0000gn/T/fire_emu_27013.sock"}}
[debug] [2021-09-23T09:11:02.184Z] [worker-us-central1-api-c482e435-c22c-4560-84cd-1876d2d1b403]: BUSY {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-api-c482e435-c22c-4560-84cd-1876d2d1b403]: BUSY"}}
[debug] [2021-09-23T09:11:02.188Z] [runtime-status] [27013] Trigger "us-central1-api" has been found, beginning invocation! {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [27013] Trigger \"us-central1-api\" has been found, beginning invocation!"}}
[info] i  functions: Beginning execution of "us-central1-api" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"Beginning execution of \"us-central1-api\""}}
[debug] [2021-09-23T09:11:02.188Z] [runtime-status] [27013] triggerDefinition {"httpsTrigger":{},"name":"api","entryPoint":"api","regions":["us-central1"],"region":"us-central1","id":"us-central1-api"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [27013] triggerDefinition {\"httpsTrigger\":{},\"name\":\"api\",\"entryPoint\":\"api\",\"regions\":[\"us-central1\"],\"region\":\"us-central1\",\"id\":\"us-central1-api\"}"}}
[debug] [2021-09-23T09:11:02.193Z] [runtime-status] [27013] Running us-central1-api in mode HTTPS {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [27013] Running us-central1-api in mode HTTPS"}}
[debug] [2021-09-23T09:11:02.194Z] [runtime-status] [27013] Attempting to listen to socketPath: /var/folders/1q/t08t1c7147b3jyhcc6c2xwfr0000gn/T/fire_emu_27013.sock {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [27013] Attempting to listen to socketPath: /var/folders/1q/t08t1c7147b3jyhcc6c2xwfr0000gn/T/fire_emu_27013.sock"}}
[debug] [2021-09-23T09:11:02.195Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2021-09-23T09:11:02.195Z] [functions] Got req.url=/clone-e655c/us-central1/api/payments/create?total=5699, mapping to path=/payments/create?total=5699 {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Got req.url=/clone-e655c/us-central1/api/payments/create?total=5699, mapping to path=/payments/create?total=5699"}}
[debug] [2021-09-23T09:11:02.198Z] [runtime-status] [27013] Ephemeral server handling POST request {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [27013] Ephemeral server handling POST request"}}
[info] >  Payment Request received BOOOOOM !! 5699 {"user":"Payment Request received BOOOOOM !! 5699","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m Payment Request received BOOOOOM !! 5699"}}
[debug] [2021-09-23T09:11:02.199Z] [runtime-status] [27013] Ephemeral server survived. {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [27013] Ephemeral server survived."}}
[info] i  functions: Finished "us-central1-api" in ~1s {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"Finished \"us-central1-api\" in ~1s"}}
[debug] [2021-09-23T09:11:02.948Z] [worker-us-central1-api-c482e435-c22c-4560-84cd-1876d2d1b403]: IDLE {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-api-c482e435-c22c-4560-84cd-1876d2d1b403]: IDLE"}}
[debug] [2021-09-23T09:11:02.948Z] [work-queue] {"queueLength":0,"workRunningCount":0}
[debug] [2021-09-23T12:39:22.827Z] [work-queue] {"queueLength":1,"workRunningCount":0}
[debug] [2021-09-23T12:39:22.827Z] [work-queue] {"queueLength":0,"workRunningCount":1}
[debug] [2021-09-23T12:39:22.828Z] Accepted request POST /clone-e655c/us-central1/api/payments/create?total=40698 --> us-central1-api
[debug] [2021-09-23T12:39:22.828Z] [worker-pool] submitWork(triggerId=us-central1-api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitWork(triggerId=us-central1-api)"}}
[debug] [2021-09-23T12:39:22.829Z] [worker-us-central1-api-c482e435-c22c-4560-84cd-1876d2d1b403]: Assigning socketPath: /var/folders/1q/t08t1c7147b3jyhcc6c2xwfr0000gn/T/fire_emu_27013.sock {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-api-c482e435-c22c-4560-84cd-1876d2d1b403]: Assigning socketPath: /var/folders/1q/t08t1c7147b3jyhcc6c2xwfr0000gn/T/fire_emu_27013.sock"}}
[debug] [2021-09-23T12:39:22.829Z] [worker-us-central1-api-c482e435-c22c-4560-84cd-1876d2d1b403]: BUSY {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-api-c482e435-c22c-4560-84cd-1876d2d1b403]: BUSY"}}
[debug] [2021-09-23T12:39:22.835Z] [runtime-status] [27013] Trigger "us-central1-api" has been found, beginning invocation! {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [27013] Trigger \"us-central1-api\" has been found, beginning invocation!"}}
[info] i  functions: Beginning execution of "us-central1-api" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"Beginning execution of \"us-central1-api\""}}
[debug] [2021-09-23T12:39:22.836Z] [runtime-status] [27013] triggerDefinition {"httpsTrigger":{},"name":"api","entryPoint":"api","regions":["us-central1"],"region":"us-central1","id":"us-central1-api"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [27013] triggerDefinition {\"httpsTrigger\":{},\"name\":\"api\",\"entryPoint\":\"api\",\"regions\":[\"us-central1\"],\"region\":\"us-central1\",\"id\":\"us-central1-api\"}"}}
[debug] [2021-09-23T12:39:22.836Z] [runtime-status] [27013] Running us-central1-api in mode HTTPS {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [27013] Running us-central1-api in mode HTTPS"}}
[debug] [2021-09-23T12:39:22.842Z] [runtime-status] [27013] Attempting to listen to socketPath: /var/folders/1q/t08t1c7147b3jyhcc6c2xwfr0000gn/T/fire_emu_27013.sock {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [27013] Attempting to listen to socketPath: /var/folders/1q/t08t1c7147b3jyhcc6c2xwfr0000gn/T/fire_emu_27013.sock"}}
[debug] [2021-09-23T12:39:22.847Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2021-09-23T12:39:22.848Z] [functions] Got req.url=/clone-e655c/us-central1/api/payments/create?total=40698, mapping to path=/payments/create?total=40698 {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Got req.url=/clone-e655c/us-central1/api/payments/create?total=40698, mapping to path=/payments/create?total=40698"}}
[debug] [2021-09-23T12:39:22.860Z] [runtime-status] [27013] Ephemeral server handling POST request {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [27013] Ephemeral server handling POST request"}}
[info] >  Payment Request received BOOOOOM !! 40698 {"user":"Payment Request received BOOOOOM !! 40698","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m Payment Request received BOOOOOM !! 40698"}}
[debug] [2021-09-23T12:39:22.871Z] [runtime-status] [27013] Ephemeral server survived. {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [27013] Ephemeral server survived."}}
[info] i  functions: Finished "us-central1-api" in ~1s {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"Finished \"us-central1-api\" in ~1s"}}
[debug] [2021-09-23T12:39:23.286Z] [worker-us-central1-api-c482e435-c22c-4560-84cd-1876d2d1b403]: IDLE {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-api-c482e435-c22c-4560-84cd-1876d2d1b403]: IDLE"}}
[debug] [2021-09-23T12:39:23.286Z] [work-queue] {"queueLength":0,"workRunningCount":0}
[debug] [2021-09-23T12:39:49.066Z] [work-queue] {"queueLength":1,"workRunningCount":0}
[debug] [2021-09-23T12:39:49.066Z] [work-queue] {"queueLength":0,"workRunningCount":1}
[debug] [2021-09-23T12:39:49.066Z] Accepted request POST /clone-e655c/us-central1/api/payments/create?total=0 --> us-central1-api
[debug] [2021-09-23T12:39:49.066Z] [worker-pool] submitWork(triggerId=us-central1-api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitWork(triggerId=us-central1-api)"}}
[debug] [2021-09-23T12:39:49.067Z] [worker-us-central1-api-c482e435-c22c-4560-84cd-1876d2d1b403]: Assigning socketPath: /var/folders/1q/t08t1c7147b3jyhcc6c2xwfr0000gn/T/fire_emu_27013.sock {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-api-c482e435-c22c-4560-84cd-1876d2d1b403]: Assigning socketPath: /var/folders/1q/t08t1c7147b3jyhcc6c2xwfr0000gn/T/fire_emu_27013.sock"}}
[debug] [2021-09-23T12:39:49.067Z] [worker-us-central1-api-c482e435-c22c-4560-84cd-1876d2d1b403]: BUSY {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-api-c482e435-c22c-4560-84cd-1876d2d1b403]: BUSY"}}
[debug] [2021-09-23T12:39:49.083Z] [runtime-status] [27013] Trigger "us-central1-api" has been found, beginning invocation! {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [27013] Trigger \"us-central1-api\" has been found, beginning invocation!"}}
[info] i  functions: Beginning execution of "us-central1-api" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"Beginning execution of \"us-central1-api\""}}
[debug] [2021-09-23T12:39:49.083Z] [runtime-status] [27013] triggerDefinition {"httpsTrigger":{},"name":"api","entryPoint":"api","regions":["us-central1"],"region":"us-central1","id":"us-central1-api"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [27013] triggerDefinition {\"httpsTrigger\":{},\"name\":\"api\",\"entryPoint\":\"api\",\"regions\":[\"us-central1\"],\"region\":\"us-central1\",\"id\":\"us-central1-api\"}"}}
[debug] [2021-09-23T12:39:49.083Z] [runtime-status] [27013] Running us-central1-api in mode HTTPS {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [27013] Running us-central1-api in mode HTTPS"}}
[debug] [2021-09-23T12:39:49.083Z] [runtime-status] [27013] Attempting to listen to socketPath: /var/folders/1q/t08t1c7147b3jyhcc6c2xwfr0000gn/T/fire_emu_27013.sock {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [27013] Attempting to listen to socketPath: /var/folders/1q/t08t1c7147b3jyhcc6c2xwfr0000gn/T/fire_emu_27013.sock"}}
[debug] [2021-09-23T12:39:49.085Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2021-09-23T12:39:49.085Z] [functions] Got req.url=/clone-e655c/us-central1/api/payments/create?total=0, mapping to path=/payments/create?total=0 {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Got req.url=/clone-e655c/us-central1/api/payments/create?total=0, mapping to path=/payments/create?total=0"}}
[debug] [2021-09-23T12:39:49.090Z] [runtime-status] [27013] Ephemeral server handling POST request {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [27013] Ephemeral server handling POST request"}}
[info] >  Payment Request received BOOOOOM !! 0 {"user":"Payment Request received BOOOOOM !! 0","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m Payment Request received BOOOOOM !! 0"}}
[debug] [2021-09-23T12:39:49.091Z] [runtime-status] [27013] Ephemeral server survived. {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [27013] Ephemeral server survived."}}
[info] >  (node:27013) UnhandledPromiseRejectionWarning: Error: This value must be greater than or equal to 1. {"user":"(node:27013) UnhandledPromiseRejectionWarning: Error: This value must be greater than or equal to 1.","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m (node:27013) UnhandledPromiseRejectionWarning: Error: This value must be greater than or equal to 1."}}
[info] >      at Function.generate (/Users/edouardtoulet/Desktop/Js/REACT/amazon-clone/functions/node_modules/stripe/lib/Error.js:40:16) {"user":"    at Function.generate (/Users/edouardtoulet/Desktop/Js/REACT/amazon-clone/functions/node_modules/stripe/lib/Error.js:40:16)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     at Function.generate (/Users/edouardtoulet/Desktop/Js/REACT/amazon-clone/functions/node_modules/stripe/lib/Error.js:40:16)"}}
[info] >      at res.toJSON.then.StripeAPIError.message (/Users/edouardtoulet/Desktop/Js/REACT/amazon-clone/functions/node_modules/stripe/lib/StripeResource.js:220:35) {"user":"    at res.toJSON.then.StripeAPIError.message (/Users/edouardtoulet/Desktop/Js/REACT/amazon-clone/functions/node_modules/stripe/lib/StripeResource.js:220:35)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     at res.toJSON.then.StripeAPIError.message (/Users/edouardtoulet/Desktop/Js/REACT/amazon-clone/functions/node_modules/stripe/lib/StripeResource.js:220:35)"}}
[info] >      at processTicksAndRejections (internal/process/task_queues.js:93:5) {"user":"    at processTicksAndRejections (internal/process/task_queues.js:93:5)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     at processTicksAndRejections (internal/process/task_queues.js:93:5)"}}
[info] >  (Use `node --trace-warnings ...` to show where the warning was created) {"user":"(Use `node --trace-warnings ...` to show where the warning was created)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m (Use `node --trace-warnings ...` to show where the warning was created)"}}
[info] >  (node:27013) UnhandledPromiseRejectionWarning: Unhandled promise rejection. This error originated either by throwing inside of an async function without a catch block, or by rejecting a promise which was not handled with .catch(). To terminate the node process on unhandled promise rejection, use the CLI flag `--unhandled-rejections=strict` (see https://nodejs.org/api/cli.html#cli_unhandled_rejections_mode). (rejection id: 1) {"user":"(node:27013) UnhandledPromiseRejectionWarning: Unhandled promise rejection. This error originated either by throwing inside of an async function without a catch block, or by rejecting a promise which was not handled with .catch(). To terminate the node process on unhandled promise rejection, use the CLI flag `--unhandled-rejections=strict` (see https://nodejs.org/api/cli.html#cli_unhandled_rejections_mode). (rejection id: 1)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m (node:27013) UnhandledPromiseRejectionWarning: Unhandled promise rejection. This error originated either by throwing inside of an async function without a catch block, or by rejecting a promise which was not handled with .catch(). To terminate the node process on unhandled promise rejection, use the CLI flag `--unhandled-rejections=strict` (see https://nodejs.org/api/cli.html#cli_unhandled_rejections_mode). (rejection id: 1)"}}
[info] >  (node:27013) [DEP0018] DeprecationWarning: Unhandled promise rejections are deprecated. In the future, promise rejections that are not handled will terminate the Node.js process with a non-zero exit code. {"user":"(node:27013) [DEP0018] DeprecationWarning: Unhandled promise rejections are deprecated. In the future, promise rejections that are not handled will terminate the Node.js process with a non-zero exit code.","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m (node:27013) [DEP0018] DeprecationWarning: Unhandled promise rejections are deprecated. In the future, promise rejections that are not handled will terminate the Node.js process with a non-zero exit code."}}
[warn] ⚠  functions: Your function timed out after ~60s. To configure this timeout, see
      https://firebase.google.com/docs/functions/manage-functions#set_timeout_and_memory_allocation. {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"Your function timed out after ~60s. To configure this timeout, see\n      https://firebase.google.com/docs/functions/manage-functions#set_timeout_and_memory_allocation."}}
[info] >  /usr/local/lib/node_modules/firebase-tools/lib/emulator/functionsEmulatorRuntime.js:679 {"user":"/usr/local/lib/node_modules/firebase-tools/lib/emulator/functionsEmulatorRuntime.js:679","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m /usr/local/lib/node_modules/firebase-tools/lib/emulator/functionsEmulatorRuntime.js:679"}}
[info] >              throw new Error("Function timed out."); {"user":"            throw new Error(\"Function timed out.\");","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m             throw new Error(\"Function timed out.\");"}}
[info] >              ^ {"user":"            ^","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m             ^"}}
[info] >   {"user":"","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m "}}
[info] >  Error: Function timed out. {"user":"Error: Function timed out.","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m Error: Function timed out."}}
[info] >      at Timeout._onTimeout (/usr/local/lib/node_modules/firebase-tools/lib/emulator/functionsEmulatorRuntime.js:679:19) {"user":"    at Timeout._onTimeout (/usr/local/lib/node_modules/firebase-tools/lib/emulator/functionsEmulatorRuntime.js:679:19)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     at Timeout._onTimeout (/usr/local/lib/node_modules/firebase-tools/lib/emulator/functionsEmulatorRuntime.js:679:19)"}}
[info] >      at listOnTimeout (internal/timers.js:554:17) {"user":"    at listOnTimeout (internal/timers.js:554:17)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     at listOnTimeout (internal/timers.js:554:17)"}}
[info] >      at processTimers (internal/timers.js:497:7) {"user":"    at processTimers (internal/timers.js:497:7)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     at processTimers (internal/timers.js:497:7)"}}
[debug] [2021-09-23T12:40:49.113Z] [worker-us-central1-api-c482e435-c22c-4560-84cd-1876d2d1b403]: exited {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-api-c482e435-c22c-4560-84cd-1876d2d1b403]: exited"}}
[debug] [2021-09-23T12:40:49.114Z] [worker-us-central1-api-c482e435-c22c-4560-84cd-1876d2d1b403]: FINISHED {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-api-c482e435-c22c-4560-84cd-1876d2d1b403]: FINISHED"}}
[debug] [2021-09-23T12:40:49.115Z] [work-queue] {"queueLength":0,"workRunningCount":0}
[debug] [2021-09-23T13:19:48.447Z] [work-queue] {"queueLength":1,"workRunningCount":0}
[debug] [2021-09-23T13:19:48.449Z] [work-queue] {"queueLength":0,"workRunningCount":1}
[debug] [2021-09-23T13:19:48.449Z] Accepted request POST /clone-e655c/us-central1/api/payments/create?total=31900 --> us-central1-api
[debug] [2021-09-23T13:19:48.452Z] [worker-pool] Cleaned up workers for us-central1-api: 1 --> 0 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Cleaned up workers for us-central1-api: 1 --> 0"}}
[debug] [2021-09-23T13:19:48.487Z] [worker-pool] addWorker(us-central1-api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] addWorker(us-central1-api)"}}
[debug] [2021-09-23T13:19:48.489Z] [worker-pool] Adding worker with key us-central1-api, total=1 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Adding worker with key us-central1-api, total=1"}}
[debug] [2021-09-23T13:19:48.490Z] [worker-pool] submitWork(triggerId=us-central1-api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitWork(triggerId=us-central1-api)"}}
[debug] [2021-09-23T13:19:48.490Z] [worker-us-central1-api-c8025690-64cf-4ca9-bb67-5d6cfa109a8e]: Assigning socketPath: /var/folders/1q/t08t1c7147b3jyhcc6c2xwfr0000gn/T/fire_emu_28274.sock {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-api-c8025690-64cf-4ca9-bb67-5d6cfa109a8e]: Assigning socketPath: /var/folders/1q/t08t1c7147b3jyhcc6c2xwfr0000gn/T/fire_emu_28274.sock"}}
[debug] [2021-09-23T13:19:48.490Z] [worker-us-central1-api-c8025690-64cf-4ca9-bb67-5d6cfa109a8e]: BUSY {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-api-c8025690-64cf-4ca9-bb67-5d6cfa109a8e]: BUSY"}}
[debug] [2021-09-23T13:19:49.689Z] [runtime-status] [28274] Functions runtime initialized. {"cwd":"/Users/edouardtoulet/Desktop/Js/REACT/amazon-clone/functions","node_version":"14.15.5"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [28274] Functions runtime initialized. {\"cwd\":\"/Users/edouardtoulet/Desktop/Js/REACT/amazon-clone/functions\",\"node_version\":\"14.15.5\"}"}}
[debug] [2021-09-23T13:19:49.698Z] [runtime-status] [28274] Disabled runtime features: undefined {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [28274] Disabled runtime features: undefined"}}
[debug] [2021-09-23T13:19:49.713Z] [runtime-status] [28274] Resolved module firebase-admin {"declared":true,"installed":true,"version":"9.11.1","resolution":"/Users/edouardtoulet/Desktop/Js/REACT/amazon-clone/functions/node_modules/firebase-admin/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [28274] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"9.11.1\",\"resolution\":\"/Users/edouardtoulet/Desktop/Js/REACT/amazon-clone/functions/node_modules/firebase-admin/lib/index.js\"}"}}
[debug] [2021-09-23T13:19:49.717Z] [runtime-status] [28274] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.15.7","resolution":"/Users/edouardtoulet/Desktop/Js/REACT/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [28274] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.15.7\",\"resolution\":\"/Users/edouardtoulet/Desktop/Js/REACT/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2021-09-23T13:19:49.723Z] [runtime-status] [28274] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.15.7","resolution":"/Users/edouardtoulet/Desktop/Js/REACT/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [28274] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.15.7\",\"resolution\":\"/Users/edouardtoulet/Desktop/Js/REACT/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2021-09-23T13:19:49.725Z] [runtime-status] [28274] Outgoing network have been stubbed. [{"name":"http","status":"mocked"},{"name":"http","status":"mocked"},{"name":"https","status":"mocked"},{"name":"https","status":"mocked"},{"name":"net","status":"mocked"}] {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [28274] Outgoing network have been stubbed. [{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"net\",\"status\":\"mocked\"}]"}}
[debug] [2021-09-23T13:19:49.732Z] [runtime-status] [28274] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.15.7","resolution":"/Users/edouardtoulet/Desktop/Js/REACT/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [28274] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.15.7\",\"resolution\":\"/Users/edouardtoulet/Desktop/Js/REACT/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2021-09-23T13:19:49.861Z] [runtime-status] [28274] Checked functions.config() {"config":{}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [28274] Checked functions.config() {\"config\":{}}"}}
[debug] [2021-09-23T13:19:49.862Z] [runtime-status] [28274] firebase-functions has been stubbed. {"functionsResolution":{"declared":true,"installed":true,"version":"3.15.7","resolution":"/Users/edouardtoulet/Desktop/Js/REACT/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [28274] firebase-functions has been stubbed. {\"functionsResolution\":{\"declared\":true,\"installed\":true,\"version\":\"3.15.7\",\"resolution\":\"/Users/edouardtoulet/Desktop/Js/REACT/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}}"}}
[debug] [2021-09-23T13:19:49.863Z] [runtime-status] [28274] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.15.7","resolution":"/Users/edouardtoulet/Desktop/Js/REACT/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [28274] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.15.7\",\"resolution\":\"/Users/edouardtoulet/Desktop/Js/REACT/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2021-09-23T13:19:49.864Z] [runtime-status] [28274] Resolved module firebase-admin {"declared":true,"installed":true,"version":"9.11.1","resolution":"/Users/edouardtoulet/Desktop/Js/REACT/amazon-clone/functions/node_modules/firebase-admin/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [28274] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"9.11.1\",\"resolution\":\"/Users/edouardtoulet/Desktop/Js/REACT/amazon-clone/functions/node_modules/firebase-admin/lib/index.js\"}"}}
[debug] [2021-09-23T13:19:49.865Z] [runtime-status] [28274] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.15.7","resolution":"/Users/edouardtoulet/Desktop/Js/REACT/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [28274] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.15.7\",\"resolution\":\"/Users/edouardtoulet/Desktop/Js/REACT/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2021-09-23T13:19:49.865Z] [runtime-status] [28274] firebase-admin has been stubbed. {"adminResolution":{"declared":true,"installed":true,"version":"9.11.1","resolution":"/Users/edouardtoulet/Desktop/Js/REACT/amazon-clone/functions/node_modules/firebase-admin/lib/index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [28274] firebase-admin has been stubbed. {\"adminResolution\":{\"declared\":true,\"installed\":true,\"version\":\"9.11.1\",\"resolution\":\"/Users/edouardtoulet/Desktop/Js/REACT/amazon-clone/functions/node_modules/firebase-admin/lib/index.js\"}}"}}
[debug] [2021-09-23T13:19:50.099Z] [runtime-status] [28274] Trigger "us-central1-api" has been found, beginning invocation! {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [28274] Trigger \"us-central1-api\" has been found, beginning invocation!"}}
[info] i  functions: Beginning execution of "us-central1-api" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"Beginning execution of \"us-central1-api\""}}
[debug] [2021-09-23T13:19:50.101Z] [runtime-status] [28274] triggerDefinition {"httpsTrigger":{},"name":"api","entryPoint":"api","regions":["us-central1"],"region":"us-central1","id":"us-central1-api"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [28274] triggerDefinition {\"httpsTrigger\":{},\"name\":\"api\",\"entryPoint\":\"api\",\"regions\":[\"us-central1\"],\"region\":\"us-central1\",\"id\":\"us-central1-api\"}"}}
[debug] [2021-09-23T13:19:50.101Z] [runtime-status] [28274] Running us-central1-api in mode HTTPS {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [28274] Running us-central1-api in mode HTTPS"}}
[debug] [2021-09-23T13:19:50.108Z] [runtime-status] [28274] Attempting to listen to socketPath: /var/folders/1q/t08t1c7147b3jyhcc6c2xwfr0000gn/T/fire_emu_28274.sock {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [28274] Attempting to listen to socketPath: /var/folders/1q/t08t1c7147b3jyhcc6c2xwfr0000gn/T/fire_emu_28274.sock"}}
[debug] [2021-09-23T13:19:50.114Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2021-09-23T13:19:50.115Z] [functions] Got req.url=/clone-e655c/us-central1/api/payments/create?total=31900, mapping to path=/payments/create?total=31900 {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Got req.url=/clone-e655c/us-central1/api/payments/create?total=31900, mapping to path=/payments/create?total=31900"}}
[debug] [2021-09-23T13:19:50.128Z] [runtime-status] [28274] Ephemeral server handling POST request {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [28274] Ephemeral server handling POST request"}}
[info] >  Payment Request received BOOOOOM !! 31900 {"user":"Payment Request received BOOOOOM !! 31900","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m Payment Request received BOOOOOM !! 31900"}}
[debug] [2021-09-23T13:19:50.148Z] [runtime-status] [28274] Ephemeral server survived. {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [28274] Ephemeral server survived."}}
[info] i  functions: Finished "us-central1-api" in ~1s {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"Finished \"us-central1-api\" in ~1s"}}
[debug] [2021-09-23T13:19:50.712Z] [worker-us-central1-api-c8025690-64cf-4ca9-bb67-5d6cfa109a8e]: IDLE {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-api-c8025690-64cf-4ca9-bb67-5d6cfa109a8e]: IDLE"}}
[debug] [2021-09-23T13:19:50.712Z] [work-queue] {"queueLength":0,"workRunningCount":0}
[debug] [2021-09-23T13:26:06.719Z] [work-queue] {"queueLength":1,"workRunningCount":0}
[debug] [2021-09-23T13:26:06.722Z] [work-queue] {"queueLength":0,"workRunningCount":1}
[debug] [2021-09-23T13:26:06.722Z] Accepted request POST /clone-e655c/us-central1/api/payments/create?total=0 --> us-central1-api
[debug] [2021-09-23T13:26:06.723Z] [worker-pool] submitWork(triggerId=us-central1-api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitWork(triggerId=us-central1-api)"}}
[debug] [2021-09-23T13:26:06.724Z] [worker-us-central1-api-c8025690-64cf-4ca9-bb67-5d6cfa109a8e]: Assigning socketPath: /var/folders/1q/t08t1c7147b3jyhcc6c2xwfr0000gn/T/fire_emu_28274.sock {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-api-c8025690-64cf-4ca9-bb67-5d6cfa109a8e]: Assigning socketPath: /var/folders/1q/t08t1c7147b3jyhcc6c2xwfr0000gn/T/fire_emu_28274.sock"}}
[debug] [2021-09-23T13:26:06.724Z] [worker-us-central1-api-c8025690-64cf-4ca9-bb67-5d6cfa109a8e]: BUSY {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-api-c8025690-64cf-4ca9-bb67-5d6cfa109a8e]: BUSY"}}
[debug] [2021-09-23T13:26:06.728Z] [runtime-status] [28274] Trigger "us-central1-api" has been found, beginning invocation! {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [28274] Trigger \"us-central1-api\" has been found, beginning invocation!"}}
[info] i  functions: Beginning execution of "us-central1-api" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"Beginning execution of \"us-central1-api\""}}
[debug] [2021-09-23T13:26:06.730Z] [runtime-status] [28274] triggerDefinition {"httpsTrigger":{},"name":"api","entryPoint":"api","regions":["us-central1"],"region":"us-central1","id":"us-central1-api"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [28274] triggerDefinition {\"httpsTrigger\":{},\"name\":\"api\",\"entryPoint\":\"api\",\"regions\":[\"us-central1\"],\"region\":\"us-central1\",\"id\":\"us-central1-api\"}"}}
[debug] [2021-09-23T13:26:06.730Z] [runtime-status] [28274] Running us-central1-api in mode HTTPS {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [28274] Running us-central1-api in mode HTTPS"}}
[debug] [2021-09-23T13:26:06.731Z] [runtime-status] [28274] Attempting to listen to socketPath: /var/folders/1q/t08t1c7147b3jyhcc6c2xwfr0000gn/T/fire_emu_28274.sock {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [28274] Attempting to listen to socketPath: /var/folders/1q/t08t1c7147b3jyhcc6c2xwfr0000gn/T/fire_emu_28274.sock"}}
[debug] [2021-09-23T13:26:06.742Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2021-09-23T13:26:06.742Z] [functions] Got req.url=/clone-e655c/us-central1/api/payments/create?total=0, mapping to path=/payments/create?total=0 {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Got req.url=/clone-e655c/us-central1/api/payments/create?total=0, mapping to path=/payments/create?total=0"}}
[debug] [2021-09-23T13:26:06.748Z] [runtime-status] [28274] Ephemeral server handling POST request {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [28274] Ephemeral server handling POST request"}}
[info] >  Payment Request received BOOOOOM !! 0 {"user":"Payment Request received BOOOOOM !! 0","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m Payment Request received BOOOOOM !! 0"}}
[debug] [2021-09-23T13:26:06.756Z] [runtime-status] [28274] Ephemeral server survived. {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [28274] Ephemeral server survived."}}
[info] >  (node:28274) UnhandledPromiseRejectionWarning: Error: This value must be greater than or equal to 1. {"user":"(node:28274) UnhandledPromiseRejectionWarning: Error: This value must be greater than or equal to 1.","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m (node:28274) UnhandledPromiseRejectionWarning: Error: This value must be greater than or equal to 1."}}
[info] >      at Function.generate (/Users/edouardtoulet/Desktop/Js/REACT/amazon-clone/functions/node_modules/stripe/lib/Error.js:40:16) {"user":"    at Function.generate (/Users/edouardtoulet/Desktop/Js/REACT/amazon-clone/functions/node_modules/stripe/lib/Error.js:40:16)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     at Function.generate (/Users/edouardtoulet/Desktop/Js/REACT/amazon-clone/functions/node_modules/stripe/lib/Error.js:40:16)"}}
[info] >      at res.toJSON.then.StripeAPIError.message (/Users/edouardtoulet/Desktop/Js/REACT/amazon-clone/functions/node_modules/stripe/lib/StripeResource.js:220:35) {"user":"    at res.toJSON.then.StripeAPIError.message (/Users/edouardtoulet/Desktop/Js/REACT/amazon-clone/functions/node_modules/stripe/lib/StripeResource.js:220:35)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     at res.toJSON.then.StripeAPIError.message (/Users/edouardtoulet/Desktop/Js/REACT/amazon-clone/functions/node_modules/stripe/lib/StripeResource.js:220:35)"}}
[info] >      at processTicksAndRejections (internal/process/task_queues.js:93:5) {"user":"    at processTicksAndRejections (internal/process/task_queues.js:93:5)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     at processTicksAndRejections (internal/process/task_queues.js:93:5)"}}
[info] >  (Use `node --trace-warnings ...` to show where the warning was created) {"user":"(Use `node --trace-warnings ...` to show where the warning was created)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m (Use `node --trace-warnings ...` to show where the warning was created)"}}
[info] >  (node:28274) UnhandledPromiseRejectionWarning: Unhandled promise rejection. This error originated either by throwing inside of an async function without a catch block, or by rejecting a promise which was not handled with .catch(). To terminate the node process on unhandled promise rejection, use the CLI flag `--unhandled-rejections=strict` (see https://nodejs.org/api/cli.html#cli_unhandled_rejections_mode). (rejection id: 1) {"user":"(node:28274) UnhandledPromiseRejectionWarning: Unhandled promise rejection. This error originated either by throwing inside of an async function without a catch block, or by rejecting a promise which was not handled with .catch(). To terminate the node process on unhandled promise rejection, use the CLI flag `--unhandled-rejections=strict` (see https://nodejs.org/api/cli.html#cli_unhandled_rejections_mode). (rejection id: 1)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m (node:28274) UnhandledPromiseRejectionWarning: Unhandled promise rejection. This error originated either by throwing inside of an async function without a catch block, or by rejecting a promise which was not handled with .catch(). To terminate the node process on unhandled promise rejection, use the CLI flag `--unhandled-rejections=strict` (see https://nodejs.org/api/cli.html#cli_unhandled_rejections_mode). (rejection id: 1)"}}
[info] >  (node:28274) [DEP0018] DeprecationWarning: Unhandled promise rejections are deprecated. In the future, promise rejections that are not handled will terminate the Node.js process with a non-zero exit code. {"user":"(node:28274) [DEP0018] DeprecationWarning: Unhandled promise rejections are deprecated. In the future, promise rejections that are not handled will terminate the Node.js process with a non-zero exit code.","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m (node:28274) [DEP0018] DeprecationWarning: Unhandled promise rejections are deprecated. In the future, promise rejections that are not handled will terminate the Node.js process with a non-zero exit code."}}
[warn] ⚠  functions: Your function timed out after ~60s. To configure this timeout, see
      https://firebase.google.com/docs/functions/manage-functions#set_timeout_and_memory_allocation. {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"Your function timed out after ~60s. To configure this timeout, see\n      https://firebase.google.com/docs/functions/manage-functions#set_timeout_and_memory_allocation."}}
[info] >  /usr/local/lib/node_modules/firebase-tools/lib/emulator/functionsEmulatorRuntime.js:679 {"user":"/usr/local/lib/node_modules/firebase-tools/lib/emulator/functionsEmulatorRuntime.js:679","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m /usr/local/lib/node_modules/firebase-tools/lib/emulator/functionsEmulatorRuntime.js:679"}}
[info] >              throw new Error("Function timed out."); {"user":"            throw new Error(\"Function timed out.\");","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m             throw new Error(\"Function timed out.\");"}}
[info] >              ^ {"user":"            ^","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m             ^"}}
[info] >   {"user":"","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m "}}
[info] >  Error: Function timed out. {"user":"Error: Function timed out.","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m Error: Function timed out."}}
[info] >      at Timeout._onTimeout (/usr/local/lib/node_modules/firebase-tools/lib/emulator/functionsEmulatorRuntime.js:679:19) {"user":"    at Timeout._onTimeout (/usr/local/lib/node_modules/firebase-tools/lib/emulator/functionsEmulatorRuntime.js:679:19)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     at Timeout._onTimeout (/usr/local/lib/node_modules/firebase-tools/lib/emulator/functionsEmulatorRuntime.js:679:19)"}}
[info] >      at listOnTimeout (internal/timers.js:554:17) {"user":"    at listOnTimeout (internal/timers.js:554:17)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     at listOnTimeout (internal/timers.js:554:17)"}}
[info] >      at processTimers (internal/timers.js:497:7) {"user":"    at processTimers (internal/timers.js:497:7)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     at processTimers (internal/timers.js:497:7)"}}
[debug] [2021-09-23T13:27:06.742Z] [worker-us-central1-api-c8025690-64cf-4ca9-bb67-5d6cfa109a8e]: exited {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-api-c8025690-64cf-4ca9-bb67-5d6cfa109a8e]: exited"}}
[debug] [2021-09-23T13:27:06.742Z] [worker-us-central1-api-c8025690-64cf-4ca9-bb67-5d6cfa109a8e]: FINISHED {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-api-c8025690-64cf-4ca9-bb67-5d6cfa109a8e]: FINISHED"}}
[debug] [2021-09-23T13:27:06.742Z] [work-queue] {"queueLength":0,"workRunningCount":0}
[debug] [2021-09-23T13:27:07.918Z] [work-queue] {"queueLength":1,"workRunningCount":0}
[debug] [2021-09-23T13:27:07.918Z] [work-queue] {"queueLength":0,"workRunningCount":1}
[debug] [2021-09-23T13:27:07.918Z] Accepted request POST /clone-e655c/us-central1/api/payments/create?total=0 --> us-central1-api
[debug] [2021-09-23T13:27:07.919Z] [worker-pool] Cleaned up workers for us-central1-api: 1 --> 0 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Cleaned up workers for us-central1-api: 1 --> 0"}}
[debug] [2021-09-23T13:27:07.930Z] [worker-pool] addWorker(us-central1-api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] addWorker(us-central1-api)"}}
[debug] [2021-09-23T13:27:07.930Z] [worker-pool] Adding worker with key us-central1-api, total=1 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Adding worker with key us-central1-api, total=1"}}
[debug] [2021-09-23T13:27:07.930Z] [worker-pool] submitWork(triggerId=us-central1-api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitWork(triggerId=us-central1-api)"}}
[debug] [2021-09-23T13:27:07.930Z] [worker-us-central1-api-7fd9aeaf-83ae-4b3c-851f-0d677ad0ccdf]: Assigning socketPath: /var/folders/1q/t08t1c7147b3jyhcc6c2xwfr0000gn/T/fire_emu_28645.sock {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-api-7fd9aeaf-83ae-4b3c-851f-0d677ad0ccdf]: Assigning socketPath: /var/folders/1q/t08t1c7147b3jyhcc6c2xwfr0000gn/T/fire_emu_28645.sock"}}
[debug] [2021-09-23T13:27:07.931Z] [worker-us-central1-api-7fd9aeaf-83ae-4b3c-851f-0d677ad0ccdf]: BUSY {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-api-7fd9aeaf-83ae-4b3c-851f-0d677ad0ccdf]: BUSY"}}
[debug] [2021-09-23T13:27:09.023Z] [runtime-status] [28645] Functions runtime initialized. {"cwd":"/Users/edouardtoulet/Desktop/Js/REACT/amazon-clone/functions","node_version":"14.15.5"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [28645] Functions runtime initialized. {\"cwd\":\"/Users/edouardtoulet/Desktop/Js/REACT/amazon-clone/functions\",\"node_version\":\"14.15.5\"}"}}
[debug] [2021-09-23T13:27:09.031Z] [runtime-status] [28645] Disabled runtime features: undefined {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [28645] Disabled runtime features: undefined"}}
[debug] [2021-09-23T13:27:09.039Z] [runtime-status] [28645] Resolved module firebase-admin {"declared":true,"installed":true,"version":"9.11.1","resolution":"/Users/edouardtoulet/Desktop/Js/REACT/amazon-clone/functions/node_modules/firebase-admin/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [28645] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"9.11.1\",\"resolution\":\"/Users/edouardtoulet/Desktop/Js/REACT/amazon-clone/functions/node_modules/firebase-admin/lib/index.js\"}"}}
[debug] [2021-09-23T13:27:09.047Z] [runtime-status] [28645] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.15.7","resolution":"/Users/edouardtoulet/Desktop/Js/REACT/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [28645] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.15.7\",\"resolution\":\"/Users/edouardtoulet/Desktop/Js/REACT/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2021-09-23T13:27:09.052Z] [runtime-status] [28645] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.15.7","resolution":"/Users/edouardtoulet/Desktop/Js/REACT/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [28645] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.15.7\",\"resolution\":\"/Users/edouardtoulet/Desktop/Js/REACT/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2021-09-23T13:27:09.054Z] [runtime-status] [28645] Outgoing network have been stubbed. [{"name":"http","status":"mocked"},{"name":"http","status":"mocked"},{"name":"https","status":"mocked"},{"name":"https","status":"mocked"},{"name":"net","status":"mocked"}] {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [28645] Outgoing network have been stubbed. [{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"net\",\"status\":\"mocked\"}]"}}
[debug] [2021-09-23T13:27:09.055Z] [runtime-status] [28645] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.15.7","resolution":"/Users/edouardtoulet/Desktop/Js/REACT/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [28645] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.15.7\",\"resolution\":\"/Users/edouardtoulet/Desktop/Js/REACT/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2021-09-23T13:27:09.230Z] [runtime-status] [28645] Checked functions.config() {"config":{}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [28645] Checked functions.config() {\"config\":{}}"}}
[debug] [2021-09-23T13:27:09.236Z] [runtime-status] [28645] firebase-functions has been stubbed. {"functionsResolution":{"declared":true,"installed":true,"version":"3.15.7","resolution":"/Users/edouardtoulet/Desktop/Js/REACT/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [28645] firebase-functions has been stubbed. {\"functionsResolution\":{\"declared\":true,\"installed\":true,\"version\":\"3.15.7\",\"resolution\":\"/Users/edouardtoulet/Desktop/Js/REACT/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}}"}}
[debug] [2021-09-23T13:27:09.237Z] [runtime-status] [28645] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.15.7","resolution":"/Users/edouardtoulet/Desktop/Js/REACT/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [28645] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.15.7\",\"resolution\":\"/Users/edouardtoulet/Desktop/Js/REACT/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2021-09-23T13:27:09.239Z] [runtime-status] [28645] Resolved module firebase-admin {"declared":true,"installed":true,"version":"9.11.1","resolution":"/Users/edouardtoulet/Desktop/Js/REACT/amazon-clone/functions/node_modules/firebase-admin/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [28645] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"9.11.1\",\"resolution\":\"/Users/edouardtoulet/Desktop/Js/REACT/amazon-clone/functions/node_modules/firebase-admin/lib/index.js\"}"}}
[debug] [2021-09-23T13:27:09.240Z] [runtime-status] [28645] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.15.7","resolution":"/Users/edouardtoulet/Desktop/Js/REACT/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [28645] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.15.7\",\"resolution\":\"/Users/edouardtoulet/Desktop/Js/REACT/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2021-09-23T13:27:09.240Z] [runtime-status] [28645] firebase-admin has been stubbed. {"adminResolution":{"declared":true,"installed":true,"version":"9.11.1","resolution":"/Users/edouardtoulet/Desktop/Js/REACT/amazon-clone/functions/node_modules/firebase-admin/lib/index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [28645] firebase-admin has been stubbed. {\"adminResolution\":{\"declared\":true,\"installed\":true,\"version\":\"9.11.1\",\"resolution\":\"/Users/edouardtoulet/Desktop/Js/REACT/amazon-clone/functions/node_modules/firebase-admin/lib/index.js\"}}"}}
[debug] [2021-09-23T13:27:09.966Z] [runtime-status] [28645] Trigger "us-central1-api" has been found, beginning invocation! {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [28645] Trigger \"us-central1-api\" has been found, beginning invocation!"}}
[info] i  functions: Beginning execution of "us-central1-api" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"Beginning execution of \"us-central1-api\""}}
[debug] [2021-09-23T13:27:09.967Z] [runtime-status] [28645] triggerDefinition {"httpsTrigger":{},"name":"api","entryPoint":"api","regions":["us-central1"],"region":"us-central1","id":"us-central1-api"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [28645] triggerDefinition {\"httpsTrigger\":{},\"name\":\"api\",\"entryPoint\":\"api\",\"regions\":[\"us-central1\"],\"region\":\"us-central1\",\"id\":\"us-central1-api\"}"}}
[debug] [2021-09-23T13:27:09.967Z] [runtime-status] [28645] Running us-central1-api in mode HTTPS {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [28645] Running us-central1-api in mode HTTPS"}}
[debug] [2021-09-23T13:27:09.975Z] [runtime-status] [28645] Attempting to listen to socketPath: /var/folders/1q/t08t1c7147b3jyhcc6c2xwfr0000gn/T/fire_emu_28645.sock {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [28645] Attempting to listen to socketPath: /var/folders/1q/t08t1c7147b3jyhcc6c2xwfr0000gn/T/fire_emu_28645.sock"}}
[debug] [2021-09-23T13:27:09.980Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2021-09-23T13:27:09.980Z] [functions] Got req.url=/clone-e655c/us-central1/api/payments/create?total=0, mapping to path=/payments/create?total=0 {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Got req.url=/clone-e655c/us-central1/api/payments/create?total=0, mapping to path=/payments/create?total=0"}}
[debug] [2021-09-23T13:27:09.993Z] [runtime-status] [28645] Ephemeral server handling POST request {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [28645] Ephemeral server handling POST request"}}
[info] >  Payment Request received BOOOOOM !! 0 {"user":"Payment Request received BOOOOOM !! 0","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m Payment Request received BOOOOOM !! 0"}}
[debug] [2021-09-23T13:27:10.058Z] [runtime-status] [28645] Ephemeral server survived. {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [28645] Ephemeral server survived."}}
[info] >  (node:28645) UnhandledPromiseRejectionWarning: Error: This value must be greater than or equal to 1. {"user":"(node:28645) UnhandledPromiseRejectionWarning: Error: This value must be greater than or equal to 1.","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m (node:28645) UnhandledPromiseRejectionWarning: Error: This value must be greater than or equal to 1."}}
[info] >      at Function.generate (/Users/edouardtoulet/Desktop/Js/REACT/amazon-clone/functions/node_modules/stripe/lib/Error.js:40:16) {"user":"    at Function.generate (/Users/edouardtoulet/Desktop/Js/REACT/amazon-clone/functions/node_modules/stripe/lib/Error.js:40:16)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     at Function.generate (/Users/edouardtoulet/Desktop/Js/REACT/amazon-clone/functions/node_modules/stripe/lib/Error.js:40:16)"}}
[info] >      at res.toJSON.then.StripeAPIError.message (/Users/edouardtoulet/Desktop/Js/REACT/amazon-clone/functions/node_modules/stripe/lib/StripeResource.js:220:35) {"user":"    at res.toJSON.then.StripeAPIError.message (/Users/edouardtoulet/Desktop/Js/REACT/amazon-clone/functions/node_modules/stripe/lib/StripeResource.js:220:35)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     at res.toJSON.then.StripeAPIError.message (/Users/edouardtoulet/Desktop/Js/REACT/amazon-clone/functions/node_modules/stripe/lib/StripeResource.js:220:35)"}}
[info] >      at processTicksAndRejections (internal/process/task_queues.js:93:5) {"user":"    at processTicksAndRejections (internal/process/task_queues.js:93:5)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     at processTicksAndRejections (internal/process/task_queues.js:93:5)"}}
[info] >  (Use `node --trace-warnings ...` to show where the warning was created) {"user":"(Use `node --trace-warnings ...` to show where the warning was created)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m (Use `node --trace-warnings ...` to show where the warning was created)"}}
[info] >  (node:28645) UnhandledPromiseRejectionWarning: Unhandled promise rejection. This error originated either by throwing inside of an async function without a catch block, or by rejecting a promise which was not handled with .catch(). To terminate the node process on unhandled promise rejection, use the CLI flag `--unhandled-rejections=strict` (see https://nodejs.org/api/cli.html#cli_unhandled_rejections_mode). (rejection id: 1) {"user":"(node:28645) UnhandledPromiseRejectionWarning: Unhandled promise rejection. This error originated either by throwing inside of an async function without a catch block, or by rejecting a promise which was not handled with .catch(). To terminate the node process on unhandled promise rejection, use the CLI flag `--unhandled-rejections=strict` (see https://nodejs.org/api/cli.html#cli_unhandled_rejections_mode). (rejection id: 1)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m (node:28645) UnhandledPromiseRejectionWarning: Unhandled promise rejection. This error originated either by throwing inside of an async function without a catch block, or by rejecting a promise which was not handled with .catch(). To terminate the node process on unhandled promise rejection, use the CLI flag `--unhandled-rejections=strict` (see https://nodejs.org/api/cli.html#cli_unhandled_rejections_mode). (rejection id: 1)"}}
[info] >  (node:28645) [DEP0018] DeprecationWarning: Unhandled promise rejections are deprecated. In the future, promise rejections that are not handled will terminate the Node.js process with a non-zero exit code. {"user":"(node:28645) [DEP0018] DeprecationWarning: Unhandled promise rejections are deprecated. In the future, promise rejections that are not handled will terminate the Node.js process with a non-zero exit code.","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m (node:28645) [DEP0018] DeprecationWarning: Unhandled promise rejections are deprecated. In the future, promise rejections that are not handled will terminate the Node.js process with a non-zero exit code."}}
[warn] ⚠  functions: Your function timed out after ~60s. To configure this timeout, see
      https://firebase.google.com/docs/functions/manage-functions#set_timeout_and_memory_allocation. {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"Your function timed out after ~60s. To configure this timeout, see\n      https://firebase.google.com/docs/functions/manage-functions#set_timeout_and_memory_allocation."}}
[info] >  /usr/local/lib/node_modules/firebase-tools/lib/emulator/functionsEmulatorRuntime.js:679 {"user":"/usr/local/lib/node_modules/firebase-tools/lib/emulator/functionsEmulatorRuntime.js:679","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m /usr/local/lib/node_modules/firebase-tools/lib/emulator/functionsEmulatorRuntime.js:679"}}
[info] >              throw new Error("Function timed out."); {"user":"            throw new Error(\"Function timed out.\");","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m             throw new Error(\"Function timed out.\");"}}
[info] >              ^ {"user":"            ^","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m             ^"}}
[info] >   {"user":"","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m "}}
[info] >  Error: Function timed out. {"user":"Error: Function timed out.","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m Error: Function timed out."}}
[info] >      at Timeout._onTimeout (/usr/local/lib/node_modules/firebase-tools/lib/emulator/functionsEmulatorRuntime.js:679:19) {"user":"    at Timeout._onTimeout (/usr/local/lib/node_modules/firebase-tools/lib/emulator/functionsEmulatorRuntime.js:679:19)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     at Timeout._onTimeout (/usr/local/lib/node_modules/firebase-tools/lib/emulator/functionsEmulatorRuntime.js:679:19)"}}
[info] >      at listOnTimeout (internal/timers.js:554:17) {"user":"    at listOnTimeout (internal/timers.js:554:17)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     at listOnTimeout (internal/timers.js:554:17)"}}
[info] >      at processTimers (internal/timers.js:497:7) {"user":"    at processTimers (internal/timers.js:497:7)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     at processTimers (internal/timers.js:497:7)"}}
[debug] [2021-09-23T13:28:09.990Z] [worker-us-central1-api-7fd9aeaf-83ae-4b3c-851f-0d677ad0ccdf]: exited {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-api-7fd9aeaf-83ae-4b3c-851f-0d677ad0ccdf]: exited"}}
[debug] [2021-09-23T13:28:09.990Z] [worker-us-central1-api-7fd9aeaf-83ae-4b3c-851f-0d677ad0ccdf]: FINISHED {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-api-7fd9aeaf-83ae-4b3c-851f-0d677ad0ccdf]: FINISHED"}}
[debug] [2021-09-23T13:28:09.990Z] [work-queue] {"queueLength":0,"workRunningCount":0}
[debug] [2021-09-23T13:29:56.466Z] [work-queue] {"queueLength":1,"workRunningCount":0}
[debug] [2021-09-23T13:29:56.467Z] [work-queue] {"queueLength":0,"workRunningCount":1}
[debug] [2021-09-23T13:29:56.467Z] Accepted request POST /clone-e655c/us-central1/api/payments/create?total=0 --> us-central1-api
[debug] [2021-09-23T13:29:56.467Z] [worker-pool] Cleaned up workers for us-central1-api: 1 --> 0 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Cleaned up workers for us-central1-api: 1 --> 0"}}
[debug] [2021-09-23T13:29:56.474Z] [worker-pool] addWorker(us-central1-api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] addWorker(us-central1-api)"}}
[debug] [2021-09-23T13:29:56.475Z] [worker-pool] Adding worker with key us-central1-api, total=1 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Adding worker with key us-central1-api, total=1"}}
[debug] [2021-09-23T13:29:56.475Z] [worker-pool] submitWork(triggerId=us-central1-api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitWork(triggerId=us-central1-api)"}}
[debug] [2021-09-23T13:29:56.475Z] [worker-us-central1-api-4a829477-ac9a-4006-8772-fdf660726b0c]: Assigning socketPath: /var/folders/1q/t08t1c7147b3jyhcc6c2xwfr0000gn/T/fire_emu_28697.sock {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-api-4a829477-ac9a-4006-8772-fdf660726b0c]: Assigning socketPath: /var/folders/1q/t08t1c7147b3jyhcc6c2xwfr0000gn/T/fire_emu_28697.sock"}}
[debug] [2021-09-23T13:29:56.475Z] [worker-us-central1-api-4a829477-ac9a-4006-8772-fdf660726b0c]: BUSY {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-api-4a829477-ac9a-4006-8772-fdf660726b0c]: BUSY"}}
[debug] [2021-09-23T13:29:57.311Z] [runtime-status] [28697] Functions runtime initialized. {"cwd":"/Users/edouardtoulet/Desktop/Js/REACT/amazon-clone/functions","node_version":"14.15.5"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [28697] Functions runtime initialized. {\"cwd\":\"/Users/edouardtoulet/Desktop/Js/REACT/amazon-clone/functions\",\"node_version\":\"14.15.5\"}"}}
[debug] [2021-09-23T13:29:57.324Z] [runtime-status] [28697] Disabled runtime features: undefined {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [28697] Disabled runtime features: undefined"}}
[debug] [2021-09-23T13:29:57.336Z] [runtime-status] [28697] Resolved module firebase-admin {"declared":true,"installed":true,"version":"9.11.1","resolution":"/Users/edouardtoulet/Desktop/Js/REACT/amazon-clone/functions/node_modules/firebase-admin/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [28697] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"9.11.1\",\"resolution\":\"/Users/edouardtoulet/Desktop/Js/REACT/amazon-clone/functions/node_modules/firebase-admin/lib/index.js\"}"}}
[debug] [2021-09-23T13:29:57.343Z] [runtime-status] [28697] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.15.7","resolution":"/Users/edouardtoulet/Desktop/Js/REACT/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [28697] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.15.7\",\"resolution\":\"/Users/edouardtoulet/Desktop/Js/REACT/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2021-09-23T13:29:57.345Z] [runtime-status] [28697] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.15.7","resolution":"/Users/edouardtoulet/Desktop/Js/REACT/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [28697] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.15.7\",\"resolution\":\"/Users/edouardtoulet/Desktop/Js/REACT/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2021-09-23T13:29:57.348Z] [runtime-status] [28697] Outgoing network have been stubbed. [{"name":"http","status":"mocked"},{"name":"http","status":"mocked"},{"name":"https","status":"mocked"},{"name":"https","status":"mocked"},{"name":"net","status":"mocked"}] {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [28697] Outgoing network have been stubbed. [{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"net\",\"status\":\"mocked\"}]"}}
[debug] [2021-09-23T13:29:57.350Z] [runtime-status] [28697] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.15.7","resolution":"/Users/edouardtoulet/Desktop/Js/REACT/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [28697] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.15.7\",\"resolution\":\"/Users/edouardtoulet/Desktop/Js/REACT/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2021-09-23T13:29:57.489Z] [runtime-status] [28697] Checked functions.config() {"config":{}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [28697] Checked functions.config() {\"config\":{}}"}}
[debug] [2021-09-23T13:29:57.489Z] [runtime-status] [28697] firebase-functions has been stubbed. {"functionsResolution":{"declared":true,"installed":true,"version":"3.15.7","resolution":"/Users/edouardtoulet/Desktop/Js/REACT/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [28697] firebase-functions has been stubbed. {\"functionsResolution\":{\"declared\":true,\"installed\":true,\"version\":\"3.15.7\",\"resolution\":\"/Users/edouardtoulet/Desktop/Js/REACT/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}}"}}
[debug] [2021-09-23T13:29:57.490Z] [runtime-status] [28697] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.15.7","resolution":"/Users/edouardtoulet/Desktop/Js/REACT/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [28697] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.15.7\",\"resolution\":\"/Users/edouardtoulet/Desktop/Js/REACT/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2021-09-23T13:29:57.491Z] [runtime-status] [28697] Resolved module firebase-admin {"declared":true,"installed":true,"version":"9.11.1","resolution":"/Users/edouardtoulet/Desktop/Js/REACT/amazon-clone/functions/node_modules/firebase-admin/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [28697] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"9.11.1\",\"resolution\":\"/Users/edouardtoulet/Desktop/Js/REACT/amazon-clone/functions/node_modules/firebase-admin/lib/index.js\"}"}}
[debug] [2021-09-23T13:29:57.492Z] [runtime-status] [28697] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.15.7","resolution":"/Users/edouardtoulet/Desktop/Js/REACT/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [28697] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.15.7\",\"resolution\":\"/Users/edouardtoulet/Desktop/Js/REACT/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2021-09-23T13:29:57.492Z] [runtime-status] [28697] firebase-admin has been stubbed. {"adminResolution":{"declared":true,"installed":true,"version":"9.11.1","resolution":"/Users/edouardtoulet/Desktop/Js/REACT/amazon-clone/functions/node_modules/firebase-admin/lib/index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [28697] firebase-admin has been stubbed. {\"adminResolution\":{\"declared\":true,\"installed\":true,\"version\":\"9.11.1\",\"resolution\":\"/Users/edouardtoulet/Desktop/Js/REACT/amazon-clone/functions/node_modules/firebase-admin/lib/index.js\"}}"}}
[debug] [2021-09-23T13:29:58.049Z] [runtime-status] [28697] Trigger "us-central1-api" has been found, beginning invocation! {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [28697] Trigger \"us-central1-api\" has been found, beginning invocation!"}}
[info] i  functions: Beginning execution of "us-central1-api" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"Beginning execution of \"us-central1-api\""}}
[debug] [2021-09-23T13:29:58.050Z] [runtime-status] [28697] triggerDefinition {"httpsTrigger":{},"name":"api","entryPoint":"api","regions":["us-central1"],"region":"us-central1","id":"us-central1-api"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [28697] triggerDefinition {\"httpsTrigger\":{},\"name\":\"api\",\"entryPoint\":\"api\",\"regions\":[\"us-central1\"],\"region\":\"us-central1\",\"id\":\"us-central1-api\"}"}}
[debug] [2021-09-23T13:29:58.050Z] [runtime-status] [28697] Running us-central1-api in mode HTTPS {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [28697] Running us-central1-api in mode HTTPS"}}
[debug] [2021-09-23T13:29:58.059Z] [runtime-status] [28697] Attempting to listen to socketPath: /var/folders/1q/t08t1c7147b3jyhcc6c2xwfr0000gn/T/fire_emu_28697.sock {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [28697] Attempting to listen to socketPath: /var/folders/1q/t08t1c7147b3jyhcc6c2xwfr0000gn/T/fire_emu_28697.sock"}}
[debug] [2021-09-23T13:29:58.074Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2021-09-23T13:29:58.074Z] [functions] Got req.url=/clone-e655c/us-central1/api/payments/create?total=0, mapping to path=/payments/create?total=0 {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Got req.url=/clone-e655c/us-central1/api/payments/create?total=0, mapping to path=/payments/create?total=0"}}
[debug] [2021-09-23T13:29:58.100Z] [runtime-status] [28697] Ephemeral server handling POST request {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [28697] Ephemeral server handling POST request"}}
[info] >  Payment Request received BOOOOOM !! 0 {"user":"Payment Request received BOOOOOM !! 0","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m Payment Request received BOOOOOM !! 0"}}
[debug] [2021-09-23T13:29:58.123Z] [runtime-status] [28697] Ephemeral server survived. {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [28697] Ephemeral server survived."}}
[info] >  (node:28697) UnhandledPromiseRejectionWarning: Error: This value must be greater than or equal to 1. {"user":"(node:28697) UnhandledPromiseRejectionWarning: Error: This value must be greater than or equal to 1.","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m (node:28697) UnhandledPromiseRejectionWarning: Error: This value must be greater than or equal to 1."}}
[info] >      at Function.generate (/Users/edouardtoulet/Desktop/Js/REACT/amazon-clone/functions/node_modules/stripe/lib/Error.js:40:16) {"user":"    at Function.generate (/Users/edouardtoulet/Desktop/Js/REACT/amazon-clone/functions/node_modules/stripe/lib/Error.js:40:16)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     at Function.generate (/Users/edouardtoulet/Desktop/Js/REACT/amazon-clone/functions/node_modules/stripe/lib/Error.js:40:16)"}}
[info] >      at res.toJSON.then.StripeAPIError.message (/Users/edouardtoulet/Desktop/Js/REACT/amazon-clone/functions/node_modules/stripe/lib/StripeResource.js:220:35) {"user":"    at res.toJSON.then.StripeAPIError.message (/Users/edouardtoulet/Desktop/Js/REACT/amazon-clone/functions/node_modules/stripe/lib/StripeResource.js:220:35)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     at res.toJSON.then.StripeAPIError.message (/Users/edouardtoulet/Desktop/Js/REACT/amazon-clone/functions/node_modules/stripe/lib/StripeResource.js:220:35)"}}
[info] >      at processTicksAndRejections (internal/process/task_queues.js:93:5) {"user":"    at processTicksAndRejections (internal/process/task_queues.js:93:5)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     at processTicksAndRejections (internal/process/task_queues.js:93:5)"}}
[info] >  (Use `node --trace-warnings ...` to show where the warning was created) {"user":"(Use `node --trace-warnings ...` to show where the warning was created)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m (Use `node --trace-warnings ...` to show where the warning was created)"}}
[info] >  (node:28697) UnhandledPromiseRejectionWarning: Unhandled promise rejection. This error originated either by throwing inside of an async function without a catch block, or by rejecting a promise which was not handled with .catch(). To terminate the node process on unhandled promise rejection, use the CLI flag `--unhandled-rejections=strict` (see https://nodejs.org/api/cli.html#cli_unhandled_rejections_mode). (rejection id: 1) {"user":"(node:28697) UnhandledPromiseRejectionWarning: Unhandled promise rejection. This error originated either by throwing inside of an async function without a catch block, or by rejecting a promise which was not handled with .catch(). To terminate the node process on unhandled promise rejection, use the CLI flag `--unhandled-rejections=strict` (see https://nodejs.org/api/cli.html#cli_unhandled_rejections_mode). (rejection id: 1)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m (node:28697) UnhandledPromiseRejectionWarning: Unhandled promise rejection. This error originated either by throwing inside of an async function without a catch block, or by rejecting a promise which was not handled with .catch(). To terminate the node process on unhandled promise rejection, use the CLI flag `--unhandled-rejections=strict` (see https://nodejs.org/api/cli.html#cli_unhandled_rejections_mode). (rejection id: 1)"}}
[info] >  (node:28697) [DEP0018] DeprecationWarning: Unhandled promise rejections are deprecated. In the future, promise rejections that are not handled will terminate the Node.js process with a non-zero exit code. {"user":"(node:28697) [DEP0018] DeprecationWarning: Unhandled promise rejections are deprecated. In the future, promise rejections that are not handled will terminate the Node.js process with a non-zero exit code.","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m (node:28697) [DEP0018] DeprecationWarning: Unhandled promise rejections are deprecated. In the future, promise rejections that are not handled will terminate the Node.js process with a non-zero exit code."}}
[debug] [2021-09-23T13:30:00.337Z] [work-queue] {"queueLength":1,"workRunningCount":1}
[debug] [2021-09-23T13:30:00.337Z] [work-queue] {"queueLength":0,"workRunningCount":2}
[debug] [2021-09-23T13:30:00.337Z] Accepted request POST /clone-e655c/us-central1/api/payments/create?total=0 --> us-central1-api
[debug] [2021-09-23T13:30:00.343Z] [worker-pool] addWorker(us-central1-api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] addWorker(us-central1-api)"}}
[debug] [2021-09-23T13:30:00.343Z] [worker-pool] Adding worker with key us-central1-api, total=2 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Adding worker with key us-central1-api, total=2"}}
[debug] [2021-09-23T13:30:00.343Z] [worker-pool] submitWork(triggerId=us-central1-api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitWork(triggerId=us-central1-api)"}}
[debug] [2021-09-23T13:30:00.343Z] [worker-us-central1-api-78db1983-4670-4b63-b115-04b17b9ffe6b]: Assigning socketPath: /var/folders/1q/t08t1c7147b3jyhcc6c2xwfr0000gn/T/fire_emu_28700.sock {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-api-78db1983-4670-4b63-b115-04b17b9ffe6b]: Assigning socketPath: /var/folders/1q/t08t1c7147b3jyhcc6c2xwfr0000gn/T/fire_emu_28700.sock"}}
[debug] [2021-09-23T13:30:00.344Z] [worker-us-central1-api-78db1983-4670-4b63-b115-04b17b9ffe6b]: BUSY {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-api-78db1983-4670-4b63-b115-04b17b9ffe6b]: BUSY"}}
[debug] [2021-09-23T13:30:01.117Z] [runtime-status] [28700] Functions runtime initialized. {"cwd":"/Users/edouardtoulet/Desktop/Js/REACT/amazon-clone/functions","node_version":"14.15.5"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [28700] Functions runtime initialized. {\"cwd\":\"/Users/edouardtoulet/Desktop/Js/REACT/amazon-clone/functions\",\"node_version\":\"14.15.5\"}"}}
[debug] [2021-09-23T13:30:01.122Z] [runtime-status] [28700] Disabled runtime features: undefined {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [28700] Disabled runtime features: undefined"}}
[debug] [2021-09-23T13:30:01.125Z] [runtime-status] [28700] Resolved module firebase-admin {"declared":true,"installed":true,"version":"9.11.1","resolution":"/Users/edouardtoulet/Desktop/Js/REACT/amazon-clone/functions/node_modules/firebase-admin/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [28700] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"9.11.1\",\"resolution\":\"/Users/edouardtoulet/Desktop/Js/REACT/amazon-clone/functions/node_modules/firebase-admin/lib/index.js\"}"}}
[debug] [2021-09-23T13:30:01.130Z] [runtime-status] [28700] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.15.7","resolution":"/Users/edouardtoulet/Desktop/Js/REACT/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [28700] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.15.7\",\"resolution\":\"/Users/edouardtoulet/Desktop/Js/REACT/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2021-09-23T13:30:01.139Z] [runtime-status] [28700] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.15.7","resolution":"/Users/edouardtoulet/Desktop/Js/REACT/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [28700] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.15.7\",\"resolution\":\"/Users/edouardtoulet/Desktop/Js/REACT/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2021-09-23T13:30:01.151Z] [runtime-status] [28700] Outgoing network have been stubbed. [{"name":"http","status":"mocked"},{"name":"http","status":"mocked"},{"name":"https","status":"mocked"},{"name":"https","status":"mocked"},{"name":"net","status":"mocked"}] {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [28700] Outgoing network have been stubbed. [{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"net\",\"status\":\"mocked\"}]"}}
[debug] [2021-09-23T13:30:01.154Z] [runtime-status] [28700] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.15.7","resolution":"/Users/edouardtoulet/Desktop/Js/REACT/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [28700] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.15.7\",\"resolution\":\"/Users/edouardtoulet/Desktop/Js/REACT/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2021-09-23T13:30:01.315Z] [runtime-status] [28700] Checked functions.config() {"config":{}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [28700] Checked functions.config() {\"config\":{}}"}}
[debug] [2021-09-23T13:30:01.320Z] [runtime-status] [28700] firebase-functions has been stubbed. {"functionsResolution":{"declared":true,"installed":true,"version":"3.15.7","resolution":"/Users/edouardtoulet/Desktop/Js/REACT/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [28700] firebase-functions has been stubbed. {\"functionsResolution\":{\"declared\":true,\"installed\":true,\"version\":\"3.15.7\",\"resolution\":\"/Users/edouardtoulet/Desktop/Js/REACT/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}}"}}
[debug] [2021-09-23T13:30:01.322Z] [runtime-status] [28700] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.15.7","resolution":"/Users/edouardtoulet/Desktop/Js/REACT/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [28700] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.15.7\",\"resolution\":\"/Users/edouardtoulet/Desktop/Js/REACT/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2021-09-23T13:30:01.323Z] [runtime-status] [28700] Resolved module firebase-admin {"declared":true,"installed":true,"version":"9.11.1","resolution":"/Users/edouardtoulet/Desktop/Js/REACT/amazon-clone/functions/node_modules/firebase-admin/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [28700] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"9.11.1\",\"resolution\":\"/Users/edouardtoulet/Desktop/Js/REACT/amazon-clone/functions/node_modules/firebase-admin/lib/index.js\"}"}}
[debug] [2021-09-23T13:30:01.367Z] [runtime-status] [28700] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.15.7","resolution":"/Users/edouardtoulet/Desktop/Js/REACT/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [28700] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.15.7\",\"resolution\":\"/Users/edouardtoulet/Desktop/Js/REACT/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2021-09-23T13:30:01.367Z] [runtime-status] [28700] firebase-admin has been stubbed. {"adminResolution":{"declared":true,"installed":true,"version":"9.11.1","resolution":"/Users/edouardtoulet/Desktop/Js/REACT/amazon-clone/functions/node_modules/firebase-admin/lib/index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [28700] firebase-admin has been stubbed. {\"adminResolution\":{\"declared\":true,\"installed\":true,\"version\":\"9.11.1\",\"resolution\":\"/Users/edouardtoulet/Desktop/Js/REACT/amazon-clone/functions/node_modules/firebase-admin/lib/index.js\"}}"}}
[debug] [2021-09-23T13:30:01.914Z] [runtime-status] [28700] Trigger "us-central1-api" has been found, beginning invocation! {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [28700] Trigger \"us-central1-api\" has been found, beginning invocation!"}}
[info] i  functions: Beginning execution of "us-central1-api" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"Beginning execution of \"us-central1-api\""}}
[debug] [2021-09-23T13:30:01.919Z] [runtime-status] [28700] triggerDefinition {"httpsTrigger":{},"name":"api","entryPoint":"api","regions":["us-central1"],"region":"us-central1","id":"us-central1-api"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [28700] triggerDefinition {\"httpsTrigger\":{},\"name\":\"api\",\"entryPoint\":\"api\",\"regions\":[\"us-central1\"],\"region\":\"us-central1\",\"id\":\"us-central1-api\"}"}}
[debug] [2021-09-23T13:30:01.920Z] [runtime-status] [28700] Running us-central1-api in mode HTTPS {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [28700] Running us-central1-api in mode HTTPS"}}
[debug] [2021-09-23T13:30:01.925Z] [runtime-status] [28700] Attempting to listen to socketPath: /var/folders/1q/t08t1c7147b3jyhcc6c2xwfr0000gn/T/fire_emu_28700.sock {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [28700] Attempting to listen to socketPath: /var/folders/1q/t08t1c7147b3jyhcc6c2xwfr0000gn/T/fire_emu_28700.sock"}}
[debug] [2021-09-23T13:30:01.929Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2021-09-23T13:30:01.929Z] [functions] Got req.url=/clone-e655c/us-central1/api/payments/create?total=0, mapping to path=/payments/create?total=0 {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Got req.url=/clone-e655c/us-central1/api/payments/create?total=0, mapping to path=/payments/create?total=0"}}
[debug] [2021-09-23T13:30:01.950Z] [runtime-status] [28700] Ephemeral server handling POST request {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [28700] Ephemeral server handling POST request"}}
[info] >  Payment Request received BOOOOOM !! 0 {"user":"Payment Request received BOOOOOM !! 0","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m Payment Request received BOOOOOM !! 0"}}
[debug] [2021-09-23T13:30:01.982Z] [runtime-status] [28700] Ephemeral server survived. {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [28700] Ephemeral server survived."}}
[info] >  (node:28700) UnhandledPromiseRejectionWarning: Error: This value must be greater than or equal to 1. {"user":"(node:28700) UnhandledPromiseRejectionWarning: Error: This value must be greater than or equal to 1.","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m (node:28700) UnhandledPromiseRejectionWarning: Error: This value must be greater than or equal to 1."}}
[info] >      at Function.generate (/Users/edouardtoulet/Desktop/Js/REACT/amazon-clone/functions/node_modules/stripe/lib/Error.js:40:16) {"user":"    at Function.generate (/Users/edouardtoulet/Desktop/Js/REACT/amazon-clone/functions/node_modules/stripe/lib/Error.js:40:16)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     at Function.generate (/Users/edouardtoulet/Desktop/Js/REACT/amazon-clone/functions/node_modules/stripe/lib/Error.js:40:16)"}}
[info] >      at res.toJSON.then.StripeAPIError.message (/Users/edouardtoulet/Desktop/Js/REACT/amazon-clone/functions/node_modules/stripe/lib/StripeResource.js:220:35) {"user":"    at res.toJSON.then.StripeAPIError.message (/Users/edouardtoulet/Desktop/Js/REACT/amazon-clone/functions/node_modules/stripe/lib/StripeResource.js:220:35)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     at res.toJSON.then.StripeAPIError.message (/Users/edouardtoulet/Desktop/Js/REACT/amazon-clone/functions/node_modules/stripe/lib/StripeResource.js:220:35)"}}
[info] >      at processTicksAndRejections (internal/process/task_queues.js:93:5) {"user":"    at processTicksAndRejections (internal/process/task_queues.js:93:5)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     at processTicksAndRejections (internal/process/task_queues.js:93:5)"}}
[info] >  (Use `node --trace-warnings ...` to show where the warning was created) {"user":"(Use `node --trace-warnings ...` to show where the warning was created)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m (Use `node --trace-warnings ...` to show where the warning was created)"}}
[info] >  (node:28700) UnhandledPromiseRejectionWarning: Unhandled promise rejection. This error originated either by throwing inside of an async function without a catch block, or by rejecting a promise which was not handled with .catch(). To terminate the node process on unhandled promise rejection, use the CLI flag `--unhandled-rejections=strict` (see https://nodejs.org/api/cli.html#cli_unhandled_rejections_mode). (rejection id: 1) {"user":"(node:28700) UnhandledPromiseRejectionWarning: Unhandled promise rejection. This error originated either by throwing inside of an async function without a catch block, or by rejecting a promise which was not handled with .catch(). To terminate the node process on unhandled promise rejection, use the CLI flag `--unhandled-rejections=strict` (see https://nodejs.org/api/cli.html#cli_unhandled_rejections_mode). (rejection id: 1)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m (node:28700) UnhandledPromiseRejectionWarning: Unhandled promise rejection. This error originated either by throwing inside of an async function without a catch block, or by rejecting a promise which was not handled with .catch(). To terminate the node process on unhandled promise rejection, use the CLI flag `--unhandled-rejections=strict` (see https://nodejs.org/api/cli.html#cli_unhandled_rejections_mode). (rejection id: 1)"}}
[info] >  (node:28700) [DEP0018] DeprecationWarning: Unhandled promise rejections are deprecated. In the future, promise rejections that are not handled will terminate the Node.js process with a non-zero exit code. {"user":"(node:28700) [DEP0018] DeprecationWarning: Unhandled promise rejections are deprecated. In the future, promise rejections that are not handled will terminate the Node.js process with a non-zero exit code.","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m (node:28700) [DEP0018] DeprecationWarning: Unhandled promise rejections are deprecated. In the future, promise rejections that are not handled will terminate the Node.js process with a non-zero exit code."}}
[debug] [2021-09-23T13:30:30.562Z] [work-queue] {"queueLength":1,"workRunningCount":2}
[debug] [2021-09-23T13:30:30.562Z] [work-queue] {"queueLength":0,"workRunningCount":3}
[debug] [2021-09-23T13:30:30.563Z] Accepted request POST /clone-e655c/us-central1/api/payments/create?total=0 --> us-central1-api
[debug] [2021-09-23T13:30:30.569Z] [worker-pool] addWorker(us-central1-api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] addWorker(us-central1-api)"}}
[debug] [2021-09-23T13:30:30.569Z] [worker-pool] Adding worker with key us-central1-api, total=3 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Adding worker with key us-central1-api, total=3"}}
[debug] [2021-09-23T13:30:30.569Z] [worker-pool] submitWork(triggerId=us-central1-api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitWork(triggerId=us-central1-api)"}}
[debug] [2021-09-23T13:30:30.570Z] [worker-us-central1-api-b5071ca6-d2c4-468a-a3aa-de520e1601b6]: Assigning socketPath: /var/folders/1q/t08t1c7147b3jyhcc6c2xwfr0000gn/T/fire_emu_28714.sock {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-api-b5071ca6-d2c4-468a-a3aa-de520e1601b6]: Assigning socketPath: /var/folders/1q/t08t1c7147b3jyhcc6c2xwfr0000gn/T/fire_emu_28714.sock"}}
[debug] [2021-09-23T13:30:30.570Z] [worker-us-central1-api-b5071ca6-d2c4-468a-a3aa-de520e1601b6]: BUSY {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-api-b5071ca6-d2c4-468a-a3aa-de520e1601b6]: BUSY"}}
[debug] [2021-09-23T13:30:30.971Z] [runtime-status] [28714] Functions runtime initialized. {"cwd":"/Users/edouardtoulet/Desktop/Js/REACT/amazon-clone/functions","node_version":"14.15.5"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [28714] Functions runtime initialized. {\"cwd\":\"/Users/edouardtoulet/Desktop/Js/REACT/amazon-clone/functions\",\"node_version\":\"14.15.5\"}"}}
[debug] [2021-09-23T13:30:30.975Z] [runtime-status] [28714] Disabled runtime features: undefined {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [28714] Disabled runtime features: undefined"}}
[debug] [2021-09-23T13:30:30.978Z] [runtime-status] [28714] Resolved module firebase-admin {"declared":true,"installed":true,"version":"9.11.1","resolution":"/Users/edouardtoulet/Desktop/Js/REACT/amazon-clone/functions/node_modules/firebase-admin/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [28714] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"9.11.1\",\"resolution\":\"/Users/edouardtoulet/Desktop/Js/REACT/amazon-clone/functions/node_modules/firebase-admin/lib/index.js\"}"}}
[debug] [2021-09-23T13:30:30.980Z] [runtime-status] [28714] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.15.7","resolution":"/Users/edouardtoulet/Desktop/Js/REACT/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [28714] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.15.7\",\"resolution\":\"/Users/edouardtoulet/Desktop/Js/REACT/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2021-09-23T13:30:30.983Z] [runtime-status] [28714] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.15.7","resolution":"/Users/edouardtoulet/Desktop/Js/REACT/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [28714] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.15.7\",\"resolution\":\"/Users/edouardtoulet/Desktop/Js/REACT/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2021-09-23T13:30:30.985Z] [runtime-status] [28714] Outgoing network have been stubbed. [{"name":"http","status":"mocked"},{"name":"http","status":"mocked"},{"name":"https","status":"mocked"},{"name":"https","status":"mocked"},{"name":"net","status":"mocked"}] {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [28714] Outgoing network have been stubbed. [{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"net\",\"status\":\"mocked\"}]"}}
[debug] [2021-09-23T13:30:30.986Z] [runtime-status] [28714] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.15.7","resolution":"/Users/edouardtoulet/Desktop/Js/REACT/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [28714] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.15.7\",\"resolution\":\"/Users/edouardtoulet/Desktop/Js/REACT/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2021-09-23T13:30:31.313Z] [runtime-status] [28714] Checked functions.config() {"config":{}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [28714] Checked functions.config() {\"config\":{}}"}}
[debug] [2021-09-23T13:30:31.313Z] [runtime-status] [28714] firebase-functions has been stubbed. {"functionsResolution":{"declared":true,"installed":true,"version":"3.15.7","resolution":"/Users/edouardtoulet/Desktop/Js/REACT/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [28714] firebase-functions has been stubbed. {\"functionsResolution\":{\"declared\":true,\"installed\":true,\"version\":\"3.15.7\",\"resolution\":\"/Users/edouardtoulet/Desktop/Js/REACT/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}}"}}
[debug] [2021-09-23T13:30:31.314Z] [runtime-status] [28714] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.15.7","resolution":"/Users/edouardtoulet/Desktop/Js/REACT/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [28714] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.15.7\",\"resolution\":\"/Users/edouardtoulet/Desktop/Js/REACT/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2021-09-23T13:30:31.315Z] [runtime-status] [28714] Resolved module firebase-admin {"declared":true,"installed":true,"version":"9.11.1","resolution":"/Users/edouardtoulet/Desktop/Js/REACT/amazon-clone/functions/node_modules/firebase-admin/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [28714] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"9.11.1\",\"resolution\":\"/Users/edouardtoulet/Desktop/Js/REACT/amazon-clone/functions/node_modules/firebase-admin/lib/index.js\"}"}}
[debug] [2021-09-23T13:30:31.316Z] [runtime-status] [28714] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.15.7","resolution":"/Users/edouardtoulet/Desktop/Js/REACT/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [28714] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.15.7\",\"resolution\":\"/Users/edouardtoulet/Desktop/Js/REACT/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2021-09-23T13:30:31.316Z] [runtime-status] [28714] firebase-admin has been stubbed. {"adminResolution":{"declared":true,"installed":true,"version":"9.11.1","resolution":"/Users/edouardtoulet/Desktop/Js/REACT/amazon-clone/functions/node_modules/firebase-admin/lib/index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [28714] firebase-admin has been stubbed. {\"adminResolution\":{\"declared\":true,\"installed\":true,\"version\":\"9.11.1\",\"resolution\":\"/Users/edouardtoulet/Desktop/Js/REACT/amazon-clone/functions/node_modules/firebase-admin/lib/index.js\"}}"}}
[debug] [2021-09-23T13:30:31.728Z] [runtime-status] [28714] Trigger "us-central1-api" has been found, beginning invocation! {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [28714] Trigger \"us-central1-api\" has been found, beginning invocation!"}}
[info] i  functions: Beginning execution of "us-central1-api" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"Beginning execution of \"us-central1-api\""}}
[debug] [2021-09-23T13:30:31.728Z] [runtime-status] [28714] triggerDefinition {"httpsTrigger":{},"name":"api","entryPoint":"api","regions":["us-central1"],"region":"us-central1","id":"us-central1-api"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [28714] triggerDefinition {\"httpsTrigger\":{},\"name\":\"api\",\"entryPoint\":\"api\",\"regions\":[\"us-central1\"],\"region\":\"us-central1\",\"id\":\"us-central1-api\"}"}}
[debug] [2021-09-23T13:30:31.729Z] [runtime-status] [28714] Running us-central1-api in mode HTTPS {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [28714] Running us-central1-api in mode HTTPS"}}
[debug] [2021-09-23T13:30:31.733Z] [runtime-status] [28714] Attempting to listen to socketPath: /var/folders/1q/t08t1c7147b3jyhcc6c2xwfr0000gn/T/fire_emu_28714.sock {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [28714] Attempting to listen to socketPath: /var/folders/1q/t08t1c7147b3jyhcc6c2xwfr0000gn/T/fire_emu_28714.sock"}}
[debug] [2021-09-23T13:30:31.737Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2021-09-23T13:30:31.737Z] [functions] Got req.url=/clone-e655c/us-central1/api/payments/create?total=0, mapping to path=/payments/create?total=0 {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Got req.url=/clone-e655c/us-central1/api/payments/create?total=0, mapping to path=/payments/create?total=0"}}
[debug] [2021-09-23T13:30:31.789Z] [runtime-status] [28714] Ephemeral server handling POST request {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [28714] Ephemeral server handling POST request"}}
[info] >  Payment Request received BOOOOOM !! 0 {"user":"Payment Request received BOOOOOM !! 0","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m Payment Request received BOOOOOM !! 0"}}
[debug] [2021-09-23T13:30:31.814Z] [runtime-status] [28714] Ephemeral server survived. {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [28714] Ephemeral server survived."}}
[info] >  (node:28714) UnhandledPromiseRejectionWarning: Error: This value must be greater than or equal to 1. {"user":"(node:28714) UnhandledPromiseRejectionWarning: Error: This value must be greater than or equal to 1.","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m (node:28714) UnhandledPromiseRejectionWarning: Error: This value must be greater than or equal to 1."}}
[info] >      at Function.generate (/Users/edouardtoulet/Desktop/Js/REACT/amazon-clone/functions/node_modules/stripe/lib/Error.js:40:16) {"user":"    at Function.generate (/Users/edouardtoulet/Desktop/Js/REACT/amazon-clone/functions/node_modules/stripe/lib/Error.js:40:16)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     at Function.generate (/Users/edouardtoulet/Desktop/Js/REACT/amazon-clone/functions/node_modules/stripe/lib/Error.js:40:16)"}}
[info] >      at res.toJSON.then.StripeAPIError.message (/Users/edouardtoulet/Desktop/Js/REACT/amazon-clone/functions/node_modules/stripe/lib/StripeResource.js:220:35) {"user":"    at res.toJSON.then.StripeAPIError.message (/Users/edouardtoulet/Desktop/Js/REACT/amazon-clone/functions/node_modules/stripe/lib/StripeResource.js:220:35)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     at res.toJSON.then.StripeAPIError.message (/Users/edouardtoulet/Desktop/Js/REACT/amazon-clone/functions/node_modules/stripe/lib/StripeResource.js:220:35)"}}
[info] >      at processTicksAndRejections (internal/process/task_queues.js:93:5) {"user":"    at processTicksAndRejections (internal/process/task_queues.js:93:5)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     at processTicksAndRejections (internal/process/task_queues.js:93:5)"}}
[info] >  (Use `node --trace-warnings ...` to show where the warning was created) {"user":"(Use `node --trace-warnings ...` to show where the warning was created)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m (Use `node --trace-warnings ...` to show where the warning was created)"}}
[info] >  (node:28714) UnhandledPromiseRejectionWarning: Unhandled promise rejection. This error originated either by throwing inside of an async function without a catch block, or by rejecting a promise which was not handled with .catch(). To terminate the node process on unhandled promise rejection, use the CLI flag `--unhandled-rejections=strict` (see https://nodejs.org/api/cli.html#cli_unhandled_rejections_mode). (rejection id: 1) {"user":"(node:28714) UnhandledPromiseRejectionWarning: Unhandled promise rejection. This error originated either by throwing inside of an async function without a catch block, or by rejecting a promise which was not handled with .catch(). To terminate the node process on unhandled promise rejection, use the CLI flag `--unhandled-rejections=strict` (see https://nodejs.org/api/cli.html#cli_unhandled_rejections_mode). (rejection id: 1)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m (node:28714) UnhandledPromiseRejectionWarning: Unhandled promise rejection. This error originated either by throwing inside of an async function without a catch block, or by rejecting a promise which was not handled with .catch(). To terminate the node process on unhandled promise rejection, use the CLI flag `--unhandled-rejections=strict` (see https://nodejs.org/api/cli.html#cli_unhandled_rejections_mode). (rejection id: 1)"}}
[info] >  (node:28714) [DEP0018] DeprecationWarning: Unhandled promise rejections are deprecated. In the future, promise rejections that are not handled will terminate the Node.js process with a non-zero exit code. {"user":"(node:28714) [DEP0018] DeprecationWarning: Unhandled promise rejections are deprecated. In the future, promise rejections that are not handled will terminate the Node.js process with a non-zero exit code.","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m (node:28714) [DEP0018] DeprecationWarning: Unhandled promise rejections are deprecated. In the future, promise rejections that are not handled will terminate the Node.js process with a non-zero exit code."}}
[warn] ⚠  functions: Your function timed out after ~60s. To configure this timeout, see
      https://firebase.google.com/docs/functions/manage-functions#set_timeout_and_memory_allocation. {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"Your function timed out after ~60s. To configure this timeout, see\n      https://firebase.google.com/docs/functions/manage-functions#set_timeout_and_memory_allocation."}}
[info] >  /usr/local/lib/node_modules/firebase-tools/lib/emulator/functionsEmulatorRuntime.js:679 {"user":"/usr/local/lib/node_modules/firebase-tools/lib/emulator/functionsEmulatorRuntime.js:679","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m /usr/local/lib/node_modules/firebase-tools/lib/emulator/functionsEmulatorRuntime.js:679"}}
[info] >              throw new Error("Function timed out."); {"user":"            throw new Error(\"Function timed out.\");","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m             throw new Error(\"Function timed out.\");"}}
[info] >              ^ {"user":"            ^","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m             ^"}}
[info] >   {"user":"","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m "}}
[info] >  Error: Function timed out. {"user":"Error: Function timed out.","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m Error: Function timed out."}}
[info] >      at Timeout._onTimeout (/usr/local/lib/node_modules/firebase-tools/lib/emulator/functionsEmulatorRuntime.js:679:19) {"user":"    at Timeout._onTimeout (/usr/local/lib/node_modules/firebase-tools/lib/emulator/functionsEmulatorRuntime.js:679:19)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     at Timeout._onTimeout (/usr/local/lib/node_modules/firebase-tools/lib/emulator/functionsEmulatorRuntime.js:679:19)"}}
[info] >      at listOnTimeout (internal/timers.js:554:17) {"user":"    at listOnTimeout (internal/timers.js:554:17)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     at listOnTimeout (internal/timers.js:554:17)"}}
[info] >      at processTimers (internal/timers.js:497:7) {"user":"    at processTimers (internal/timers.js:497:7)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     at processTimers (internal/timers.js:497:7)"}}
[debug] [2021-09-23T13:30:58.076Z] [worker-us-central1-api-4a829477-ac9a-4006-8772-fdf660726b0c]: exited {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-api-4a829477-ac9a-4006-8772-fdf660726b0c]: exited"}}
[debug] [2021-09-23T13:30:58.077Z] [worker-us-central1-api-4a829477-ac9a-4006-8772-fdf660726b0c]: FINISHED {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-api-4a829477-ac9a-4006-8772-fdf660726b0c]: FINISHED"}}
[debug] [2021-09-23T13:30:58.077Z] [work-queue] {"queueLength":0,"workRunningCount":2}
[warn] ⚠  functions: Your function timed out after ~60s. To configure this timeout, see
      https://firebase.google.com/docs/functions/manage-functions#set_timeout_and_memory_allocation. {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"Your function timed out after ~60s. To configure this timeout, see\n      https://firebase.google.com/docs/functions/manage-functions#set_timeout_and_memory_allocation."}}
[info] >  /usr/local/lib/node_modules/firebase-tools/lib/emulator/functionsEmulatorRuntime.js:679 {"user":"/usr/local/lib/node_modules/firebase-tools/lib/emulator/functionsEmulatorRuntime.js:679","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m /usr/local/lib/node_modules/firebase-tools/lib/emulator/functionsEmulatorRuntime.js:679"}}
[info] >              throw new Error("Function timed out."); {"user":"            throw new Error(\"Function timed out.\");","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m             throw new Error(\"Function timed out.\");"}}
[info] >              ^ {"user":"            ^","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m             ^"}}
[info] >   {"user":"","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m "}}
[info] >  Error: Function timed out. {"user":"Error: Function timed out.","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m Error: Function timed out."}}
[info] >      at Timeout._onTimeout (/usr/local/lib/node_modules/firebase-tools/lib/emulator/functionsEmulatorRuntime.js:679:19) {"user":"    at Timeout._onTimeout (/usr/local/lib/node_modules/firebase-tools/lib/emulator/functionsEmulatorRuntime.js:679:19)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     at Timeout._onTimeout (/usr/local/lib/node_modules/firebase-tools/lib/emulator/functionsEmulatorRuntime.js:679:19)"}}
[info] >      at listOnTimeout (internal/timers.js:554:17) {"user":"    at listOnTimeout (internal/timers.js:554:17)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     at listOnTimeout (internal/timers.js:554:17)"}}
[info] >      at processTimers (internal/timers.js:497:7) {"user":"    at processTimers (internal/timers.js:497:7)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     at processTimers (internal/timers.js:497:7)"}}
[debug] [2021-09-23T13:31:01.943Z] [worker-us-central1-api-78db1983-4670-4b63-b115-04b17b9ffe6b]: exited {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-api-78db1983-4670-4b63-b115-04b17b9ffe6b]: exited"}}
[debug] [2021-09-23T13:31:01.944Z] [worker-us-central1-api-78db1983-4670-4b63-b115-04b17b9ffe6b]: FINISHED {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-api-78db1983-4670-4b63-b115-04b17b9ffe6b]: FINISHED"}}
[debug] [2021-09-23T13:31:01.944Z] [work-queue] {"queueLength":0,"workRunningCount":1}
[debug] [2021-09-23T13:31:13.158Z] [work-queue] {"queueLength":1,"workRunningCount":1}
[debug] [2021-09-23T13:31:13.159Z] [work-queue] {"queueLength":0,"workRunningCount":2}
[debug] [2021-09-23T13:31:13.159Z] Accepted request POST /clone-e655c/us-central1/api/payments/create?total=0 --> us-central1-api
[debug] [2021-09-23T13:31:13.159Z] [worker-pool] Cleaned up workers for us-central1-api: 3 --> 1 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Cleaned up workers for us-central1-api: 3 --> 1"}}
[debug] [2021-09-23T13:31:13.166Z] [worker-pool] addWorker(us-central1-api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] addWorker(us-central1-api)"}}
[debug] [2021-09-23T13:31:13.166Z] [worker-pool] Adding worker with key us-central1-api, total=2 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Adding worker with key us-central1-api, total=2"}}
[debug] [2021-09-23T13:31:13.166Z] [worker-pool] submitWork(triggerId=us-central1-api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitWork(triggerId=us-central1-api)"}}
[debug] [2021-09-23T13:31:13.166Z] [worker-us-central1-api-2d4e3d6f-5136-4907-bdc0-235617051bfc]: Assigning socketPath: /var/folders/1q/t08t1c7147b3jyhcc6c2xwfr0000gn/T/fire_emu_28742.sock {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-api-2d4e3d6f-5136-4907-bdc0-235617051bfc]: Assigning socketPath: /var/folders/1q/t08t1c7147b3jyhcc6c2xwfr0000gn/T/fire_emu_28742.sock"}}
[debug] [2021-09-23T13:31:13.167Z] [worker-us-central1-api-2d4e3d6f-5136-4907-bdc0-235617051bfc]: BUSY {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-api-2d4e3d6f-5136-4907-bdc0-235617051bfc]: BUSY"}}
[debug] [2021-09-23T13:31:13.764Z] [runtime-status] [28742] Functions runtime initialized. {"cwd":"/Users/edouardtoulet/Desktop/Js/REACT/amazon-clone/functions","node_version":"14.15.5"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [28742] Functions runtime initialized. {\"cwd\":\"/Users/edouardtoulet/Desktop/Js/REACT/amazon-clone/functions\",\"node_version\":\"14.15.5\"}"}}
[debug] [2021-09-23T13:31:13.775Z] [runtime-status] [28742] Disabled runtime features: undefined {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [28742] Disabled runtime features: undefined"}}
[debug] [2021-09-23T13:31:13.779Z] [runtime-status] [28742] Resolved module firebase-admin {"declared":true,"installed":true,"version":"9.11.1","resolution":"/Users/edouardtoulet/Desktop/Js/REACT/amazon-clone/functions/node_modules/firebase-admin/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [28742] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"9.11.1\",\"resolution\":\"/Users/edouardtoulet/Desktop/Js/REACT/amazon-clone/functions/node_modules/firebase-admin/lib/index.js\"}"}}
[debug] [2021-09-23T13:31:13.782Z] [runtime-status] [28742] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.15.7","resolution":"/Users/edouardtoulet/Desktop/Js/REACT/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [28742] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.15.7\",\"resolution\":\"/Users/edouardtoulet/Desktop/Js/REACT/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2021-09-23T13:31:13.785Z] [runtime-status] [28742] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.15.7","resolution":"/Users/edouardtoulet/Desktop/Js/REACT/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [28742] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.15.7\",\"resolution\":\"/Users/edouardtoulet/Desktop/Js/REACT/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2021-09-23T13:31:13.787Z] [runtime-status] [28742] Outgoing network have been stubbed. [{"name":"http","status":"mocked"},{"name":"http","status":"mocked"},{"name":"https","status":"mocked"},{"name":"https","status":"mocked"},{"name":"net","status":"mocked"}] {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [28742] Outgoing network have been stubbed. [{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"net\",\"status\":\"mocked\"}]"}}
[debug] [2021-09-23T13:31:13.788Z] [runtime-status] [28742] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.15.7","resolution":"/Users/edouardtoulet/Desktop/Js/REACT/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [28742] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.15.7\",\"resolution\":\"/Users/edouardtoulet/Desktop/Js/REACT/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2021-09-23T13:31:13.847Z] [runtime-status] [28742] Checked functions.config() {"config":{}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [28742] Checked functions.config() {\"config\":{}}"}}
[debug] [2021-09-23T13:31:13.848Z] [runtime-status] [28742] firebase-functions has been stubbed. {"functionsResolution":{"declared":true,"installed":true,"version":"3.15.7","resolution":"/Users/edouardtoulet/Desktop/Js/REACT/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [28742] firebase-functions has been stubbed. {\"functionsResolution\":{\"declared\":true,\"installed\":true,\"version\":\"3.15.7\",\"resolution\":\"/Users/edouardtoulet/Desktop/Js/REACT/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}}"}}
[debug] [2021-09-23T13:31:13.848Z] [runtime-status] [28742] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.15.7","resolution":"/Users/edouardtoulet/Desktop/Js/REACT/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [28742] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.15.7\",\"resolution\":\"/Users/edouardtoulet/Desktop/Js/REACT/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2021-09-23T13:31:13.849Z] [runtime-status] [28742] Resolved module firebase-admin {"declared":true,"installed":true,"version":"9.11.1","resolution":"/Users/edouardtoulet/Desktop/Js/REACT/amazon-clone/functions/node_modules/firebase-admin/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [28742] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"9.11.1\",\"resolution\":\"/Users/edouardtoulet/Desktop/Js/REACT/amazon-clone/functions/node_modules/firebase-admin/lib/index.js\"}"}}
[debug] [2021-09-23T13:31:13.850Z] [runtime-status] [28742] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.15.7","resolution":"/Users/edouardtoulet/Desktop/Js/REACT/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [28742] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.15.7\",\"resolution\":\"/Users/edouardtoulet/Desktop/Js/REACT/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2021-09-23T13:31:13.850Z] [runtime-status] [28742] firebase-admin has been stubbed. {"adminResolution":{"declared":true,"installed":true,"version":"9.11.1","resolution":"/Users/edouardtoulet/Desktop/Js/REACT/amazon-clone/functions/node_modules/firebase-admin/lib/index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [28742] firebase-admin has been stubbed. {\"adminResolution\":{\"declared\":true,\"installed\":true,\"version\":\"9.11.1\",\"resolution\":\"/Users/edouardtoulet/Desktop/Js/REACT/amazon-clone/functions/node_modules/firebase-admin/lib/index.js\"}}"}}
[debug] [2021-09-23T13:31:14.145Z] [runtime-status] [28742] Trigger "us-central1-api" has been found, beginning invocation! {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [28742] Trigger \"us-central1-api\" has been found, beginning invocation!"}}
[info] i  functions: Beginning execution of "us-central1-api" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"Beginning execution of \"us-central1-api\""}}
[debug] [2021-09-23T13:31:14.146Z] [runtime-status] [28742] triggerDefinition {"httpsTrigger":{},"name":"api","entryPoint":"api","regions":["us-central1"],"region":"us-central1","id":"us-central1-api"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [28742] triggerDefinition {\"httpsTrigger\":{},\"name\":\"api\",\"entryPoint\":\"api\",\"regions\":[\"us-central1\"],\"region\":\"us-central1\",\"id\":\"us-central1-api\"}"}}
[debug] [2021-09-23T13:31:14.146Z] [runtime-status] [28742] Running us-central1-api in mode HTTPS {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [28742] Running us-central1-api in mode HTTPS"}}
[debug] [2021-09-23T13:31:14.156Z] [runtime-status] [28742] Attempting to listen to socketPath: /var/folders/1q/t08t1c7147b3jyhcc6c2xwfr0000gn/T/fire_emu_28742.sock {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [28742] Attempting to listen to socketPath: /var/folders/1q/t08t1c7147b3jyhcc6c2xwfr0000gn/T/fire_emu_28742.sock"}}
[debug] [2021-09-23T13:31:14.161Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2021-09-23T13:31:14.161Z] [functions] Got req.url=/clone-e655c/us-central1/api/payments/create?total=0, mapping to path=/payments/create?total=0 {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Got req.url=/clone-e655c/us-central1/api/payments/create?total=0, mapping to path=/payments/create?total=0"}}
[debug] [2021-09-23T13:31:14.176Z] [runtime-status] [28742] Ephemeral server handling POST request {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [28742] Ephemeral server handling POST request"}}
[info] >  Payment Request received BOOOOOM !! 0 {"user":"Payment Request received BOOOOOM !! 0","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m Payment Request received BOOOOOM !! 0"}}
[debug] [2021-09-23T13:31:14.194Z] [runtime-status] [28742] Ephemeral server survived. {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [28742] Ephemeral server survived."}}
[info] >  (node:28742) UnhandledPromiseRejectionWarning: Error: This value must be greater than or equal to 1. {"user":"(node:28742) UnhandledPromiseRejectionWarning: Error: This value must be greater than or equal to 1.","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m (node:28742) UnhandledPromiseRejectionWarning: Error: This value must be greater than or equal to 1."}}
[info] >      at Function.generate (/Users/edouardtoulet/Desktop/Js/REACT/amazon-clone/functions/node_modules/stripe/lib/Error.js:40:16) {"user":"    at Function.generate (/Users/edouardtoulet/Desktop/Js/REACT/amazon-clone/functions/node_modules/stripe/lib/Error.js:40:16)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     at Function.generate (/Users/edouardtoulet/Desktop/Js/REACT/amazon-clone/functions/node_modules/stripe/lib/Error.js:40:16)"}}
[info] >      at res.toJSON.then.StripeAPIError.message (/Users/edouardtoulet/Desktop/Js/REACT/amazon-clone/functions/node_modules/stripe/lib/StripeResource.js:220:35) {"user":"    at res.toJSON.then.StripeAPIError.message (/Users/edouardtoulet/Desktop/Js/REACT/amazon-clone/functions/node_modules/stripe/lib/StripeResource.js:220:35)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     at res.toJSON.then.StripeAPIError.message (/Users/edouardtoulet/Desktop/Js/REACT/amazon-clone/functions/node_modules/stripe/lib/StripeResource.js:220:35)"}}
[info] >      at processTicksAndRejections (internal/process/task_queues.js:93:5) {"user":"    at processTicksAndRejections (internal/process/task_queues.js:93:5)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     at processTicksAndRejections (internal/process/task_queues.js:93:5)"}}
[info] >  (Use `node --trace-warnings ...` to show where the warning was created) {"user":"(Use `node --trace-warnings ...` to show where the warning was created)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m (Use `node --trace-warnings ...` to show where the warning was created)"}}
[info] >  (node:28742) UnhandledPromiseRejectionWarning: Unhandled promise rejection. This error originated either by throwing inside of an async function without a catch block, or by rejecting a promise which was not handled with .catch(). To terminate the node process on unhandled promise rejection, use the CLI flag `--unhandled-rejections=strict` (see https://nodejs.org/api/cli.html#cli_unhandled_rejections_mode). (rejection id: 1) {"user":"(node:28742) UnhandledPromiseRejectionWarning: Unhandled promise rejection. This error originated either by throwing inside of an async function without a catch block, or by rejecting a promise which was not handled with .catch(). To terminate the node process on unhandled promise rejection, use the CLI flag `--unhandled-rejections=strict` (see https://nodejs.org/api/cli.html#cli_unhandled_rejections_mode). (rejection id: 1)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m (node:28742) UnhandledPromiseRejectionWarning: Unhandled promise rejection. This error originated either by throwing inside of an async function without a catch block, or by rejecting a promise which was not handled with .catch(). To terminate the node process on unhandled promise rejection, use the CLI flag `--unhandled-rejections=strict` (see https://nodejs.org/api/cli.html#cli_unhandled_rejections_mode). (rejection id: 1)"}}
[info] >  (node:28742) [DEP0018] DeprecationWarning: Unhandled promise rejections are deprecated. In the future, promise rejections that are not handled will terminate the Node.js process with a non-zero exit code. {"user":"(node:28742) [DEP0018] DeprecationWarning: Unhandled promise rejections are deprecated. In the future, promise rejections that are not handled will terminate the Node.js process with a non-zero exit code.","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m (node:28742) [DEP0018] DeprecationWarning: Unhandled promise rejections are deprecated. In the future, promise rejections that are not handled will terminate the Node.js process with a non-zero exit code."}}
[debug] [2021-09-23T13:31:19.474Z] [work-queue] {"queueLength":1,"workRunningCount":2}
[debug] [2021-09-23T13:31:19.475Z] [work-queue] {"queueLength":0,"workRunningCount":3}
[debug] [2021-09-23T13:31:19.475Z] Accepted request POST /clone-e655c/us-central1/api/payments/create?total=0 --> us-central1-api
[debug] [2021-09-23T13:31:19.481Z] [worker-pool] addWorker(us-central1-api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] addWorker(us-central1-api)"}}
[debug] [2021-09-23T13:31:19.482Z] [worker-pool] Adding worker with key us-central1-api, total=3 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Adding worker with key us-central1-api, total=3"}}
[debug] [2021-09-23T13:31:19.482Z] [worker-pool] submitWork(triggerId=us-central1-api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitWork(triggerId=us-central1-api)"}}
[debug] [2021-09-23T13:31:19.482Z] [worker-us-central1-api-c1c90664-680c-4b3a-9683-9638e0d140ed]: Assigning socketPath: /var/folders/1q/t08t1c7147b3jyhcc6c2xwfr0000gn/T/fire_emu_28750.sock {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-api-c1c90664-680c-4b3a-9683-9638e0d140ed]: Assigning socketPath: /var/folders/1q/t08t1c7147b3jyhcc6c2xwfr0000gn/T/fire_emu_28750.sock"}}
[debug] [2021-09-23T13:31:19.482Z] [worker-us-central1-api-c1c90664-680c-4b3a-9683-9638e0d140ed]: BUSY {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-api-c1c90664-680c-4b3a-9683-9638e0d140ed]: BUSY"}}
[debug] [2021-09-23T13:31:20.459Z] [runtime-status] [28750] Functions runtime initialized. {"cwd":"/Users/edouardtoulet/Desktop/Js/REACT/amazon-clone/functions","node_version":"14.15.5"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [28750] Functions runtime initialized. {\"cwd\":\"/Users/edouardtoulet/Desktop/Js/REACT/amazon-clone/functions\",\"node_version\":\"14.15.5\"}"}}
[debug] [2021-09-23T13:31:20.486Z] [runtime-status] [28750] Disabled runtime features: undefined {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [28750] Disabled runtime features: undefined"}}
[debug] [2021-09-23T13:31:20.488Z] [runtime-status] [28750] Resolved module firebase-admin {"declared":true,"installed":true,"version":"9.11.1","resolution":"/Users/edouardtoulet/Desktop/Js/REACT/amazon-clone/functions/node_modules/firebase-admin/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [28750] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"9.11.1\",\"resolution\":\"/Users/edouardtoulet/Desktop/Js/REACT/amazon-clone/functions/node_modules/firebase-admin/lib/index.js\"}"}}
[debug] [2021-09-23T13:31:20.498Z] [runtime-status] [28750] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.15.7","resolution":"/Users/edouardtoulet/Desktop/Js/REACT/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [28750] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.15.7\",\"resolution\":\"/Users/edouardtoulet/Desktop/Js/REACT/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2021-09-23T13:31:20.501Z] [runtime-status] [28750] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.15.7","resolution":"/Users/edouardtoulet/Desktop/Js/REACT/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [28750] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.15.7\",\"resolution\":\"/Users/edouardtoulet/Desktop/Js/REACT/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2021-09-23T13:31:20.503Z] [runtime-status] [28750] Outgoing network have been stubbed. [{"name":"http","status":"mocked"},{"name":"http","status":"mocked"},{"name":"https","status":"mocked"},{"name":"https","status":"mocked"},{"name":"net","status":"mocked"}] {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [28750] Outgoing network have been stubbed. [{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"net\",\"status\":\"mocked\"}]"}}
[debug] [2021-09-23T13:31:20.503Z] [runtime-status] [28750] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.15.7","resolution":"/Users/edouardtoulet/Desktop/Js/REACT/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [28750] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.15.7\",\"resolution\":\"/Users/edouardtoulet/Desktop/Js/REACT/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2021-09-23T13:31:20.678Z] [runtime-status] [28750] Checked functions.config() {"config":{}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [28750] Checked functions.config() {\"config\":{}}"}}
[debug] [2021-09-23T13:31:20.678Z] [runtime-status] [28750] firebase-functions has been stubbed. {"functionsResolution":{"declared":true,"installed":true,"version":"3.15.7","resolution":"/Users/edouardtoulet/Desktop/Js/REACT/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [28750] firebase-functions has been stubbed. {\"functionsResolution\":{\"declared\":true,\"installed\":true,\"version\":\"3.15.7\",\"resolution\":\"/Users/edouardtoulet/Desktop/Js/REACT/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}}"}}
[debug] [2021-09-23T13:31:20.680Z] [runtime-status] [28750] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.15.7","resolution":"/Users/edouardtoulet/Desktop/Js/REACT/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [28750] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.15.7\",\"resolution\":\"/Users/edouardtoulet/Desktop/Js/REACT/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2021-09-23T13:31:20.680Z] [runtime-status] [28750] Resolved module firebase-admin {"declared":true,"installed":true,"version":"9.11.1","resolution":"/Users/edouardtoulet/Desktop/Js/REACT/amazon-clone/functions/node_modules/firebase-admin/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [28750] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"9.11.1\",\"resolution\":\"/Users/edouardtoulet/Desktop/Js/REACT/amazon-clone/functions/node_modules/firebase-admin/lib/index.js\"}"}}
[debug] [2021-09-23T13:31:20.681Z] [runtime-status] [28750] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.15.7","resolution":"/Users/edouardtoulet/Desktop/Js/REACT/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [28750] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.15.7\",\"resolution\":\"/Users/edouardtoulet/Desktop/Js/REACT/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2021-09-23T13:31:20.681Z] [runtime-status] [28750] firebase-admin has been stubbed. {"adminResolution":{"declared":true,"installed":true,"version":"9.11.1","resolution":"/Users/edouardtoulet/Desktop/Js/REACT/amazon-clone/functions/node_modules/firebase-admin/lib/index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [28750] firebase-admin has been stubbed. {\"adminResolution\":{\"declared\":true,\"installed\":true,\"version\":\"9.11.1\",\"resolution\":\"/Users/edouardtoulet/Desktop/Js/REACT/amazon-clone/functions/node_modules/firebase-admin/lib/index.js\"}}"}}
[debug] [2021-09-23T13:31:21.183Z] [runtime-status] [28750] Trigger "us-central1-api" has been found, beginning invocation! {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [28750] Trigger \"us-central1-api\" has been found, beginning invocation!"}}
[info] i  functions: Beginning execution of "us-central1-api" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"Beginning execution of \"us-central1-api\""}}
[debug] [2021-09-23T13:31:21.185Z] [runtime-status] [28750] triggerDefinition {"httpsTrigger":{},"name":"api","entryPoint":"api","regions":["us-central1"],"region":"us-central1","id":"us-central1-api"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [28750] triggerDefinition {\"httpsTrigger\":{},\"name\":\"api\",\"entryPoint\":\"api\",\"regions\":[\"us-central1\"],\"region\":\"us-central1\",\"id\":\"us-central1-api\"}"}}
[debug] [2021-09-23T13:31:21.186Z] [runtime-status] [28750] Running us-central1-api in mode HTTPS {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [28750] Running us-central1-api in mode HTTPS"}}
[debug] [2021-09-23T13:31:21.195Z] [runtime-status] [28750] Attempting to listen to socketPath: /var/folders/1q/t08t1c7147b3jyhcc6c2xwfr0000gn/T/fire_emu_28750.sock {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [28750] Attempting to listen to socketPath: /var/folders/1q/t08t1c7147b3jyhcc6c2xwfr0000gn/T/fire_emu_28750.sock"}}
[debug] [2021-09-23T13:31:21.198Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2021-09-23T13:31:21.199Z] [functions] Got req.url=/clone-e655c/us-central1/api/payments/create?total=0, mapping to path=/payments/create?total=0 {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Got req.url=/clone-e655c/us-central1/api/payments/create?total=0, mapping to path=/payments/create?total=0"}}
[debug] [2021-09-23T13:31:21.398Z] [runtime-status] [28750] Ephemeral server handling POST request {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [28750] Ephemeral server handling POST request"}}
[info] >  Payment Request received BOOOOOM !! 0 {"user":"Payment Request received BOOOOOM !! 0","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m Payment Request received BOOOOOM !! 0"}}
[debug] [2021-09-23T13:31:21.414Z] [runtime-status] [28750] Ephemeral server survived. {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [28750] Ephemeral server survived."}}
[info] >  (node:28750) UnhandledPromiseRejectionWarning: Error: This value must be greater than or equal to 1. {"user":"(node:28750) UnhandledPromiseRejectionWarning: Error: This value must be greater than or equal to 1.","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m (node:28750) UnhandledPromiseRejectionWarning: Error: This value must be greater than or equal to 1."}}
[info] >      at Function.generate (/Users/edouardtoulet/Desktop/Js/REACT/amazon-clone/functions/node_modules/stripe/lib/Error.js:40:16) {"user":"    at Function.generate (/Users/edouardtoulet/Desktop/Js/REACT/amazon-clone/functions/node_modules/stripe/lib/Error.js:40:16)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     at Function.generate (/Users/edouardtoulet/Desktop/Js/REACT/amazon-clone/functions/node_modules/stripe/lib/Error.js:40:16)"}}
[info] >      at res.toJSON.then.StripeAPIError.message (/Users/edouardtoulet/Desktop/Js/REACT/amazon-clone/functions/node_modules/stripe/lib/StripeResource.js:220:35) {"user":"    at res.toJSON.then.StripeAPIError.message (/Users/edouardtoulet/Desktop/Js/REACT/amazon-clone/functions/node_modules/stripe/lib/StripeResource.js:220:35)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     at res.toJSON.then.StripeAPIError.message (/Users/edouardtoulet/Desktop/Js/REACT/amazon-clone/functions/node_modules/stripe/lib/StripeResource.js:220:35)"}}
[info] >      at processTicksAndRejections (internal/process/task_queues.js:93:5) {"user":"    at processTicksAndRejections (internal/process/task_queues.js:93:5)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     at processTicksAndRejections (internal/process/task_queues.js:93:5)"}}
[info] >  (Use `node --trace-warnings ...` to show where the warning was created) {"user":"(Use `node --trace-warnings ...` to show where the warning was created)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m (Use `node --trace-warnings ...` to show where the warning was created)"}}
[info] >  (node:28750) UnhandledPromiseRejectionWarning: Unhandled promise rejection. This error originated either by throwing inside of an async function without a catch block, or by rejecting a promise which was not handled with .catch(). To terminate the node process on unhandled promise rejection, use the CLI flag `--unhandled-rejections=strict` (see https://nodejs.org/api/cli.html#cli_unhandled_rejections_mode). (rejection id: 1) {"user":"(node:28750) UnhandledPromiseRejectionWarning: Unhandled promise rejection. This error originated either by throwing inside of an async function without a catch block, or by rejecting a promise which was not handled with .catch(). To terminate the node process on unhandled promise rejection, use the CLI flag `--unhandled-rejections=strict` (see https://nodejs.org/api/cli.html#cli_unhandled_rejections_mode). (rejection id: 1)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m (node:28750) UnhandledPromiseRejectionWarning: Unhandled promise rejection. This error originated either by throwing inside of an async function without a catch block, or by rejecting a promise which was not handled with .catch(). To terminate the node process on unhandled promise rejection, use the CLI flag `--unhandled-rejections=strict` (see https://nodejs.org/api/cli.html#cli_unhandled_rejections_mode). (rejection id: 1)"}}
[info] >  (node:28750) [DEP0018] DeprecationWarning: Unhandled promise rejections are deprecated. In the future, promise rejections that are not handled will terminate the Node.js process with a non-zero exit code. {"user":"(node:28750) [DEP0018] DeprecationWarning: Unhandled promise rejections are deprecated. In the future, promise rejections that are not handled will terminate the Node.js process with a non-zero exit code.","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m (node:28750) [DEP0018] DeprecationWarning: Unhandled promise rejections are deprecated. In the future, promise rejections that are not handled will terminate the Node.js process with a non-zero exit code."}}
[warn] ⚠  functions: Your function timed out after ~60s. To configure this timeout, see
      https://firebase.google.com/docs/functions/manage-functions#set_timeout_and_memory_allocation. {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"Your function timed out after ~60s. To configure this timeout, see\n      https://firebase.google.com/docs/functions/manage-functions#set_timeout_and_memory_allocation."}}
[info] >  /usr/local/lib/node_modules/firebase-tools/lib/emulator/functionsEmulatorRuntime.js:679 {"user":"/usr/local/lib/node_modules/firebase-tools/lib/emulator/functionsEmulatorRuntime.js:679","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m /usr/local/lib/node_modules/firebase-tools/lib/emulator/functionsEmulatorRuntime.js:679"}}
[info] >              throw new Error("Function timed out."); {"user":"            throw new Error(\"Function timed out.\");","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m             throw new Error(\"Function timed out.\");"}}
[info] >              ^ {"user":"            ^","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m             ^"}}
[info] >   {"user":"","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m "}}
[info] >  Error: Function timed out. {"user":"Error: Function timed out.","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m Error: Function timed out."}}
[info] >      at Timeout._onTimeout (/usr/local/lib/node_modules/firebase-tools/lib/emulator/functionsEmulatorRuntime.js:679:19) {"user":"    at Timeout._onTimeout (/usr/local/lib/node_modules/firebase-tools/lib/emulator/functionsEmulatorRuntime.js:679:19)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     at Timeout._onTimeout (/usr/local/lib/node_modules/firebase-tools/lib/emulator/functionsEmulatorRuntime.js:679:19)"}}
[info] >      at listOnTimeout (internal/timers.js:554:17) {"user":"    at listOnTimeout (internal/timers.js:554:17)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     at listOnTimeout (internal/timers.js:554:17)"}}
[info] >      at processTimers (internal/timers.js:497:7) {"user":"    at processTimers (internal/timers.js:497:7)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     at processTimers (internal/timers.js:497:7)"}}
[debug] [2021-09-23T13:31:31.744Z] [worker-us-central1-api-b5071ca6-d2c4-468a-a3aa-de520e1601b6]: exited {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-api-b5071ca6-d2c4-468a-a3aa-de520e1601b6]: exited"}}
[debug] [2021-09-23T13:31:31.744Z] [worker-us-central1-api-b5071ca6-d2c4-468a-a3aa-de520e1601b6]: FINISHED {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-api-b5071ca6-d2c4-468a-a3aa-de520e1601b6]: FINISHED"}}
[debug] [2021-09-23T13:31:31.744Z] [work-queue] {"queueLength":0,"workRunningCount":2}
[warn] ⚠  functions: Your function timed out after ~60s. To configure this timeout, see
      https://firebase.google.com/docs/functions/manage-functions#set_timeout_and_memory_allocation. {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"Your function timed out after ~60s. To configure this timeout, see\n      https://firebase.google.com/docs/functions/manage-functions#set_timeout_and_memory_allocation."}}
[info] >  /usr/local/lib/node_modules/firebase-tools/lib/emulator/functionsEmulatorRuntime.js:679 {"user":"/usr/local/lib/node_modules/firebase-tools/lib/emulator/functionsEmulatorRuntime.js:679","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m /usr/local/lib/node_modules/firebase-tools/lib/emulator/functionsEmulatorRuntime.js:679"}}
[info] >              throw new Error("Function timed out."); {"user":"            throw new Error(\"Function timed out.\");","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m             throw new Error(\"Function timed out.\");"}}
[info] >              ^ {"user":"            ^","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m             ^"}}
[info] >   {"user":"","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m "}}
[info] >  Error: Function timed out. {"user":"Error: Function timed out.","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m Error: Function timed out."}}
[info] >      at Timeout._onTimeout (/usr/local/lib/node_modules/firebase-tools/lib/emulator/functionsEmulatorRuntime.js:679:19) {"user":"    at Timeout._onTimeout (/usr/local/lib/node_modules/firebase-tools/lib/emulator/functionsEmulatorRuntime.js:679:19)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     at Timeout._onTimeout (/usr/local/lib/node_modules/firebase-tools/lib/emulator/functionsEmulatorRuntime.js:679:19)"}}
[info] >      at listOnTimeout (internal/timers.js:554:17) {"user":"    at listOnTimeout (internal/timers.js:554:17)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     at listOnTimeout (internal/timers.js:554:17)"}}
[info] >      at processTimers (internal/timers.js:497:7) {"user":"    at processTimers (internal/timers.js:497:7)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     at processTimers (internal/timers.js:497:7)"}}
[debug] [2021-09-23T13:32:14.158Z] [worker-us-central1-api-2d4e3d6f-5136-4907-bdc0-235617051bfc]: exited {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-api-2d4e3d6f-5136-4907-bdc0-235617051bfc]: exited"}}
[debug] [2021-09-23T13:32:14.159Z] [worker-us-central1-api-2d4e3d6f-5136-4907-bdc0-235617051bfc]: FINISHED {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-api-2d4e3d6f-5136-4907-bdc0-235617051bfc]: FINISHED"}}
[debug] [2021-09-23T13:32:14.159Z] [work-queue] {"queueLength":0,"workRunningCount":1}
[debug] [2021-09-23T13:32:20.176Z] [work-queue] {"queueLength":1,"workRunningCount":1}
[debug] [2021-09-23T13:32:20.179Z] [work-queue] {"queueLength":0,"workRunningCount":2}
[debug] [2021-09-23T13:32:20.179Z] Accepted request POST /clone-e655c/us-central1/api/payments/create?total=0 --> us-central1-api
[debug] [2021-09-23T13:32:20.179Z] [worker-pool] Cleaned up workers for us-central1-api: 3 --> 1 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Cleaned up workers for us-central1-api: 3 --> 1"}}
[debug] [2021-09-23T13:32:20.185Z] [worker-pool] addWorker(us-central1-api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] addWorker(us-central1-api)"}}
[debug] [2021-09-23T13:32:20.185Z] [worker-pool] Adding worker with key us-central1-api, total=2 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Adding worker with key us-central1-api, total=2"}}
[debug] [2021-09-23T13:32:20.185Z] [worker-pool] submitWork(triggerId=us-central1-api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitWork(triggerId=us-central1-api)"}}
[debug] [2021-09-23T13:32:20.185Z] [worker-us-central1-api-1ac7d091-1386-48e3-910b-c91e9a4a53bf]: Assigning socketPath: /var/folders/1q/t08t1c7147b3jyhcc6c2xwfr0000gn/T/fire_emu_28784.sock {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-api-1ac7d091-1386-48e3-910b-c91e9a4a53bf]: Assigning socketPath: /var/folders/1q/t08t1c7147b3jyhcc6c2xwfr0000gn/T/fire_emu_28784.sock"}}
[debug] [2021-09-23T13:32:20.186Z] [worker-us-central1-api-1ac7d091-1386-48e3-910b-c91e9a4a53bf]: BUSY {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-api-1ac7d091-1386-48e3-910b-c91e9a4a53bf]: BUSY"}}
[debug] [2021-09-23T13:32:20.930Z] [runtime-status] [28784] Functions runtime initialized. {"cwd":"/Users/edouardtoulet/Desktop/Js/REACT/amazon-clone/functions","node_version":"14.15.5"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [28784] Functions runtime initialized. {\"cwd\":\"/Users/edouardtoulet/Desktop/Js/REACT/amazon-clone/functions\",\"node_version\":\"14.15.5\"}"}}
[debug] [2021-09-23T13:32:20.941Z] [runtime-status] [28784] Disabled runtime features: undefined {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [28784] Disabled runtime features: undefined"}}
[debug] [2021-09-23T13:32:20.946Z] [runtime-status] [28784] Resolved module firebase-admin {"declared":true,"installed":true,"version":"9.11.1","resolution":"/Users/edouardtoulet/Desktop/Js/REACT/amazon-clone/functions/node_modules/firebase-admin/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [28784] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"9.11.1\",\"resolution\":\"/Users/edouardtoulet/Desktop/Js/REACT/amazon-clone/functions/node_modules/firebase-admin/lib/index.js\"}"}}
[debug] [2021-09-23T13:32:20.950Z] [runtime-status] [28784] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.15.7","resolution":"/Users/edouardtoulet/Desktop/Js/REACT/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [28784] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.15.7\",\"resolution\":\"/Users/edouardtoulet/Desktop/Js/REACT/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2021-09-23T13:32:21.016Z] [runtime-status] [28784] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.15.7","resolution":"/Users/edouardtoulet/Desktop/Js/REACT/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [28784] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.15.7\",\"resolution\":\"/Users/edouardtoulet/Desktop/Js/REACT/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2021-09-23T13:32:21.021Z] [runtime-status] [28784] Outgoing network have been stubbed. [{"name":"http","status":"mocked"},{"name":"http","status":"mocked"},{"name":"https","status":"mocked"},{"name":"https","status":"mocked"},{"name":"net","status":"mocked"}] {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [28784] Outgoing network have been stubbed. [{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"net\",\"status\":\"mocked\"}]"}}
[debug] [2021-09-23T13:32:21.022Z] [runtime-status] [28784] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.15.7","resolution":"/Users/edouardtoulet/Desktop/Js/REACT/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [28784] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.15.7\",\"resolution\":\"/Users/edouardtoulet/Desktop/Js/REACT/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2021-09-23T13:32:21.159Z] [runtime-status] [28784] Checked functions.config() {"config":{}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [28784] Checked functions.config() {\"config\":{}}"}}
[debug] [2021-09-23T13:32:21.159Z] [runtime-status] [28784] firebase-functions has been stubbed. {"functionsResolution":{"declared":true,"installed":true,"version":"3.15.7","resolution":"/Users/edouardtoulet/Desktop/Js/REACT/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [28784] firebase-functions has been stubbed. {\"functionsResolution\":{\"declared\":true,\"installed\":true,\"version\":\"3.15.7\",\"resolution\":\"/Users/edouardtoulet/Desktop/Js/REACT/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}}"}}
[debug] [2021-09-23T13:32:21.160Z] [runtime-status] [28784] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.15.7","resolution":"/Users/edouardtoulet/Desktop/Js/REACT/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [28784] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.15.7\",\"resolution\":\"/Users/edouardtoulet/Desktop/Js/REACT/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2021-09-23T13:32:21.161Z] [runtime-status] [28784] Resolved module firebase-admin {"declared":true,"installed":true,"version":"9.11.1","resolution":"/Users/edouardtoulet/Desktop/Js/REACT/amazon-clone/functions/node_modules/firebase-admin/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [28784] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"9.11.1\",\"resolution\":\"/Users/edouardtoulet/Desktop/Js/REACT/amazon-clone/functions/node_modules/firebase-admin/lib/index.js\"}"}}
[debug] [2021-09-23T13:32:21.162Z] [runtime-status] [28784] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.15.7","resolution":"/Users/edouardtoulet/Desktop/Js/REACT/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [28784] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.15.7\",\"resolution\":\"/Users/edouardtoulet/Desktop/Js/REACT/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2021-09-23T13:32:21.162Z] [runtime-status] [28784] firebase-admin has been stubbed. {"adminResolution":{"declared":true,"installed":true,"version":"9.11.1","resolution":"/Users/edouardtoulet/Desktop/Js/REACT/amazon-clone/functions/node_modules/firebase-admin/lib/index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [28784] firebase-admin has been stubbed. {\"adminResolution\":{\"declared\":true,\"installed\":true,\"version\":\"9.11.1\",\"resolution\":\"/Users/edouardtoulet/Desktop/Js/REACT/amazon-clone/functions/node_modules/firebase-admin/lib/index.js\"}}"}}
[warn] ⚠  functions: Your function timed out after ~60s. To configure this timeout, see
      https://firebase.google.com/docs/functions/manage-functions#set_timeout_and_memory_allocation. {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"Your function timed out after ~60s. To configure this timeout, see\n      https://firebase.google.com/docs/functions/manage-functions#set_timeout_and_memory_allocation."}}
[info] >  /usr/local/lib/node_modules/firebase-tools/lib/emulator/functionsEmulatorRuntime.js:679 {"user":"/usr/local/lib/node_modules/firebase-tools/lib/emulator/functionsEmulatorRuntime.js:679","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m /usr/local/lib/node_modules/firebase-tools/lib/emulator/functionsEmulatorRuntime.js:679"}}
[info] >              throw new Error("Function timed out."); {"user":"            throw new Error(\"Function timed out.\");","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m             throw new Error(\"Function timed out.\");"}}
[info] >              ^ {"user":"            ^","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m             ^"}}
[info] >   {"user":"","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m "}}
[info] >  Error: Function timed out. {"user":"Error: Function timed out.","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m Error: Function timed out."}}
[info] >      at Timeout._onTimeout (/usr/local/lib/node_modules/firebase-tools/lib/emulator/functionsEmulatorRuntime.js:679:19) {"user":"    at Timeout._onTimeout (/usr/local/lib/node_modules/firebase-tools/lib/emulator/functionsEmulatorRuntime.js:679:19)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     at Timeout._onTimeout (/usr/local/lib/node_modules/firebase-tools/lib/emulator/functionsEmulatorRuntime.js:679:19)"}}
[info] >      at listOnTimeout (internal/timers.js:554:17) {"user":"    at listOnTimeout (internal/timers.js:554:17)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     at listOnTimeout (internal/timers.js:554:17)"}}
[info] >      at processTimers (internal/timers.js:497:7) {"user":"    at processTimers (internal/timers.js:497:7)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     at processTimers (internal/timers.js:497:7)"}}
[debug] [2021-09-23T13:32:21.206Z] [worker-us-central1-api-c1c90664-680c-4b3a-9683-9638e0d140ed]: exited {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-api-c1c90664-680c-4b3a-9683-9638e0d140ed]: exited"}}
[debug] [2021-09-23T13:32:21.206Z] [worker-us-central1-api-c1c90664-680c-4b3a-9683-9638e0d140ed]: FINISHED {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-api-c1c90664-680c-4b3a-9683-9638e0d140ed]: FINISHED"}}
[debug] [2021-09-23T13:32:21.206Z] [work-queue] {"queueLength":0,"workRunningCount":1}
[debug] [2021-09-23T13:32:21.533Z] [runtime-status] [28784] Trigger "us-central1-api" has been found, beginning invocation! {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [28784] Trigger \"us-central1-api\" has been found, beginning invocation!"}}
[info] i  functions: Beginning execution of "us-central1-api" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"Beginning execution of \"us-central1-api\""}}
[debug] [2021-09-23T13:32:21.535Z] [runtime-status] [28784] triggerDefinition {"httpsTrigger":{},"name":"api","entryPoint":"api","regions":["us-central1"],"region":"us-central1","id":"us-central1-api"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [28784] triggerDefinition {\"httpsTrigger\":{},\"name\":\"api\",\"entryPoint\":\"api\",\"regions\":[\"us-central1\"],\"region\":\"us-central1\",\"id\":\"us-central1-api\"}"}}
[debug] [2021-09-23T13:32:21.535Z] [runtime-status] [28784] Running us-central1-api in mode HTTPS {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [28784] Running us-central1-api in mode HTTPS"}}
[debug] [2021-09-23T13:32:21.552Z] [runtime-status] [28784] Attempting to listen to socketPath: /var/folders/1q/t08t1c7147b3jyhcc6c2xwfr0000gn/T/fire_emu_28784.sock {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [28784] Attempting to listen to socketPath: /var/folders/1q/t08t1c7147b3jyhcc6c2xwfr0000gn/T/fire_emu_28784.sock"}}
[debug] [2021-09-23T13:32:21.559Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2021-09-23T13:32:21.559Z] [functions] Got req.url=/clone-e655c/us-central1/api/payments/create?total=0, mapping to path=/payments/create?total=0 {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Got req.url=/clone-e655c/us-central1/api/payments/create?total=0, mapping to path=/payments/create?total=0"}}
[debug] [2021-09-23T13:32:21.571Z] [runtime-status] [28784] Ephemeral server handling POST request {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [28784] Ephemeral server handling POST request"}}
[info] >  Payment Request received BOOOOOM !! 0 {"user":"Payment Request received BOOOOOM !! 0","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m Payment Request received BOOOOOM !! 0"}}
[debug] [2021-09-23T13:32:21.802Z] [runtime-status] [28784] Ephemeral server survived. {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [28784] Ephemeral server survived."}}
[info] >  (node:28784) UnhandledPromiseRejectionWarning: Error: This value must be greater than or equal to 1. {"user":"(node:28784) UnhandledPromiseRejectionWarning: Error: This value must be greater than or equal to 1.","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m (node:28784) UnhandledPromiseRejectionWarning: Error: This value must be greater than or equal to 1."}}
[info] >      at Function.generate (/Users/edouardtoulet/Desktop/Js/REACT/amazon-clone/functions/node_modules/stripe/lib/Error.js:40:16) {"user":"    at Function.generate (/Users/edouardtoulet/Desktop/Js/REACT/amazon-clone/functions/node_modules/stripe/lib/Error.js:40:16)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     at Function.generate (/Users/edouardtoulet/Desktop/Js/REACT/amazon-clone/functions/node_modules/stripe/lib/Error.js:40:16)"}}
[info] >      at res.toJSON.then.StripeAPIError.message (/Users/edouardtoulet/Desktop/Js/REACT/amazon-clone/functions/node_modules/stripe/lib/StripeResource.js:220:35) {"user":"    at res.toJSON.then.StripeAPIError.message (/Users/edouardtoulet/Desktop/Js/REACT/amazon-clone/functions/node_modules/stripe/lib/StripeResource.js:220:35)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     at res.toJSON.then.StripeAPIError.message (/Users/edouardtoulet/Desktop/Js/REACT/amazon-clone/functions/node_modules/stripe/lib/StripeResource.js:220:35)"}}
[info] >      at processTicksAndRejections (internal/process/task_queues.js:93:5) {"user":"    at processTicksAndRejections (internal/process/task_queues.js:93:5)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     at processTicksAndRejections (internal/process/task_queues.js:93:5)"}}
[info] >  (Use `node --trace-warnings ...` to show where the warning was created) {"user":"(Use `node --trace-warnings ...` to show where the warning was created)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m (Use `node --trace-warnings ...` to show where the warning was created)"}}
[info] >  (node:28784) UnhandledPromiseRejectionWarning: Unhandled promise rejection. This error originated either by throwing inside of an async function without a catch block, or by rejecting a promise which was not handled with .catch(). To terminate the node process on unhandled promise rejection, use the CLI flag `--unhandled-rejections=strict` (see https://nodejs.org/api/cli.html#cli_unhandled_rejections_mode). (rejection id: 1) {"user":"(node:28784) UnhandledPromiseRejectionWarning: Unhandled promise rejection. This error originated either by throwing inside of an async function without a catch block, or by rejecting a promise which was not handled with .catch(). To terminate the node process on unhandled promise rejection, use the CLI flag `--unhandled-rejections=strict` (see https://nodejs.org/api/cli.html#cli_unhandled_rejections_mode). (rejection id: 1)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m (node:28784) UnhandledPromiseRejectionWarning: Unhandled promise rejection. This error originated either by throwing inside of an async function without a catch block, or by rejecting a promise which was not handled with .catch(). To terminate the node process on unhandled promise rejection, use the CLI flag `--unhandled-rejections=strict` (see https://nodejs.org/api/cli.html#cli_unhandled_rejections_mode). (rejection id: 1)"}}
[info] >  (node:28784) [DEP0018] DeprecationWarning: Unhandled promise rejections are deprecated. In the future, promise rejections that are not handled will terminate the Node.js process with a non-zero exit code. {"user":"(node:28784) [DEP0018] DeprecationWarning: Unhandled promise rejections are deprecated. In the future, promise rejections that are not handled will terminate the Node.js process with a non-zero exit code.","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m (node:28784) [DEP0018] DeprecationWarning: Unhandled promise rejections are deprecated. In the future, promise rejections that are not handled will terminate the Node.js process with a non-zero exit code."}}
[debug] [2021-09-23T13:33:16.341Z] [work-queue] {"queueLength":1,"workRunningCount":1}
[debug] [2021-09-23T13:33:16.342Z] [work-queue] {"queueLength":0,"workRunningCount":2}
[debug] [2021-09-23T13:33:16.342Z] Accepted request POST /clone-e655c/us-central1/api/payments/create?total=0 --> us-central1-api
[debug] [2021-09-23T13:33:16.342Z] [worker-pool] Cleaned up workers for us-central1-api: 2 --> 1 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Cleaned up workers for us-central1-api: 2 --> 1"}}
[debug] [2021-09-23T13:33:16.349Z] [worker-pool] addWorker(us-central1-api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] addWorker(us-central1-api)"}}
[debug] [2021-09-23T13:33:16.350Z] [worker-pool] Adding worker with key us-central1-api, total=2 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Adding worker with key us-central1-api, total=2"}}
[debug] [2021-09-23T13:33:16.350Z] [worker-pool] submitWork(triggerId=us-central1-api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitWork(triggerId=us-central1-api)"}}
[debug] [2021-09-23T13:33:16.350Z] [worker-us-central1-api-f12810e6-9163-4eb9-9f2b-aaea72637697]: Assigning socketPath: /var/folders/1q/t08t1c7147b3jyhcc6c2xwfr0000gn/T/fire_emu_28826.sock {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-api-f12810e6-9163-4eb9-9f2b-aaea72637697]: Assigning socketPath: /var/folders/1q/t08t1c7147b3jyhcc6c2xwfr0000gn/T/fire_emu_28826.sock"}}
[debug] [2021-09-23T13:33:16.350Z] [worker-us-central1-api-f12810e6-9163-4eb9-9f2b-aaea72637697]: BUSY {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-api-f12810e6-9163-4eb9-9f2b-aaea72637697]: BUSY"}}
[debug] [2021-09-23T13:33:17.216Z] [runtime-status] [28826] Functions runtime initialized. {"cwd":"/Users/edouardtoulet/Desktop/Js/REACT/amazon-clone/functions","node_version":"14.15.5"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [28826] Functions runtime initialized. {\"cwd\":\"/Users/edouardtoulet/Desktop/Js/REACT/amazon-clone/functions\",\"node_version\":\"14.15.5\"}"}}
[debug] [2021-09-23T13:33:17.226Z] [runtime-status] [28826] Disabled runtime features: undefined {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [28826] Disabled runtime features: undefined"}}
[debug] [2021-09-23T13:33:17.231Z] [runtime-status] [28826] Resolved module firebase-admin {"declared":true,"installed":true,"version":"9.11.1","resolution":"/Users/edouardtoulet/Desktop/Js/REACT/amazon-clone/functions/node_modules/firebase-admin/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [28826] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"9.11.1\",\"resolution\":\"/Users/edouardtoulet/Desktop/Js/REACT/amazon-clone/functions/node_modules/firebase-admin/lib/index.js\"}"}}
[debug] [2021-09-23T13:33:17.237Z] [runtime-status] [28826] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.15.7","resolution":"/Users/edouardtoulet/Desktop/Js/REACT/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [28826] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.15.7\",\"resolution\":\"/Users/edouardtoulet/Desktop/Js/REACT/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2021-09-23T13:33:17.240Z] [runtime-status] [28826] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.15.7","resolution":"/Users/edouardtoulet/Desktop/Js/REACT/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [28826] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.15.7\",\"resolution\":\"/Users/edouardtoulet/Desktop/Js/REACT/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2021-09-23T13:33:17.247Z] [runtime-status] [28826] Outgoing network have been stubbed. [{"name":"http","status":"mocked"},{"name":"http","status":"mocked"},{"name":"https","status":"mocked"},{"name":"https","status":"mocked"},{"name":"net","status":"mocked"}] {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [28826] Outgoing network have been stubbed. [{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"net\",\"status\":\"mocked\"}]"}}
[debug] [2021-09-23T13:33:17.249Z] [runtime-status] [28826] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.15.7","resolution":"/Users/edouardtoulet/Desktop/Js/REACT/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [28826] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.15.7\",\"resolution\":\"/Users/edouardtoulet/Desktop/Js/REACT/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2021-09-23T13:33:17.491Z] [runtime-status] [28826] Checked functions.config() {"config":{}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [28826] Checked functions.config() {\"config\":{}}"}}
[debug] [2021-09-23T13:33:17.493Z] [runtime-status] [28826] firebase-functions has been stubbed. {"functionsResolution":{"declared":true,"installed":true,"version":"3.15.7","resolution":"/Users/edouardtoulet/Desktop/Js/REACT/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [28826] firebase-functions has been stubbed. {\"functionsResolution\":{\"declared\":true,\"installed\":true,\"version\":\"3.15.7\",\"resolution\":\"/Users/edouardtoulet/Desktop/Js/REACT/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}}"}}
[debug] [2021-09-23T13:33:17.494Z] [runtime-status] [28826] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.15.7","resolution":"/Users/edouardtoulet/Desktop/Js/REACT/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [28826] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.15.7\",\"resolution\":\"/Users/edouardtoulet/Desktop/Js/REACT/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2021-09-23T13:33:17.496Z] [runtime-status] [28826] Resolved module firebase-admin {"declared":true,"installed":true,"version":"9.11.1","resolution":"/Users/edouardtoulet/Desktop/Js/REACT/amazon-clone/functions/node_modules/firebase-admin/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [28826] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"9.11.1\",\"resolution\":\"/Users/edouardtoulet/Desktop/Js/REACT/amazon-clone/functions/node_modules/firebase-admin/lib/index.js\"}"}}
[debug] [2021-09-23T13:33:17.497Z] [runtime-status] [28826] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.15.7","resolution":"/Users/edouardtoulet/Desktop/Js/REACT/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [28826] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.15.7\",\"resolution\":\"/Users/edouardtoulet/Desktop/Js/REACT/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2021-09-23T13:33:17.499Z] [runtime-status] [28826] firebase-admin has been stubbed. {"adminResolution":{"declared":true,"installed":true,"version":"9.11.1","resolution":"/Users/edouardtoulet/Desktop/Js/REACT/amazon-clone/functions/node_modules/firebase-admin/lib/index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [28826] firebase-admin has been stubbed. {\"adminResolution\":{\"declared\":true,\"installed\":true,\"version\":\"9.11.1\",\"resolution\":\"/Users/edouardtoulet/Desktop/Js/REACT/amazon-clone/functions/node_modules/firebase-admin/lib/index.js\"}}"}}
[debug] [2021-09-23T13:33:18.420Z] [runtime-status] [28826] Trigger "us-central1-api" has been found, beginning invocation! {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [28826] Trigger \"us-central1-api\" has been found, beginning invocation!"}}
[info] i  functions: Beginning execution of "us-central1-api" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"Beginning execution of \"us-central1-api\""}}
[debug] [2021-09-23T13:33:18.420Z] [runtime-status] [28826] triggerDefinition {"httpsTrigger":{},"name":"api","entryPoint":"api","regions":["us-central1"],"region":"us-central1","id":"us-central1-api"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [28826] triggerDefinition {\"httpsTrigger\":{},\"name\":\"api\",\"entryPoint\":\"api\",\"regions\":[\"us-central1\"],\"region\":\"us-central1\",\"id\":\"us-central1-api\"}"}}
[debug] [2021-09-23T13:33:18.420Z] [runtime-status] [28826] Running us-central1-api in mode HTTPS {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [28826] Running us-central1-api in mode HTTPS"}}
[debug] [2021-09-23T13:33:18.427Z] [runtime-status] [28826] Attempting to listen to socketPath: /var/folders/1q/t08t1c7147b3jyhcc6c2xwfr0000gn/T/fire_emu_28826.sock {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [28826] Attempting to listen to socketPath: /var/folders/1q/t08t1c7147b3jyhcc6c2xwfr0000gn/T/fire_emu_28826.sock"}}
[debug] [2021-09-23T13:33:18.433Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2021-09-23T13:33:18.434Z] [functions] Got req.url=/clone-e655c/us-central1/api/payments/create?total=0, mapping to path=/payments/create?total=0 {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Got req.url=/clone-e655c/us-central1/api/payments/create?total=0, mapping to path=/payments/create?total=0"}}
[debug] [2021-09-23T13:33:18.444Z] [runtime-status] [28826] Ephemeral server handling POST request {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [28826] Ephemeral server handling POST request"}}
[info] >  Payment Request received BOOOOOM !! 0 {"user":"Payment Request received BOOOOOM !! 0","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m Payment Request received BOOOOOM !! 0"}}
[debug] [2021-09-23T13:33:18.569Z] [runtime-status] [28826] Ephemeral server survived. {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [28826] Ephemeral server survived."}}
[info] >  (node:28826) UnhandledPromiseRejectionWarning: Error: This value must be greater than or equal to 1. {"user":"(node:28826) UnhandledPromiseRejectionWarning: Error: This value must be greater than or equal to 1.","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m (node:28826) UnhandledPromiseRejectionWarning: Error: This value must be greater than or equal to 1."}}
[info] >      at Function.generate (/Users/edouardtoulet/Desktop/Js/REACT/amazon-clone/functions/node_modules/stripe/lib/Error.js:40:16) {"user":"    at Function.generate (/Users/edouardtoulet/Desktop/Js/REACT/amazon-clone/functions/node_modules/stripe/lib/Error.js:40:16)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     at Function.generate (/Users/edouardtoulet/Desktop/Js/REACT/amazon-clone/functions/node_modules/stripe/lib/Error.js:40:16)"}}
[info] >      at res.toJSON.then.StripeAPIError.message (/Users/edouardtoulet/Desktop/Js/REACT/amazon-clone/functions/node_modules/stripe/lib/StripeResource.js:220:35) {"user":"    at res.toJSON.then.StripeAPIError.message (/Users/edouardtoulet/Desktop/Js/REACT/amazon-clone/functions/node_modules/stripe/lib/StripeResource.js:220:35)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     at res.toJSON.then.StripeAPIError.message (/Users/edouardtoulet/Desktop/Js/REACT/amazon-clone/functions/node_modules/stripe/lib/StripeResource.js:220:35)"}}
[info] >      at processTicksAndRejections (internal/process/task_queues.js:93:5) {"user":"    at processTicksAndRejections (internal/process/task_queues.js:93:5)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     at processTicksAndRejections (internal/process/task_queues.js:93:5)"}}
[info] >  (Use `node --trace-warnings ...` to show where the warning was created) {"user":"(Use `node --trace-warnings ...` to show where the warning was created)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m (Use `node --trace-warnings ...` to show where the warning was created)"}}
[info] >  (node:28826) UnhandledPromiseRejectionWarning: Unhandled promise rejection. This error originated either by throwing inside of an async function without a catch block, or by rejecting a promise which was not handled with .catch(). To terminate the node process on unhandled promise rejection, use the CLI flag `--unhandled-rejections=strict` (see https://nodejs.org/api/cli.html#cli_unhandled_rejections_mode). (rejection id: 1) {"user":"(node:28826) UnhandledPromiseRejectionWarning: Unhandled promise rejection. This error originated either by throwing inside of an async function without a catch block, or by rejecting a promise which was not handled with .catch(). To terminate the node process on unhandled promise rejection, use the CLI flag `--unhandled-rejections=strict` (see https://nodejs.org/api/cli.html#cli_unhandled_rejections_mode). (rejection id: 1)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m (node:28826) UnhandledPromiseRejectionWarning: Unhandled promise rejection. This error originated either by throwing inside of an async function without a catch block, or by rejecting a promise which was not handled with .catch(). To terminate the node process on unhandled promise rejection, use the CLI flag `--unhandled-rejections=strict` (see https://nodejs.org/api/cli.html#cli_unhandled_rejections_mode). (rejection id: 1)"}}
[info] >  (node:28826) [DEP0018] DeprecationWarning: Unhandled promise rejections are deprecated. In the future, promise rejections that are not handled will terminate the Node.js process with a non-zero exit code. {"user":"(node:28826) [DEP0018] DeprecationWarning: Unhandled promise rejections are deprecated. In the future, promise rejections that are not handled will terminate the Node.js process with a non-zero exit code.","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m (node:28826) [DEP0018] DeprecationWarning: Unhandled promise rejections are deprecated. In the future, promise rejections that are not handled will terminate the Node.js process with a non-zero exit code."}}
[warn] ⚠  functions: Your function timed out after ~60s. To configure this timeout, see
      https://firebase.google.com/docs/functions/manage-functions#set_timeout_and_memory_allocation. {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"Your function timed out after ~60s. To configure this timeout, see\n      https://firebase.google.com/docs/functions/manage-functions#set_timeout_and_memory_allocation."}}
[info] >  /usr/local/lib/node_modules/firebase-tools/lib/emulator/functionsEmulatorRuntime.js:679 {"user":"/usr/local/lib/node_modules/firebase-tools/lib/emulator/functionsEmulatorRuntime.js:679","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m /usr/local/lib/node_modules/firebase-tools/lib/emulator/functionsEmulatorRuntime.js:679"}}
[info] >              throw new Error("Function timed out."); {"user":"            throw new Error(\"Function timed out.\");","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m             throw new Error(\"Function timed out.\");"}}
[info] >              ^ {"user":"            ^","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m             ^"}}
[info] >   {"user":"","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m "}}
[info] >  Error: Function timed out. {"user":"Error: Function timed out.","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m Error: Function timed out."}}
[info] >      at Timeout._onTimeout (/usr/local/lib/node_modules/firebase-tools/lib/emulator/functionsEmulatorRuntime.js:679:19) {"user":"    at Timeout._onTimeout (/usr/local/lib/node_modules/firebase-tools/lib/emulator/functionsEmulatorRuntime.js:679:19)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     at Timeout._onTimeout (/usr/local/lib/node_modules/firebase-tools/lib/emulator/functionsEmulatorRuntime.js:679:19)"}}
[info] >      at listOnTimeout (internal/timers.js:554:17) {"user":"    at listOnTimeout (internal/timers.js:554:17)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     at listOnTimeout (internal/timers.js:554:17)"}}
[info] >      at processTimers (internal/timers.js:497:7) {"user":"    at processTimers (internal/timers.js:497:7)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     at processTimers (internal/timers.js:497:7)"}}
[debug] [2021-09-23T13:33:21.555Z] [worker-us-central1-api-1ac7d091-1386-48e3-910b-c91e9a4a53bf]: exited {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-api-1ac7d091-1386-48e3-910b-c91e9a4a53bf]: exited"}}
[debug] [2021-09-23T13:33:21.556Z] [worker-us-central1-api-1ac7d091-1386-48e3-910b-c91e9a4a53bf]: FINISHED {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-api-1ac7d091-1386-48e3-910b-c91e9a4a53bf]: FINISHED"}}
[debug] [2021-09-23T13:33:21.556Z] [work-queue] {"queueLength":0,"workRunningCount":1}
[debug] [2021-09-23T13:33:25.403Z] [work-queue] {"queueLength":1,"workRunningCount":1}
[debug] [2021-09-23T13:33:25.403Z] [work-queue] {"queueLength":0,"workRunningCount":2}
[debug] [2021-09-23T13:33:25.404Z] Accepted request POST /clone-e655c/us-central1/api/payments/create?total=0 --> us-central1-api
[debug] [2021-09-23T13:33:25.404Z] [worker-pool] Cleaned up workers for us-central1-api: 2 --> 1 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Cleaned up workers for us-central1-api: 2 --> 1"}}
[debug] [2021-09-23T13:33:25.410Z] [worker-pool] addWorker(us-central1-api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] addWorker(us-central1-api)"}}
[debug] [2021-09-23T13:33:25.410Z] [worker-pool] Adding worker with key us-central1-api, total=2 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Adding worker with key us-central1-api, total=2"}}
[debug] [2021-09-23T13:33:25.410Z] [worker-pool] submitWork(triggerId=us-central1-api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitWork(triggerId=us-central1-api)"}}
[debug] [2021-09-23T13:33:25.411Z] [worker-us-central1-api-7e34d421-af96-4885-9f4c-0391ac255ea9]: Assigning socketPath: /var/folders/1q/t08t1c7147b3jyhcc6c2xwfr0000gn/T/fire_emu_28834.sock {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-api-7e34d421-af96-4885-9f4c-0391ac255ea9]: Assigning socketPath: /var/folders/1q/t08t1c7147b3jyhcc6c2xwfr0000gn/T/fire_emu_28834.sock"}}
[debug] [2021-09-23T13:33:25.411Z] [worker-us-central1-api-7e34d421-af96-4885-9f4c-0391ac255ea9]: BUSY {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-api-7e34d421-af96-4885-9f4c-0391ac255ea9]: BUSY"}}
[debug] [2021-09-23T13:33:26.329Z] [runtime-status] [28834] Functions runtime initialized. {"cwd":"/Users/edouardtoulet/Desktop/Js/REACT/amazon-clone/functions","node_version":"14.15.5"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [28834] Functions runtime initialized. {\"cwd\":\"/Users/edouardtoulet/Desktop/Js/REACT/amazon-clone/functions\",\"node_version\":\"14.15.5\"}"}}
[debug] [2021-09-23T13:33:26.365Z] [runtime-status] [28834] Disabled runtime features: undefined {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [28834] Disabled runtime features: undefined"}}
[debug] [2021-09-23T13:33:26.371Z] [runtime-status] [28834] Resolved module firebase-admin {"declared":true,"installed":true,"version":"9.11.1","resolution":"/Users/edouardtoulet/Desktop/Js/REACT/amazon-clone/functions/node_modules/firebase-admin/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [28834] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"9.11.1\",\"resolution\":\"/Users/edouardtoulet/Desktop/Js/REACT/amazon-clone/functions/node_modules/firebase-admin/lib/index.js\"}"}}
[debug] [2021-09-23T13:33:26.378Z] [runtime-status] [28834] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.15.7","resolution":"/Users/edouardtoulet/Desktop/Js/REACT/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [28834] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.15.7\",\"resolution\":\"/Users/edouardtoulet/Desktop/Js/REACT/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2021-09-23T13:33:26.382Z] [runtime-status] [28834] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.15.7","resolution":"/Users/edouardtoulet/Desktop/Js/REACT/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [28834] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.15.7\",\"resolution\":\"/Users/edouardtoulet/Desktop/Js/REACT/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2021-09-23T13:33:26.385Z] [runtime-status] [28834] Outgoing network have been stubbed. [{"name":"http","status":"mocked"},{"name":"http","status":"mocked"},{"name":"https","status":"mocked"},{"name":"https","status":"mocked"},{"name":"net","status":"mocked"}] {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [28834] Outgoing network have been stubbed. [{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"net\",\"status\":\"mocked\"}]"}}
[debug] [2021-09-23T13:33:26.386Z] [runtime-status] [28834] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.15.7","resolution":"/Users/edouardtoulet/Desktop/Js/REACT/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [28834] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.15.7\",\"resolution\":\"/Users/edouardtoulet/Desktop/Js/REACT/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2021-09-23T13:33:26.484Z] [runtime-status] [28834] Checked functions.config() {"config":{}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [28834] Checked functions.config() {\"config\":{}}"}}
[debug] [2021-09-23T13:33:26.484Z] [runtime-status] [28834] firebase-functions has been stubbed. {"functionsResolution":{"declared":true,"installed":true,"version":"3.15.7","resolution":"/Users/edouardtoulet/Desktop/Js/REACT/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [28834] firebase-functions has been stubbed. {\"functionsResolution\":{\"declared\":true,\"installed\":true,\"version\":\"3.15.7\",\"resolution\":\"/Users/edouardtoulet/Desktop/Js/REACT/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}}"}}
[debug] [2021-09-23T13:33:26.486Z] [runtime-status] [28834] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.15.7","resolution":"/Users/edouardtoulet/Desktop/Js/REACT/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [28834] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.15.7\",\"resolution\":\"/Users/edouardtoulet/Desktop/Js/REACT/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2021-09-23T13:33:26.494Z] [runtime-status] [28834] Resolved module firebase-admin {"declared":true,"installed":true,"version":"9.11.1","resolution":"/Users/edouardtoulet/Desktop/Js/REACT/amazon-clone/functions/node_modules/firebase-admin/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [28834] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"9.11.1\",\"resolution\":\"/Users/edouardtoulet/Desktop/Js/REACT/amazon-clone/functions/node_modules/firebase-admin/lib/index.js\"}"}}
[debug] [2021-09-23T13:33:26.496Z] [runtime-status] [28834] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.15.7","resolution":"/Users/edouardtoulet/Desktop/Js/REACT/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [28834] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.15.7\",\"resolution\":\"/Users/edouardtoulet/Desktop/Js/REACT/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2021-09-23T13:33:26.496Z] [runtime-status] [28834] firebase-admin has been stubbed. {"adminResolution":{"declared":true,"installed":true,"version":"9.11.1","resolution":"/Users/edouardtoulet/Desktop/Js/REACT/amazon-clone/functions/node_modules/firebase-admin/lib/index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [28834] firebase-admin has been stubbed. {\"adminResolution\":{\"declared\":true,\"installed\":true,\"version\":\"9.11.1\",\"resolution\":\"/Users/edouardtoulet/Desktop/Js/REACT/amazon-clone/functions/node_modules/firebase-admin/lib/index.js\"}}"}}
[debug] [2021-09-23T13:33:27.162Z] [runtime-status] [28834] Trigger "us-central1-api" has been found, beginning invocation! {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [28834] Trigger \"us-central1-api\" has been found, beginning invocation!"}}
[info] i  functions: Beginning execution of "us-central1-api" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"Beginning execution of \"us-central1-api\""}}
[debug] [2021-09-23T13:33:27.163Z] [runtime-status] [28834] triggerDefinition {"httpsTrigger":{},"name":"api","entryPoint":"api","regions":["us-central1"],"region":"us-central1","id":"us-central1-api"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [28834] triggerDefinition {\"httpsTrigger\":{},\"name\":\"api\",\"entryPoint\":\"api\",\"regions\":[\"us-central1\"],\"region\":\"us-central1\",\"id\":\"us-central1-api\"}"}}
[debug] [2021-09-23T13:33:27.163Z] [runtime-status] [28834] Running us-central1-api in mode HTTPS {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [28834] Running us-central1-api in mode HTTPS"}}
[debug] [2021-09-23T13:33:27.171Z] [runtime-status] [28834] Attempting to listen to socketPath: /var/folders/1q/t08t1c7147b3jyhcc6c2xwfr0000gn/T/fire_emu_28834.sock {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [28834] Attempting to listen to socketPath: /var/folders/1q/t08t1c7147b3jyhcc6c2xwfr0000gn/T/fire_emu_28834.sock"}}
[debug] [2021-09-23T13:33:27.187Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2021-09-23T13:33:27.187Z] [functions] Got req.url=/clone-e655c/us-central1/api/payments/create?total=0, mapping to path=/payments/create?total=0 {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Got req.url=/clone-e655c/us-central1/api/payments/create?total=0, mapping to path=/payments/create?total=0"}}
[debug] [2021-09-23T13:33:27.210Z] [runtime-status] [28834] Ephemeral server handling POST request {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [28834] Ephemeral server handling POST request"}}
[info] >  Payment Request received BOOOOOM !! 0 {"user":"Payment Request received BOOOOOM !! 0","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m Payment Request received BOOOOOM !! 0"}}
[debug] [2021-09-23T13:33:27.232Z] [runtime-status] [28834] Ephemeral server survived. {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [28834] Ephemeral server survived."}}
[info] >  (node:28834) UnhandledPromiseRejectionWarning: Error: This value must be greater than or equal to 1. {"user":"(node:28834) UnhandledPromiseRejectionWarning: Error: This value must be greater than or equal to 1.","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m (node:28834) UnhandledPromiseRejectionWarning: Error: This value must be greater than or equal to 1."}}
[info] >      at Function.generate (/Users/edouardtoulet/Desktop/Js/REACT/amazon-clone/functions/node_modules/stripe/lib/Error.js:40:16) {"user":"    at Function.generate (/Users/edouardtoulet/Desktop/Js/REACT/amazon-clone/functions/node_modules/stripe/lib/Error.js:40:16)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     at Function.generate (/Users/edouardtoulet/Desktop/Js/REACT/amazon-clone/functions/node_modules/stripe/lib/Error.js:40:16)"}}
[info] >      at res.toJSON.then.StripeAPIError.message (/Users/edouardtoulet/Desktop/Js/REACT/amazon-clone/functions/node_modules/stripe/lib/StripeResource.js:220:35) {"user":"    at res.toJSON.then.StripeAPIError.message (/Users/edouardtoulet/Desktop/Js/REACT/amazon-clone/functions/node_modules/stripe/lib/StripeResource.js:220:35)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     at res.toJSON.then.StripeAPIError.message (/Users/edouardtoulet/Desktop/Js/REACT/amazon-clone/functions/node_modules/stripe/lib/StripeResource.js:220:35)"}}
[info] >      at processTicksAndRejections (internal/process/task_queues.js:93:5) {"user":"    at processTicksAndRejections (internal/process/task_queues.js:93:5)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     at processTicksAndRejections (internal/process/task_queues.js:93:5)"}}
[info] >  (Use `node --trace-warnings ...` to show where the warning was created) {"user":"(Use `node --trace-warnings ...` to show where the warning was created)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m (Use `node --trace-warnings ...` to show where the warning was created)"}}
[info] >  (node:28834) UnhandledPromiseRejectionWarning: Unhandled promise rejection. This error originated either by throwing inside of an async function without a catch block, or by rejecting a promise which was not handled with .catch(). To terminate the node process on unhandled promise rejection, use the CLI flag `--unhandled-rejections=strict` (see https://nodejs.org/api/cli.html#cli_unhandled_rejections_mode). (rejection id: 1) {"user":"(node:28834) UnhandledPromiseRejectionWarning: Unhandled promise rejection. This error originated either by throwing inside of an async function without a catch block, or by rejecting a promise which was not handled with .catch(). To terminate the node process on unhandled promise rejection, use the CLI flag `--unhandled-rejections=strict` (see https://nodejs.org/api/cli.html#cli_unhandled_rejections_mode). (rejection id: 1)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m (node:28834) UnhandledPromiseRejectionWarning: Unhandled promise rejection. This error originated either by throwing inside of an async function without a catch block, or by rejecting a promise which was not handled with .catch(). To terminate the node process on unhandled promise rejection, use the CLI flag `--unhandled-rejections=strict` (see https://nodejs.org/api/cli.html#cli_unhandled_rejections_mode). (rejection id: 1)"}}
[info] >  (node:28834) [DEP0018] DeprecationWarning: Unhandled promise rejections are deprecated. In the future, promise rejections that are not handled will terminate the Node.js process with a non-zero exit code. {"user":"(node:28834) [DEP0018] DeprecationWarning: Unhandled promise rejections are deprecated. In the future, promise rejections that are not handled will terminate the Node.js process with a non-zero exit code.","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m (node:28834) [DEP0018] DeprecationWarning: Unhandled promise rejections are deprecated. In the future, promise rejections that are not handled will terminate the Node.js process with a non-zero exit code."}}
[debug] [2021-09-23T13:34:01.574Z] [work-queue] {"queueLength":1,"workRunningCount":2}
[debug] [2021-09-23T13:34:01.575Z] [work-queue] {"queueLength":0,"workRunningCount":3}
[debug] [2021-09-23T13:34:01.575Z] Accepted request POST /clone-e655c/us-central1/api/payments/create?total=0 --> us-central1-api
[debug] [2021-09-23T13:34:01.581Z] [worker-pool] addWorker(us-central1-api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] addWorker(us-central1-api)"}}
[debug] [2021-09-23T13:34:01.582Z] [worker-pool] Adding worker with key us-central1-api, total=3 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Adding worker with key us-central1-api, total=3"}}
[debug] [2021-09-23T13:34:01.582Z] [worker-pool] submitWork(triggerId=us-central1-api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitWork(triggerId=us-central1-api)"}}
[debug] [2021-09-23T13:34:01.582Z] [worker-us-central1-api-37f6e78a-2f82-4e82-9afe-4b311c5079d2]: Assigning socketPath: /var/folders/1q/t08t1c7147b3jyhcc6c2xwfr0000gn/T/fire_emu_28863.sock {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-api-37f6e78a-2f82-4e82-9afe-4b311c5079d2]: Assigning socketPath: /var/folders/1q/t08t1c7147b3jyhcc6c2xwfr0000gn/T/fire_emu_28863.sock"}}
[debug] [2021-09-23T13:34:01.582Z] [worker-us-central1-api-37f6e78a-2f82-4e82-9afe-4b311c5079d2]: BUSY {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-api-37f6e78a-2f82-4e82-9afe-4b311c5079d2]: BUSY"}}
[debug] [2021-09-23T13:34:02.066Z] [runtime-status] [28863] Functions runtime initialized. {"cwd":"/Users/edouardtoulet/Desktop/Js/REACT/amazon-clone/functions","node_version":"14.15.5"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [28863] Functions runtime initialized. {\"cwd\":\"/Users/edouardtoulet/Desktop/Js/REACT/amazon-clone/functions\",\"node_version\":\"14.15.5\"}"}}
[debug] [2021-09-23T13:34:02.071Z] [runtime-status] [28863] Disabled runtime features: undefined {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [28863] Disabled runtime features: undefined"}}
[debug] [2021-09-23T13:34:02.075Z] [runtime-status] [28863] Resolved module firebase-admin {"declared":true,"installed":true,"version":"9.11.1","resolution":"/Users/edouardtoulet/Desktop/Js/REACT/amazon-clone/functions/node_modules/firebase-admin/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [28863] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"9.11.1\",\"resolution\":\"/Users/edouardtoulet/Desktop/Js/REACT/amazon-clone/functions/node_modules/firebase-admin/lib/index.js\"}"}}
[debug] [2021-09-23T13:34:02.082Z] [runtime-status] [28863] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.15.7","resolution":"/Users/edouardtoulet/Desktop/Js/REACT/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [28863] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.15.7\",\"resolution\":\"/Users/edouardtoulet/Desktop/Js/REACT/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2021-09-23T13:34:02.089Z] [runtime-status] [28863] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.15.7","resolution":"/Users/edouardtoulet/Desktop/Js/REACT/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [28863] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.15.7\",\"resolution\":\"/Users/edouardtoulet/Desktop/Js/REACT/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2021-09-23T13:34:02.092Z] [runtime-status] [28863] Outgoing network have been stubbed. [{"name":"http","status":"mocked"},{"name":"http","status":"mocked"},{"name":"https","status":"mocked"},{"name":"https","status":"mocked"},{"name":"net","status":"mocked"}] {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [28863] Outgoing network have been stubbed. [{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"net\",\"status\":\"mocked\"}]"}}
[debug] [2021-09-23T13:34:02.095Z] [runtime-status] [28863] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.15.7","resolution":"/Users/edouardtoulet/Desktop/Js/REACT/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [28863] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.15.7\",\"resolution\":\"/Users/edouardtoulet/Desktop/Js/REACT/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2021-09-23T13:34:02.305Z] [runtime-status] [28863] Checked functions.config() {"config":{}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [28863] Checked functions.config() {\"config\":{}}"}}
[debug] [2021-09-23T13:34:02.305Z] [runtime-status] [28863] firebase-functions has been stubbed. {"functionsResolution":{"declared":true,"installed":true,"version":"3.15.7","resolution":"/Users/edouardtoulet/Desktop/Js/REACT/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [28863] firebase-functions has been stubbed. {\"functionsResolution\":{\"declared\":true,\"installed\":true,\"version\":\"3.15.7\",\"resolution\":\"/Users/edouardtoulet/Desktop/Js/REACT/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}}"}}
[debug] [2021-09-23T13:34:02.306Z] [runtime-status] [28863] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.15.7","resolution":"/Users/edouardtoulet/Desktop/Js/REACT/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [28863] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.15.7\",\"resolution\":\"/Users/edouardtoulet/Desktop/Js/REACT/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2021-09-23T13:34:02.307Z] [runtime-status] [28863] Resolved module firebase-admin {"declared":true,"installed":true,"version":"9.11.1","resolution":"/Users/edouardtoulet/Desktop/Js/REACT/amazon-clone/functions/node_modules/firebase-admin/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [28863] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"9.11.1\",\"resolution\":\"/Users/edouardtoulet/Desktop/Js/REACT/amazon-clone/functions/node_modules/firebase-admin/lib/index.js\"}"}}
[debug] [2021-09-23T13:34:02.308Z] [runtime-status] [28863] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.15.7","resolution":"/Users/edouardtoulet/Desktop/Js/REACT/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [28863] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.15.7\",\"resolution\":\"/Users/edouardtoulet/Desktop/Js/REACT/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2021-09-23T13:34:02.309Z] [runtime-status] [28863] firebase-admin has been stubbed. {"adminResolution":{"declared":true,"installed":true,"version":"9.11.1","resolution":"/Users/edouardtoulet/Desktop/Js/REACT/amazon-clone/functions/node_modules/firebase-admin/lib/index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [28863] firebase-admin has been stubbed. {\"adminResolution\":{\"declared\":true,\"installed\":true,\"version\":\"9.11.1\",\"resolution\":\"/Users/edouardtoulet/Desktop/Js/REACT/amazon-clone/functions/node_modules/firebase-admin/lib/index.js\"}}"}}
[debug] [2021-09-23T13:34:02.834Z] [runtime-status] [28863] Trigger "us-central1-api" has been found, beginning invocation! {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [28863] Trigger \"us-central1-api\" has been found, beginning invocation!"}}
[info] i  functions: Beginning execution of "us-central1-api" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"Beginning execution of \"us-central1-api\""}}
[debug] [2021-09-23T13:34:02.834Z] [runtime-status] [28863] triggerDefinition {"httpsTrigger":{},"name":"api","entryPoint":"api","regions":["us-central1"],"region":"us-central1","id":"us-central1-api"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [28863] triggerDefinition {\"httpsTrigger\":{},\"name\":\"api\",\"entryPoint\":\"api\",\"regions\":[\"us-central1\"],\"region\":\"us-central1\",\"id\":\"us-central1-api\"}"}}
[debug] [2021-09-23T13:34:02.834Z] [runtime-status] [28863] Running us-central1-api in mode HTTPS {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [28863] Running us-central1-api in mode HTTPS"}}
[debug] [2021-09-23T13:34:02.841Z] [runtime-status] [28863] Attempting to listen to socketPath: /var/folders/1q/t08t1c7147b3jyhcc6c2xwfr0000gn/T/fire_emu_28863.sock {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [28863] Attempting to listen to socketPath: /var/folders/1q/t08t1c7147b3jyhcc6c2xwfr0000gn/T/fire_emu_28863.sock"}}
[debug] [2021-09-23T13:34:02.844Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2021-09-23T13:34:02.844Z] [functions] Got req.url=/clone-e655c/us-central1/api/payments/create?total=0, mapping to path=/payments/create?total=0 {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Got req.url=/clone-e655c/us-central1/api/payments/create?total=0, mapping to path=/payments/create?total=0"}}
[debug] [2021-09-23T13:34:02.862Z] [runtime-status] [28863] Ephemeral server handling POST request {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [28863] Ephemeral server handling POST request"}}
[info] >  Payment Request received BOOOOOM !! 0 {"user":"Payment Request received BOOOOOM !! 0","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m Payment Request received BOOOOOM !! 0"}}
[debug] [2021-09-23T13:34:02.950Z] [runtime-status] [28863] Ephemeral server survived. {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [28863] Ephemeral server survived."}}
[info] >  (node:28863) UnhandledPromiseRejectionWarning: Error: This value must be greater than or equal to 1. {"user":"(node:28863) UnhandledPromiseRejectionWarning: Error: This value must be greater than or equal to 1.","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m (node:28863) UnhandledPromiseRejectionWarning: Error: This value must be greater than or equal to 1."}}
[info] >      at Function.generate (/Users/edouardtoulet/Desktop/Js/REACT/amazon-clone/functions/node_modules/stripe/lib/Error.js:40:16) {"user":"    at Function.generate (/Users/edouardtoulet/Desktop/Js/REACT/amazon-clone/functions/node_modules/stripe/lib/Error.js:40:16)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     at Function.generate (/Users/edouardtoulet/Desktop/Js/REACT/amazon-clone/functions/node_modules/stripe/lib/Error.js:40:16)"}}
[info] >      at res.toJSON.then.StripeAPIError.message (/Users/edouardtoulet/Desktop/Js/REACT/amazon-clone/functions/node_modules/stripe/lib/StripeResource.js:220:35) {"user":"    at res.toJSON.then.StripeAPIError.message (/Users/edouardtoulet/Desktop/Js/REACT/amazon-clone/functions/node_modules/stripe/lib/StripeResource.js:220:35)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     at res.toJSON.then.StripeAPIError.message (/Users/edouardtoulet/Desktop/Js/REACT/amazon-clone/functions/node_modules/stripe/lib/StripeResource.js:220:35)"}}
[info] >      at processTicksAndRejections (internal/process/task_queues.js:93:5) {"user":"    at processTicksAndRejections (internal/process/task_queues.js:93:5)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     at processTicksAndRejections (internal/process/task_queues.js:93:5)"}}
[info] >  (Use `node --trace-warnings ...` to show where the warning was created) {"user":"(Use `node --trace-warnings ...` to show where the warning was created)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m (Use `node --trace-warnings ...` to show where the warning was created)"}}
[info] >  (node:28863) UnhandledPromiseRejectionWarning: Unhandled promise rejection. This error originated either by throwing inside of an async function without a catch block, or by rejecting a promise which was not handled with .catch(). To terminate the node process on unhandled promise rejection, use the CLI flag `--unhandled-rejections=strict` (see https://nodejs.org/api/cli.html#cli_unhandled_rejections_mode). (rejection id: 1) {"user":"(node:28863) UnhandledPromiseRejectionWarning: Unhandled promise rejection. This error originated either by throwing inside of an async function without a catch block, or by rejecting a promise which was not handled with .catch(). To terminate the node process on unhandled promise rejection, use the CLI flag `--unhandled-rejections=strict` (see https://nodejs.org/api/cli.html#cli_unhandled_rejections_mode). (rejection id: 1)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m (node:28863) UnhandledPromiseRejectionWarning: Unhandled promise rejection. This error originated either by throwing inside of an async function without a catch block, or by rejecting a promise which was not handled with .catch(). To terminate the node process on unhandled promise rejection, use the CLI flag `--unhandled-rejections=strict` (see https://nodejs.org/api/cli.html#cli_unhandled_rejections_mode). (rejection id: 1)"}}
[info] >  (node:28863) [DEP0018] DeprecationWarning: Unhandled promise rejections are deprecated. In the future, promise rejections that are not handled will terminate the Node.js process with a non-zero exit code. {"user":"(node:28863) [DEP0018] DeprecationWarning: Unhandled promise rejections are deprecated. In the future, promise rejections that are not handled will terminate the Node.js process with a non-zero exit code.","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m (node:28863) [DEP0018] DeprecationWarning: Unhandled promise rejections are deprecated. In the future, promise rejections that are not handled will terminate the Node.js process with a non-zero exit code."}}
[debug] [2021-09-23T13:34:07.851Z] [work-queue] {"queueLength":1,"workRunningCount":3}
[debug] [2021-09-23T13:34:07.852Z] [work-queue] {"queueLength":0,"workRunningCount":4}
[debug] [2021-09-23T13:34:07.852Z] Accepted request POST /clone-e655c/us-central1/api/payments/create?total=0 --> us-central1-api
[debug] [2021-09-23T13:34:07.857Z] [worker-pool] addWorker(us-central1-api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] addWorker(us-central1-api)"}}
[debug] [2021-09-23T13:34:07.857Z] [worker-pool] Adding worker with key us-central1-api, total=4 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Adding worker with key us-central1-api, total=4"}}
[debug] [2021-09-23T13:34:07.857Z] [worker-pool] submitWork(triggerId=us-central1-api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitWork(triggerId=us-central1-api)"}}
[debug] [2021-09-23T13:34:07.857Z] [worker-us-central1-api-1947e458-dfba-4e14-89c2-cdcd1afccec9]: Assigning socketPath: /var/folders/1q/t08t1c7147b3jyhcc6c2xwfr0000gn/T/fire_emu_28865.sock {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-api-1947e458-dfba-4e14-89c2-cdcd1afccec9]: Assigning socketPath: /var/folders/1q/t08t1c7147b3jyhcc6c2xwfr0000gn/T/fire_emu_28865.sock"}}
[debug] [2021-09-23T13:34:07.857Z] [worker-us-central1-api-1947e458-dfba-4e14-89c2-cdcd1afccec9]: BUSY {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-api-1947e458-dfba-4e14-89c2-cdcd1afccec9]: BUSY"}}
[debug] [2021-09-23T13:34:09.214Z] [runtime-status] [28865] Functions runtime initialized. {"cwd":"/Users/edouardtoulet/Desktop/Js/REACT/amazon-clone/functions","node_version":"14.15.5"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [28865] Functions runtime initialized. {\"cwd\":\"/Users/edouardtoulet/Desktop/Js/REACT/amazon-clone/functions\",\"node_version\":\"14.15.5\"}"}}
[debug] [2021-09-23T13:34:09.219Z] [runtime-status] [28865] Disabled runtime features: undefined {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [28865] Disabled runtime features: undefined"}}
[debug] [2021-09-23T13:34:09.224Z] [runtime-status] [28865] Resolved module firebase-admin {"declared":true,"installed":true,"version":"9.11.1","resolution":"/Users/edouardtoulet/Desktop/Js/REACT/amazon-clone/functions/node_modules/firebase-admin/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [28865] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"9.11.1\",\"resolution\":\"/Users/edouardtoulet/Desktop/Js/REACT/amazon-clone/functions/node_modules/firebase-admin/lib/index.js\"}"}}
[debug] [2021-09-23T13:34:09.228Z] [runtime-status] [28865] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.15.7","resolution":"/Users/edouardtoulet/Desktop/Js/REACT/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [28865] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.15.7\",\"resolution\":\"/Users/edouardtoulet/Desktop/Js/REACT/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2021-09-23T13:34:09.231Z] [runtime-status] [28865] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.15.7","resolution":"/Users/edouardtoulet/Desktop/Js/REACT/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [28865] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.15.7\",\"resolution\":\"/Users/edouardtoulet/Desktop/Js/REACT/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2021-09-23T13:34:09.233Z] [runtime-status] [28865] Outgoing network have been stubbed. [{"name":"http","status":"mocked"},{"name":"http","status":"mocked"},{"name":"https","status":"mocked"},{"name":"https","status":"mocked"},{"name":"net","status":"mocked"}] {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [28865] Outgoing network have been stubbed. [{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"net\",\"status\":\"mocked\"}]"}}
[debug] [2021-09-23T13:34:09.234Z] [runtime-status] [28865] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.15.7","resolution":"/Users/edouardtoulet/Desktop/Js/REACT/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [28865] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.15.7\",\"resolution\":\"/Users/edouardtoulet/Desktop/Js/REACT/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2021-09-23T13:34:09.476Z] [runtime-status] [28865] Checked functions.config() {"config":{}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [28865] Checked functions.config() {\"config\":{}}"}}
[debug] [2021-09-23T13:34:09.477Z] [runtime-status] [28865] firebase-functions has been stubbed. {"functionsResolution":{"declared":true,"installed":true,"version":"3.15.7","resolution":"/Users/edouardtoulet/Desktop/Js/REACT/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [28865] firebase-functions has been stubbed. {\"functionsResolution\":{\"declared\":true,\"installed\":true,\"version\":\"3.15.7\",\"resolution\":\"/Users/edouardtoulet/Desktop/Js/REACT/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}}"}}
[debug] [2021-09-23T13:34:09.479Z] [runtime-status] [28865] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.15.7","resolution":"/Users/edouardtoulet/Desktop/Js/REACT/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [28865] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.15.7\",\"resolution\":\"/Users/edouardtoulet/Desktop/Js/REACT/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2021-09-23T13:34:09.481Z] [runtime-status] [28865] Resolved module firebase-admin {"declared":true,"installed":true,"version":"9.11.1","resolution":"/Users/edouardtoulet/Desktop/Js/REACT/amazon-clone/functions/node_modules/firebase-admin/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [28865] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"9.11.1\",\"resolution\":\"/Users/edouardtoulet/Desktop/Js/REACT/amazon-clone/functions/node_modules/firebase-admin/lib/index.js\"}"}}
[debug] [2021-09-23T13:34:09.482Z] [runtime-status] [28865] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.15.7","resolution":"/Users/edouardtoulet/Desktop/Js/REACT/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [28865] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.15.7\",\"resolution\":\"/Users/edouardtoulet/Desktop/Js/REACT/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2021-09-23T13:34:09.482Z] [runtime-status] [28865] firebase-admin has been stubbed. {"adminResolution":{"declared":true,"installed":true,"version":"9.11.1","resolution":"/Users/edouardtoulet/Desktop/Js/REACT/amazon-clone/functions/node_modules/firebase-admin/lib/index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [28865] firebase-admin has been stubbed. {\"adminResolution\":{\"declared\":true,\"installed\":true,\"version\":\"9.11.1\",\"resolution\":\"/Users/edouardtoulet/Desktop/Js/REACT/amazon-clone/functions/node_modules/firebase-admin/lib/index.js\"}}"}}
[debug] [2021-09-23T13:34:09.772Z] [runtime-status] [28865] Trigger "us-central1-api" has been found, beginning invocation! {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [28865] Trigger \"us-central1-api\" has been found, beginning invocation!"}}
[info] i  functions: Beginning execution of "us-central1-api" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"Beginning execution of \"us-central1-api\""}}
[debug] [2021-09-23T13:34:09.773Z] [runtime-status] [28865] triggerDefinition {"httpsTrigger":{},"name":"api","entryPoint":"api","regions":["us-central1"],"region":"us-central1","id":"us-central1-api"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [28865] triggerDefinition {\"httpsTrigger\":{},\"name\":\"api\",\"entryPoint\":\"api\",\"regions\":[\"us-central1\"],\"region\":\"us-central1\",\"id\":\"us-central1-api\"}"}}
[debug] [2021-09-23T13:34:09.773Z] [runtime-status] [28865] Running us-central1-api in mode HTTPS {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [28865] Running us-central1-api in mode HTTPS"}}
[debug] [2021-09-23T13:34:09.778Z] [runtime-status] [28865] Attempting to listen to socketPath: /var/folders/1q/t08t1c7147b3jyhcc6c2xwfr0000gn/T/fire_emu_28865.sock {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [28865] Attempting to listen to socketPath: /var/folders/1q/t08t1c7147b3jyhcc6c2xwfr0000gn/T/fire_emu_28865.sock"}}
[debug] [2021-09-23T13:34:09.782Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2021-09-23T13:34:09.782Z] [functions] Got req.url=/clone-e655c/us-central1/api/payments/create?total=0, mapping to path=/payments/create?total=0 {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Got req.url=/clone-e655c/us-central1/api/payments/create?total=0, mapping to path=/payments/create?total=0"}}
[debug] [2021-09-23T13:34:09.916Z] [runtime-status] [28865] Ephemeral server handling POST request {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [28865] Ephemeral server handling POST request"}}
[info] >  Payment Request received BOOOOOM !! 0 {"user":"Payment Request received BOOOOOM !! 0","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m Payment Request received BOOOOOM !! 0"}}
[debug] [2021-09-23T13:34:09.940Z] [runtime-status] [28865] Ephemeral server survived. {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [28865] Ephemeral server survived."}}
[info] >  (node:28865) UnhandledPromiseRejectionWarning: Error: This value must be greater than or equal to 1. {"user":"(node:28865) UnhandledPromiseRejectionWarning: Error: This value must be greater than or equal to 1.","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m (node:28865) UnhandledPromiseRejectionWarning: Error: This value must be greater than or equal to 1."}}
[info] >      at Function.generate (/Users/edouardtoulet/Desktop/Js/REACT/amazon-clone/functions/node_modules/stripe/lib/Error.js:40:16) {"user":"    at Function.generate (/Users/edouardtoulet/Desktop/Js/REACT/amazon-clone/functions/node_modules/stripe/lib/Error.js:40:16)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     at Function.generate (/Users/edouardtoulet/Desktop/Js/REACT/amazon-clone/functions/node_modules/stripe/lib/Error.js:40:16)"}}
[info] >      at res.toJSON.then.StripeAPIError.message (/Users/edouardtoulet/Desktop/Js/REACT/amazon-clone/functions/node_modules/stripe/lib/StripeResource.js:220:35) {"user":"    at res.toJSON.then.StripeAPIError.message (/Users/edouardtoulet/Desktop/Js/REACT/amazon-clone/functions/node_modules/stripe/lib/StripeResource.js:220:35)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     at res.toJSON.then.StripeAPIError.message (/Users/edouardtoulet/Desktop/Js/REACT/amazon-clone/functions/node_modules/stripe/lib/StripeResource.js:220:35)"}}
[info] >      at processTicksAndRejections (internal/process/task_queues.js:93:5) {"user":"    at processTicksAndRejections (internal/process/task_queues.js:93:5)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     at processTicksAndRejections (internal/process/task_queues.js:93:5)"}}
[info] >  (Use `node --trace-warnings ...` to show where the warning was created) {"user":"(Use `node --trace-warnings ...` to show where the warning was created)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m (Use `node --trace-warnings ...` to show where the warning was created)"}}
[info] >  (node:28865) UnhandledPromiseRejectionWarning: Unhandled promise rejection. This error originated either by throwing inside of an async function without a catch block, or by rejecting a promise which was not handled with .catch(). To terminate the node process on unhandled promise rejection, use the CLI flag `--unhandled-rejections=strict` (see https://nodejs.org/api/cli.html#cli_unhandled_rejections_mode). (rejection id: 1) {"user":"(node:28865) UnhandledPromiseRejectionWarning: Unhandled promise rejection. This error originated either by throwing inside of an async function without a catch block, or by rejecting a promise which was not handled with .catch(). To terminate the node process on unhandled promise rejection, use the CLI flag `--unhandled-rejections=strict` (see https://nodejs.org/api/cli.html#cli_unhandled_rejections_mode). (rejection id: 1)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m (node:28865) UnhandledPromiseRejectionWarning: Unhandled promise rejection. This error originated either by throwing inside of an async function without a catch block, or by rejecting a promise which was not handled with .catch(). To terminate the node process on unhandled promise rejection, use the CLI flag `--unhandled-rejections=strict` (see https://nodejs.org/api/cli.html#cli_unhandled_rejections_mode). (rejection id: 1)"}}
[info] >  (node:28865) [DEP0018] DeprecationWarning: Unhandled promise rejections are deprecated. In the future, promise rejections that are not handled will terminate the Node.js process with a non-zero exit code. {"user":"(node:28865) [DEP0018] DeprecationWarning: Unhandled promise rejections are deprecated. In the future, promise rejections that are not handled will terminate the Node.js process with a non-zero exit code.","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m (node:28865) [DEP0018] DeprecationWarning: Unhandled promise rejections are deprecated. In the future, promise rejections that are not handled will terminate the Node.js process with a non-zero exit code."}}
[warn] ⚠  functions: Your function timed out after ~60s. To configure this timeout, see
      https://firebase.google.com/docs/functions/manage-functions#set_timeout_and_memory_allocation. {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"Your function timed out after ~60s. To configure this timeout, see\n      https://firebase.google.com/docs/functions/manage-functions#set_timeout_and_memory_allocation."}}
[info] >  /usr/local/lib/node_modules/firebase-tools/lib/emulator/functionsEmulatorRuntime.js:679 {"user":"/usr/local/lib/node_modules/firebase-tools/lib/emulator/functionsEmulatorRuntime.js:679","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m /usr/local/lib/node_modules/firebase-tools/lib/emulator/functionsEmulatorRuntime.js:679"}}
[info] >              throw new Error("Function timed out."); {"user":"            throw new Error(\"Function timed out.\");","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m             throw new Error(\"Function timed out.\");"}}
[info] >              ^ {"user":"            ^","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m             ^"}}
[info] >   {"user":"","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m "}}
[info] >  Error: Function timed out. {"user":"Error: Function timed out.","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m Error: Function timed out."}}
[info] >      at Timeout._onTimeout (/usr/local/lib/node_modules/firebase-tools/lib/emulator/functionsEmulatorRuntime.js:679:19) {"user":"    at Timeout._onTimeout (/usr/local/lib/node_modules/firebase-tools/lib/emulator/functionsEmulatorRuntime.js:679:19)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     at Timeout._onTimeout (/usr/local/lib/node_modules/firebase-tools/lib/emulator/functionsEmulatorRuntime.js:679:19)"}}
[info] >      at listOnTimeout (internal/timers.js:554:17) {"user":"    at listOnTimeout (internal/timers.js:554:17)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     at listOnTimeout (internal/timers.js:554:17)"}}
[info] >      at processTimers (internal/timers.js:497:7) {"user":"    at processTimers (internal/timers.js:497:7)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     at processTimers (internal/timers.js:497:7)"}}
[debug] [2021-09-23T13:34:18.440Z] [worker-us-central1-api-f12810e6-9163-4eb9-9f2b-aaea72637697]: exited {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-api-f12810e6-9163-4eb9-9f2b-aaea72637697]: exited"}}
[debug] [2021-09-23T13:34:18.440Z] [worker-us-central1-api-f12810e6-9163-4eb9-9f2b-aaea72637697]: FINISHED {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-api-f12810e6-9163-4eb9-9f2b-aaea72637697]: FINISHED"}}
[debug] [2021-09-23T13:34:18.441Z] [work-queue] {"queueLength":0,"workRunningCount":3}
[warn] ⚠  functions: Your function timed out after ~60s. To configure this timeout, see
      https://firebase.google.com/docs/functions/manage-functions#set_timeout_and_memory_allocation. {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"Your function timed out after ~60s. To configure this timeout, see\n      https://firebase.google.com/docs/functions/manage-functions#set_timeout_and_memory_allocation."}}
[info] >  /usr/local/lib/node_modules/firebase-tools/lib/emulator/functionsEmulatorRuntime.js:679 {"user":"/usr/local/lib/node_modules/firebase-tools/lib/emulator/functionsEmulatorRuntime.js:679","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m /usr/local/lib/node_modules/firebase-tools/lib/emulator/functionsEmulatorRuntime.js:679"}}
[info] >              throw new Error("Function timed out."); {"user":"            throw new Error(\"Function timed out.\");","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m             throw new Error(\"Function timed out.\");"}}
[info] >              ^ {"user":"            ^","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m             ^"}}
[info] >   {"user":"","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m "}}
[info] >  Error: Function timed out. {"user":"Error: Function timed out.","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m Error: Function timed out."}}
[info] >      at Timeout._onTimeout (/usr/local/lib/node_modules/firebase-tools/lib/emulator/functionsEmulatorRuntime.js:679:19) {"user":"    at Timeout._onTimeout (/usr/local/lib/node_modules/firebase-tools/lib/emulator/functionsEmulatorRuntime.js:679:19)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     at Timeout._onTimeout (/usr/local/lib/node_modules/firebase-tools/lib/emulator/functionsEmulatorRuntime.js:679:19)"}}
[info] >      at listOnTimeout (internal/timers.js:554:17) {"user":"    at listOnTimeout (internal/timers.js:554:17)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     at listOnTimeout (internal/timers.js:554:17)"}}
[info] >      at processTimers (internal/timers.js:497:7) {"user":"    at processTimers (internal/timers.js:497:7)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     at processTimers (internal/timers.js:497:7)"}}
[debug] [2021-09-23T13:34:27.183Z] [worker-us-central1-api-7e34d421-af96-4885-9f4c-0391ac255ea9]: exited {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-api-7e34d421-af96-4885-9f4c-0391ac255ea9]: exited"}}
[debug] [2021-09-23T13:34:27.184Z] [worker-us-central1-api-7e34d421-af96-4885-9f4c-0391ac255ea9]: FINISHED {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-api-7e34d421-af96-4885-9f4c-0391ac255ea9]: FINISHED"}}
[debug] [2021-09-23T13:34:27.184Z] [work-queue] {"queueLength":0,"workRunningCount":2}
[debug] [2021-09-23T13:34:28.620Z] [work-queue] {"queueLength":1,"workRunningCount":2}
[debug] [2021-09-23T13:34:28.620Z] [work-queue] {"queueLength":0,"workRunningCount":3}
[debug] [2021-09-23T13:34:28.620Z] Accepted request POST /clone-e655c/us-central1/api/payments/create?total=0 --> us-central1-api
[debug] [2021-09-23T13:34:28.620Z] [worker-pool] Cleaned up workers for us-central1-api: 4 --> 2 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Cleaned up workers for us-central1-api: 4 --> 2"}}
[debug] [2021-09-23T13:34:28.625Z] [worker-pool] addWorker(us-central1-api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] addWorker(us-central1-api)"}}
[debug] [2021-09-23T13:34:28.625Z] [worker-pool] Adding worker with key us-central1-api, total=3 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Adding worker with key us-central1-api, total=3"}}
[debug] [2021-09-23T13:34:28.625Z] [worker-pool] submitWork(triggerId=us-central1-api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitWork(triggerId=us-central1-api)"}}
[debug] [2021-09-23T13:34:28.625Z] [worker-us-central1-api-c57c6a85-f77b-42f5-9f69-8da846cb90d8]: Assigning socketPath: /var/folders/1q/t08t1c7147b3jyhcc6c2xwfr0000gn/T/fire_emu_28894.sock {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-api-c57c6a85-f77b-42f5-9f69-8da846cb90d8]: Assigning socketPath: /var/folders/1q/t08t1c7147b3jyhcc6c2xwfr0000gn/T/fire_emu_28894.sock"}}
[debug] [2021-09-23T13:34:28.626Z] [worker-us-central1-api-c57c6a85-f77b-42f5-9f69-8da846cb90d8]: BUSY {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-api-c57c6a85-f77b-42f5-9f69-8da846cb90d8]: BUSY"}}
[debug] [2021-09-23T13:34:29.314Z] [runtime-status] [28894] Functions runtime initialized. {"cwd":"/Users/edouardtoulet/Desktop/Js/REACT/amazon-clone/functions","node_version":"14.15.5"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [28894] Functions runtime initialized. {\"cwd\":\"/Users/edouardtoulet/Desktop/Js/REACT/amazon-clone/functions\",\"node_version\":\"14.15.5\"}"}}
[debug] [2021-09-23T13:34:29.325Z] [runtime-status] [28894] Disabled runtime features: undefined {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [28894] Disabled runtime features: undefined"}}
[debug] [2021-09-23T13:34:29.333Z] [runtime-status] [28894] Resolved module firebase-admin {"declared":true,"installed":true,"version":"9.11.1","resolution":"/Users/edouardtoulet/Desktop/Js/REACT/amazon-clone/functions/node_modules/firebase-admin/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [28894] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"9.11.1\",\"resolution\":\"/Users/edouardtoulet/Desktop/Js/REACT/amazon-clone/functions/node_modules/firebase-admin/lib/index.js\"}"}}
[debug] [2021-09-23T13:34:29.336Z] [runtime-status] [28894] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.15.7","resolution":"/Users/edouardtoulet/Desktop/Js/REACT/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [28894] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.15.7\",\"resolution\":\"/Users/edouardtoulet/Desktop/Js/REACT/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2021-09-23T13:34:29.339Z] [runtime-status] [28894] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.15.7","resolution":"/Users/edouardtoulet/Desktop/Js/REACT/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [28894] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.15.7\",\"resolution\":\"/Users/edouardtoulet/Desktop/Js/REACT/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2021-09-23T13:34:29.342Z] [runtime-status] [28894] Outgoing network have been stubbed. [{"name":"http","status":"mocked"},{"name":"http","status":"mocked"},{"name":"https","status":"mocked"},{"name":"https","status":"mocked"},{"name":"net","status":"mocked"}] {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [28894] Outgoing network have been stubbed. [{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"net\",\"status\":\"mocked\"}]"}}
[debug] [2021-09-23T13:34:29.343Z] [runtime-status] [28894] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.15.7","resolution":"/Users/edouardtoulet/Desktop/Js/REACT/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [28894] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.15.7\",\"resolution\":\"/Users/edouardtoulet/Desktop/Js/REACT/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2021-09-23T13:34:29.518Z] [runtime-status] [28894] Checked functions.config() {"config":{}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [28894] Checked functions.config() {\"config\":{}}"}}
[debug] [2021-09-23T13:34:29.519Z] [runtime-status] [28894] firebase-functions has been stubbed. {"functionsResolution":{"declared":true,"installed":true,"version":"3.15.7","resolution":"/Users/edouardtoulet/Desktop/Js/REACT/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [28894] firebase-functions has been stubbed. {\"functionsResolution\":{\"declared\":true,\"installed\":true,\"version\":\"3.15.7\",\"resolution\":\"/Users/edouardtoulet/Desktop/Js/REACT/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}}"}}
[debug] [2021-09-23T13:34:29.521Z] [runtime-status] [28894] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.15.7","resolution":"/Users/edouardtoulet/Desktop/Js/REACT/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [28894] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.15.7\",\"resolution\":\"/Users/edouardtoulet/Desktop/Js/REACT/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2021-09-23T13:34:29.522Z] [runtime-status] [28894] Resolved module firebase-admin {"declared":true,"installed":true,"version":"9.11.1","resolution":"/Users/edouardtoulet/Desktop/Js/REACT/amazon-clone/functions/node_modules/firebase-admin/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [28894] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"9.11.1\",\"resolution\":\"/Users/edouardtoulet/Desktop/Js/REACT/amazon-clone/functions/node_modules/firebase-admin/lib/index.js\"}"}}
[debug] [2021-09-23T13:34:29.523Z] [runtime-status] [28894] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.15.7","resolution":"/Users/edouardtoulet/Desktop/Js/REACT/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [28894] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.15.7\",\"resolution\":\"/Users/edouardtoulet/Desktop/Js/REACT/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2021-09-23T13:34:29.523Z] [runtime-status] [28894] firebase-admin has been stubbed. {"adminResolution":{"declared":true,"installed":true,"version":"9.11.1","resolution":"/Users/edouardtoulet/Desktop/Js/REACT/amazon-clone/functions/node_modules/firebase-admin/lib/index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [28894] firebase-admin has been stubbed. {\"adminResolution\":{\"declared\":true,\"installed\":true,\"version\":\"9.11.1\",\"resolution\":\"/Users/edouardtoulet/Desktop/Js/REACT/amazon-clone/functions/node_modules/firebase-admin/lib/index.js\"}}"}}
[debug] [2021-09-23T13:34:30.052Z] [runtime-status] [28894] Trigger "us-central1-api" has been found, beginning invocation! {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [28894] Trigger \"us-central1-api\" has been found, beginning invocation!"}}
[info] i  functions: Beginning execution of "us-central1-api" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"Beginning execution of \"us-central1-api\""}}
[debug] [2021-09-23T13:34:30.052Z] [runtime-status] [28894] triggerDefinition {"httpsTrigger":{},"name":"api","entryPoint":"api","regions":["us-central1"],"region":"us-central1","id":"us-central1-api"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [28894] triggerDefinition {\"httpsTrigger\":{},\"name\":\"api\",\"entryPoint\":\"api\",\"regions\":[\"us-central1\"],\"region\":\"us-central1\",\"id\":\"us-central1-api\"}"}}
[debug] [2021-09-23T13:34:30.053Z] [runtime-status] [28894] Running us-central1-api in mode HTTPS {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [28894] Running us-central1-api in mode HTTPS"}}
[debug] [2021-09-23T13:34:30.060Z] [runtime-status] [28894] Attempting to listen to socketPath: /var/folders/1q/t08t1c7147b3jyhcc6c2xwfr0000gn/T/fire_emu_28894.sock {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [28894] Attempting to listen to socketPath: /var/folders/1q/t08t1c7147b3jyhcc6c2xwfr0000gn/T/fire_emu_28894.sock"}}
[debug] [2021-09-23T13:34:30.065Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2021-09-23T13:34:30.065Z] [functions] Got req.url=/clone-e655c/us-central1/api/payments/create?total=0, mapping to path=/payments/create?total=0 {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Got req.url=/clone-e655c/us-central1/api/payments/create?total=0, mapping to path=/payments/create?total=0"}}
[debug] [2021-09-23T13:34:30.079Z] [runtime-status] [28894] Ephemeral server handling POST request {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [28894] Ephemeral server handling POST request"}}
[info] >  Payment Request received BOOOOOM !! 0 {"user":"Payment Request received BOOOOOM !! 0","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m Payment Request received BOOOOOM !! 0"}}
[debug] [2021-09-23T13:34:30.113Z] [runtime-status] [28894] Ephemeral server survived. {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [28894] Ephemeral server survived."}}
[info] >  (node:28894) UnhandledPromiseRejectionWarning: Error: This value must be greater than or equal to 1. {"user":"(node:28894) UnhandledPromiseRejectionWarning: Error: This value must be greater than or equal to 1.","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m (node:28894) UnhandledPromiseRejectionWarning: Error: This value must be greater than or equal to 1."}}
[info] >      at Function.generate (/Users/edouardtoulet/Desktop/Js/REACT/amazon-clone/functions/node_modules/stripe/lib/Error.js:40:16) {"user":"    at Function.generate (/Users/edouardtoulet/Desktop/Js/REACT/amazon-clone/functions/node_modules/stripe/lib/Error.js:40:16)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     at Function.generate (/Users/edouardtoulet/Desktop/Js/REACT/amazon-clone/functions/node_modules/stripe/lib/Error.js:40:16)"}}
[info] >      at res.toJSON.then.StripeAPIError.message (/Users/edouardtoulet/Desktop/Js/REACT/amazon-clone/functions/node_modules/stripe/lib/StripeResource.js:220:35) {"user":"    at res.toJSON.then.StripeAPIError.message (/Users/edouardtoulet/Desktop/Js/REACT/amazon-clone/functions/node_modules/stripe/lib/StripeResource.js:220:35)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     at res.toJSON.then.StripeAPIError.message (/Users/edouardtoulet/Desktop/Js/REACT/amazon-clone/functions/node_modules/stripe/lib/StripeResource.js:220:35)"}}
[info] >      at processTicksAndRejections (internal/process/task_queues.js:93:5) {"user":"    at processTicksAndRejections (internal/process/task_queues.js:93:5)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     at processTicksAndRejections (internal/process/task_queues.js:93:5)"}}
[info] >  (Use `node --trace-warnings ...` to show where the warning was created) {"user":"(Use `node --trace-warnings ...` to show where the warning was created)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m (Use `node --trace-warnings ...` to show where the warning was created)"}}
[info] >  (node:28894) UnhandledPromiseRejectionWarning: Unhandled promise rejection. This error originated either by throwing inside of an async function without a catch block, or by rejecting a promise which was not handled with .catch(). To terminate the node process on unhandled promise rejection, use the CLI flag `--unhandled-rejections=strict` (see https://nodejs.org/api/cli.html#cli_unhandled_rejections_mode). (rejection id: 1) {"user":"(node:28894) UnhandledPromiseRejectionWarning: Unhandled promise rejection. This error originated either by throwing inside of an async function without a catch block, or by rejecting a promise which was not handled with .catch(). To terminate the node process on unhandled promise rejection, use the CLI flag `--unhandled-rejections=strict` (see https://nodejs.org/api/cli.html#cli_unhandled_rejections_mode). (rejection id: 1)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m (node:28894) UnhandledPromiseRejectionWarning: Unhandled promise rejection. This error originated either by throwing inside of an async function without a catch block, or by rejecting a promise which was not handled with .catch(). To terminate the node process on unhandled promise rejection, use the CLI flag `--unhandled-rejections=strict` (see https://nodejs.org/api/cli.html#cli_unhandled_rejections_mode). (rejection id: 1)"}}
[info] >  (node:28894) [DEP0018] DeprecationWarning: Unhandled promise rejections are deprecated. In the future, promise rejections that are not handled will terminate the Node.js process with a non-zero exit code. {"user":"(node:28894) [DEP0018] DeprecationWarning: Unhandled promise rejections are deprecated. In the future, promise rejections that are not handled will terminate the Node.js process with a non-zero exit code.","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m (node:28894) [DEP0018] DeprecationWarning: Unhandled promise rejections are deprecated. In the future, promise rejections that are not handled will terminate the Node.js process with a non-zero exit code."}}
[debug] [2021-09-23T13:34:49.505Z] [work-queue] {"queueLength":1,"workRunningCount":3}
[debug] [2021-09-23T13:34:49.505Z] [work-queue] {"queueLength":0,"workRunningCount":4}
[debug] [2021-09-23T13:34:49.505Z] Accepted request POST /clone-e655c/us-central1/api/payments/create?total=0 --> us-central1-api
[debug] [2021-09-23T13:34:49.510Z] [worker-pool] addWorker(us-central1-api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] addWorker(us-central1-api)"}}
[debug] [2021-09-23T13:34:49.511Z] [worker-pool] Adding worker with key us-central1-api, total=4 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Adding worker with key us-central1-api, total=4"}}
[debug] [2021-09-23T13:34:49.511Z] [worker-pool] submitWork(triggerId=us-central1-api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitWork(triggerId=us-central1-api)"}}
[debug] [2021-09-23T13:34:49.511Z] [worker-us-central1-api-bc33cc55-5033-42ef-a4cb-d10c8019f29e]: Assigning socketPath: /var/folders/1q/t08t1c7147b3jyhcc6c2xwfr0000gn/T/fire_emu_28909.sock {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-api-bc33cc55-5033-42ef-a4cb-d10c8019f29e]: Assigning socketPath: /var/folders/1q/t08t1c7147b3jyhcc6c2xwfr0000gn/T/fire_emu_28909.sock"}}
[debug] [2021-09-23T13:34:49.511Z] [worker-us-central1-api-bc33cc55-5033-42ef-a4cb-d10c8019f29e]: BUSY {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-api-bc33cc55-5033-42ef-a4cb-d10c8019f29e]: BUSY"}}
[debug] [2021-09-23T13:34:49.948Z] [runtime-status] [28909] Functions runtime initialized. {"cwd":"/Users/edouardtoulet/Desktop/Js/REACT/amazon-clone/functions","node_version":"14.15.5"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [28909] Functions runtime initialized. {\"cwd\":\"/Users/edouardtoulet/Desktop/Js/REACT/amazon-clone/functions\",\"node_version\":\"14.15.5\"}"}}
[debug] [2021-09-23T13:34:50.103Z] [runtime-status] [28909] Disabled runtime features: undefined {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [28909] Disabled runtime features: undefined"}}
[debug] [2021-09-23T13:34:50.118Z] [runtime-status] [28909] Resolved module firebase-admin {"declared":true,"installed":true,"version":"9.11.1","resolution":"/Users/edouardtoulet/Desktop/Js/REACT/amazon-clone/functions/node_modules/firebase-admin/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [28909] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"9.11.1\",\"resolution\":\"/Users/edouardtoulet/Desktop/Js/REACT/amazon-clone/functions/node_modules/firebase-admin/lib/index.js\"}"}}
[debug] [2021-09-23T13:34:50.123Z] [runtime-status] [28909] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.15.7","resolution":"/Users/edouardtoulet/Desktop/Js/REACT/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [28909] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.15.7\",\"resolution\":\"/Users/edouardtoulet/Desktop/Js/REACT/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2021-09-23T13:34:50.134Z] [runtime-status] [28909] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.15.7","resolution":"/Users/edouardtoulet/Desktop/Js/REACT/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [28909] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.15.7\",\"resolution\":\"/Users/edouardtoulet/Desktop/Js/REACT/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2021-09-23T13:34:50.139Z] [runtime-status] [28909] Outgoing network have been stubbed. [{"name":"http","status":"mocked"},{"name":"http","status":"mocked"},{"name":"https","status":"mocked"},{"name":"https","status":"mocked"},{"name":"net","status":"mocked"}] {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [28909] Outgoing network have been stubbed. [{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"net\",\"status\":\"mocked\"}]"}}
[debug] [2021-09-23T13:34:50.141Z] [runtime-status] [28909] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.15.7","resolution":"/Users/edouardtoulet/Desktop/Js/REACT/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [28909] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.15.7\",\"resolution\":\"/Users/edouardtoulet/Desktop/Js/REACT/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2021-09-23T13:34:50.275Z] [runtime-status] [28909] Checked functions.config() {"config":{}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [28909] Checked functions.config() {\"config\":{}}"}}
[debug] [2021-09-23T13:34:50.276Z] [runtime-status] [28909] firebase-functions has been stubbed. {"functionsResolution":{"declared":true,"installed":true,"version":"3.15.7","resolution":"/Users/edouardtoulet/Desktop/Js/REACT/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [28909] firebase-functions has been stubbed. {\"functionsResolution\":{\"declared\":true,\"installed\":true,\"version\":\"3.15.7\",\"resolution\":\"/Users/edouardtoulet/Desktop/Js/REACT/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}}"}}
[debug] [2021-09-23T13:34:50.276Z] [runtime-status] [28909] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.15.7","resolution":"/Users/edouardtoulet/Desktop/Js/REACT/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [28909] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.15.7\",\"resolution\":\"/Users/edouardtoulet/Desktop/Js/REACT/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2021-09-23T13:34:50.278Z] [runtime-status] [28909] Resolved module firebase-admin {"declared":true,"installed":true,"version":"9.11.1","resolution":"/Users/edouardtoulet/Desktop/Js/REACT/amazon-clone/functions/node_modules/firebase-admin/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [28909] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"9.11.1\",\"resolution\":\"/Users/edouardtoulet/Desktop/Js/REACT/amazon-clone/functions/node_modules/firebase-admin/lib/index.js\"}"}}
[debug] [2021-09-23T13:34:50.279Z] [runtime-status] [28909] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.15.7","resolution":"/Users/edouardtoulet/Desktop/Js/REACT/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [28909] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.15.7\",\"resolution\":\"/Users/edouardtoulet/Desktop/Js/REACT/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2021-09-23T13:34:50.279Z] [runtime-status] [28909] firebase-admin has been stubbed. {"adminResolution":{"declared":true,"installed":true,"version":"9.11.1","resolution":"/Users/edouardtoulet/Desktop/Js/REACT/amazon-clone/functions/node_modules/firebase-admin/lib/index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [28909] firebase-admin has been stubbed. {\"adminResolution\":{\"declared\":true,\"installed\":true,\"version\":\"9.11.1\",\"resolution\":\"/Users/edouardtoulet/Desktop/Js/REACT/amazon-clone/functions/node_modules/firebase-admin/lib/index.js\"}}"}}
[debug] [2021-09-23T13:34:50.841Z] [runtime-status] [28909] Trigger "us-central1-api" has been found, beginning invocation! {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [28909] Trigger \"us-central1-api\" has been found, beginning invocation!"}}
[info] i  functions: Beginning execution of "us-central1-api" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"Beginning execution of \"us-central1-api\""}}
[debug] [2021-09-23T13:34:50.844Z] [runtime-status] [28909] triggerDefinition {"httpsTrigger":{},"name":"api","entryPoint":"api","regions":["us-central1"],"region":"us-central1","id":"us-central1-api"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [28909] triggerDefinition {\"httpsTrigger\":{},\"name\":\"api\",\"entryPoint\":\"api\",\"regions\":[\"us-central1\"],\"region\":\"us-central1\",\"id\":\"us-central1-api\"}"}}
[debug] [2021-09-23T13:34:50.846Z] [runtime-status] [28909] Running us-central1-api in mode HTTPS {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [28909] Running us-central1-api in mode HTTPS"}}
[debug] [2021-09-23T13:34:50.855Z] [runtime-status] [28909] Attempting to listen to socketPath: /var/folders/1q/t08t1c7147b3jyhcc6c2xwfr0000gn/T/fire_emu_28909.sock {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [28909] Attempting to listen to socketPath: /var/folders/1q/t08t1c7147b3jyhcc6c2xwfr0000gn/T/fire_emu_28909.sock"}}
[debug] [2021-09-23T13:34:50.860Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2021-09-23T13:34:50.860Z] [functions] Got req.url=/clone-e655c/us-central1/api/payments/create?total=0, mapping to path=/payments/create?total=0 {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Got req.url=/clone-e655c/us-central1/api/payments/create?total=0, mapping to path=/payments/create?total=0"}}
[debug] [2021-09-23T13:34:50.877Z] [runtime-status] [28909] Ephemeral server handling POST request {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [28909] Ephemeral server handling POST request"}}
[info] >  Payment Request received BOOOOOM !! 0 {"user":"Payment Request received BOOOOOM !! 0","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m Payment Request received BOOOOOM !! 0"}}
[debug] [2021-09-23T13:34:51.042Z] [runtime-status] [28909] Ephemeral server survived. {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [28909] Ephemeral server survived."}}
[info] >  (node:28909) UnhandledPromiseRejectionWarning: Error: This value must be greater than or equal to 1. {"user":"(node:28909) UnhandledPromiseRejectionWarning: Error: This value must be greater than or equal to 1.","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m (node:28909) UnhandledPromiseRejectionWarning: Error: This value must be greater than or equal to 1."}}
[info] >      at Function.generate (/Users/edouardtoulet/Desktop/Js/REACT/amazon-clone/functions/node_modules/stripe/lib/Error.js:40:16) {"user":"    at Function.generate (/Users/edouardtoulet/Desktop/Js/REACT/amazon-clone/functions/node_modules/stripe/lib/Error.js:40:16)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     at Function.generate (/Users/edouardtoulet/Desktop/Js/REACT/amazon-clone/functions/node_modules/stripe/lib/Error.js:40:16)"}}
[info] >      at res.toJSON.then.StripeAPIError.message (/Users/edouardtoulet/Desktop/Js/REACT/amazon-clone/functions/node_modules/stripe/lib/StripeResource.js:220:35) {"user":"    at res.toJSON.then.StripeAPIError.message (/Users/edouardtoulet/Desktop/Js/REACT/amazon-clone/functions/node_modules/stripe/lib/StripeResource.js:220:35)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     at res.toJSON.then.StripeAPIError.message (/Users/edouardtoulet/Desktop/Js/REACT/amazon-clone/functions/node_modules/stripe/lib/StripeResource.js:220:35)"}}
[info] >      at processTicksAndRejections (internal/process/task_queues.js:93:5) {"user":"    at processTicksAndRejections (internal/process/task_queues.js:93:5)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     at processTicksAndRejections (internal/process/task_queues.js:93:5)"}}
[info] >  (Use `node --trace-warnings ...` to show where the warning was created) {"user":"(Use `node --trace-warnings ...` to show where the warning was created)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m (Use `node --trace-warnings ...` to show where the warning was created)"}}
[info] >  (node:28909) UnhandledPromiseRejectionWarning: Unhandled promise rejection. This error originated either by throwing inside of an async function without a catch block, or by rejecting a promise which was not handled with .catch(). To terminate the node process on unhandled promise rejection, use the CLI flag `--unhandled-rejections=strict` (see https://nodejs.org/api/cli.html#cli_unhandled_rejections_mode). (rejection id: 1) {"user":"(node:28909) UnhandledPromiseRejectionWarning: Unhandled promise rejection. This error originated either by throwing inside of an async function without a catch block, or by rejecting a promise which was not handled with .catch(). To terminate the node process on unhandled promise rejection, use the CLI flag `--unhandled-rejections=strict` (see https://nodejs.org/api/cli.html#cli_unhandled_rejections_mode). (rejection id: 1)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m (node:28909) UnhandledPromiseRejectionWarning: Unhandled promise rejection. This error originated either by throwing inside of an async function without a catch block, or by rejecting a promise which was not handled with .catch(). To terminate the node process on unhandled promise rejection, use the CLI flag `--unhandled-rejections=strict` (see https://nodejs.org/api/cli.html#cli_unhandled_rejections_mode). (rejection id: 1)"}}
[info] >  (node:28909) [DEP0018] DeprecationWarning: Unhandled promise rejections are deprecated. In the future, promise rejections that are not handled will terminate the Node.js process with a non-zero exit code. {"user":"(node:28909) [DEP0018] DeprecationWarning: Unhandled promise rejections are deprecated. In the future, promise rejections that are not handled will terminate the Node.js process with a non-zero exit code.","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m (node:28909) [DEP0018] DeprecationWarning: Unhandled promise rejections are deprecated. In the future, promise rejections that are not handled will terminate the Node.js process with a non-zero exit code."}}
[warn] ⚠  functions: Your function timed out after ~60s. To configure this timeout, see
      https://firebase.google.com/docs/functions/manage-functions#set_timeout_and_memory_allocation. {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"Your function timed out after ~60s. To configure this timeout, see\n      https://firebase.google.com/docs/functions/manage-functions#set_timeout_and_memory_allocation."}}
[info] >  /usr/local/lib/node_modules/firebase-tools/lib/emulator/functionsEmulatorRuntime.js:679 {"user":"/usr/local/lib/node_modules/firebase-tools/lib/emulator/functionsEmulatorRuntime.js:679","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m /usr/local/lib/node_modules/firebase-tools/lib/emulator/functionsEmulatorRuntime.js:679"}}
[info] >              throw new Error("Function timed out."); {"user":"            throw new Error(\"Function timed out.\");","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m             throw new Error(\"Function timed out.\");"}}
[info] >              ^ {"user":"            ^","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m             ^"}}
[info] >   {"user":"","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m "}}
[info] >  Error: Function timed out. {"user":"Error: Function timed out.","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m Error: Function timed out."}}
[info] >      at Timeout._onTimeout (/usr/local/lib/node_modules/firebase-tools/lib/emulator/functionsEmulatorRuntime.js:679:19) {"user":"    at Timeout._onTimeout (/usr/local/lib/node_modules/firebase-tools/lib/emulator/functionsEmulatorRuntime.js:679:19)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     at Timeout._onTimeout (/usr/local/lib/node_modules/firebase-tools/lib/emulator/functionsEmulatorRuntime.js:679:19)"}}
[info] >      at listOnTimeout (internal/timers.js:554:17) {"user":"    at listOnTimeout (internal/timers.js:554:17)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     at listOnTimeout (internal/timers.js:554:17)"}}
[info] >      at processTimers (internal/timers.js:497:7) {"user":"    at processTimers (internal/timers.js:497:7)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     at processTimers (internal/timers.js:497:7)"}}
[debug] [2021-09-23T13:35:02.854Z] [worker-us-central1-api-37f6e78a-2f82-4e82-9afe-4b311c5079d2]: exited {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-api-37f6e78a-2f82-4e82-9afe-4b311c5079d2]: exited"}}
[debug] [2021-09-23T13:35:02.854Z] [worker-us-central1-api-37f6e78a-2f82-4e82-9afe-4b311c5079d2]: FINISHED {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-api-37f6e78a-2f82-4e82-9afe-4b311c5079d2]: FINISHED"}}
[debug] [2021-09-23T13:35:02.854Z] [work-queue] {"queueLength":0,"workRunningCount":3}
[warn] ⚠  functions: Your function timed out after ~60s. To configure this timeout, see
      https://firebase.google.com/docs/functions/manage-functions#set_timeout_and_memory_allocation. {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"Your function timed out after ~60s. To configure this timeout, see\n      https://firebase.google.com/docs/functions/manage-functions#set_timeout_and_memory_allocation."}}
[info] >  /usr/local/lib/node_modules/firebase-tools/lib/emulator/functionsEmulatorRuntime.js:679 {"user":"/usr/local/lib/node_modules/firebase-tools/lib/emulator/functionsEmulatorRuntime.js:679","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m /usr/local/lib/node_modules/firebase-tools/lib/emulator/functionsEmulatorRuntime.js:679"}}
[info] >              throw new Error("Function timed out."); {"user":"            throw new Error(\"Function timed out.\");","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m             throw new Error(\"Function timed out.\");"}}
[info] >              ^ {"user":"            ^","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m             ^"}}
[info] >   {"user":"","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m "}}
[info] >  Error: Function timed out. {"user":"Error: Function timed out.","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m Error: Function timed out."}}
[info] >      at Timeout._onTimeout (/usr/local/lib/node_modules/firebase-tools/lib/emulator/functionsEmulatorRuntime.js:679:19) {"user":"    at Timeout._onTimeout (/usr/local/lib/node_modules/firebase-tools/lib/emulator/functionsEmulatorRuntime.js:679:19)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     at Timeout._onTimeout (/usr/local/lib/node_modules/firebase-tools/lib/emulator/functionsEmulatorRuntime.js:679:19)"}}
[info] >      at listOnTimeout (internal/timers.js:554:17) {"user":"    at listOnTimeout (internal/timers.js:554:17)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     at listOnTimeout (internal/timers.js:554:17)"}}
[info] >      at processTimers (internal/timers.js:497:7) {"user":"    at processTimers (internal/timers.js:497:7)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     at processTimers (internal/timers.js:497:7)"}}
[debug] [2021-09-23T13:35:09.796Z] [worker-us-central1-api-1947e458-dfba-4e14-89c2-cdcd1afccec9]: exited {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-api-1947e458-dfba-4e14-89c2-cdcd1afccec9]: exited"}}
[debug] [2021-09-23T13:35:09.797Z] [worker-us-central1-api-1947e458-dfba-4e14-89c2-cdcd1afccec9]: FINISHED {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-api-1947e458-dfba-4e14-89c2-cdcd1afccec9]: FINISHED"}}
[debug] [2021-09-23T13:35:09.797Z] [work-queue] {"queueLength":0,"workRunningCount":2}
[debug] [2021-09-23T13:35:12.597Z] [work-queue] {"queueLength":1,"workRunningCount":2}
[debug] [2021-09-23T13:35:12.597Z] [work-queue] {"queueLength":0,"workRunningCount":3}
[debug] [2021-09-23T13:35:12.597Z] Accepted request POST /clone-e655c/us-central1/api/payments/create?total=0 --> us-central1-api
[debug] [2021-09-23T13:35:12.598Z] [worker-pool] Cleaned up workers for us-central1-api: 4 --> 2 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Cleaned up workers for us-central1-api: 4 --> 2"}}
[debug] [2021-09-23T13:35:12.604Z] [worker-pool] addWorker(us-central1-api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] addWorker(us-central1-api)"}}
[debug] [2021-09-23T13:35:12.604Z] [worker-pool] Adding worker with key us-central1-api, total=3 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Adding worker with key us-central1-api, total=3"}}
[debug] [2021-09-23T13:35:12.604Z] [worker-pool] submitWork(triggerId=us-central1-api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitWork(triggerId=us-central1-api)"}}
[debug] [2021-09-23T13:35:12.605Z] [worker-us-central1-api-f96aa141-8608-46e6-9e28-a350dc4c649e]: Assigning socketPath: /var/folders/1q/t08t1c7147b3jyhcc6c2xwfr0000gn/T/fire_emu_28930.sock {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-api-f96aa141-8608-46e6-9e28-a350dc4c649e]: Assigning socketPath: /var/folders/1q/t08t1c7147b3jyhcc6c2xwfr0000gn/T/fire_emu_28930.sock"}}
[debug] [2021-09-23T13:35:12.605Z] [worker-us-central1-api-f96aa141-8608-46e6-9e28-a350dc4c649e]: BUSY {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-api-f96aa141-8608-46e6-9e28-a350dc4c649e]: BUSY"}}
[debug] [2021-09-23T13:35:13.337Z] [runtime-status] [28930] Functions runtime initialized. {"cwd":"/Users/edouardtoulet/Desktop/Js/REACT/amazon-clone/functions","node_version":"14.15.5"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [28930] Functions runtime initialized. {\"cwd\":\"/Users/edouardtoulet/Desktop/Js/REACT/amazon-clone/functions\",\"node_version\":\"14.15.5\"}"}}
[debug] [2021-09-23T13:35:13.343Z] [runtime-status] [28930] Disabled runtime features: undefined {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [28930] Disabled runtime features: undefined"}}
[debug] [2021-09-23T13:35:13.347Z] [runtime-status] [28930] Resolved module firebase-admin {"declared":true,"installed":true,"version":"9.11.1","resolution":"/Users/edouardtoulet/Desktop/Js/REACT/amazon-clone/functions/node_modules/firebase-admin/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [28930] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"9.11.1\",\"resolution\":\"/Users/edouardtoulet/Desktop/Js/REACT/amazon-clone/functions/node_modules/firebase-admin/lib/index.js\"}"}}
[debug] [2021-09-23T13:35:13.354Z] [runtime-status] [28930] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.15.7","resolution":"/Users/edouardtoulet/Desktop/Js/REACT/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [28930] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.15.7\",\"resolution\":\"/Users/edouardtoulet/Desktop/Js/REACT/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2021-09-23T13:35:13.358Z] [runtime-status] [28930] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.15.7","resolution":"/Users/edouardtoulet/Desktop/Js/REACT/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [28930] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.15.7\",\"resolution\":\"/Users/edouardtoulet/Desktop/Js/REACT/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2021-09-23T13:35:13.361Z] [runtime-status] [28930] Outgoing network have been stubbed. [{"name":"http","status":"mocked"},{"name":"http","status":"mocked"},{"name":"https","status":"mocked"},{"name":"https","status":"mocked"},{"name":"net","status":"mocked"}] {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [28930] Outgoing network have been stubbed. [{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"net\",\"status\":\"mocked\"}]"}}
[debug] [2021-09-23T13:35:13.363Z] [runtime-status] [28930] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.15.7","resolution":"/Users/edouardtoulet/Desktop/Js/REACT/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [28930] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.15.7\",\"resolution\":\"/Users/edouardtoulet/Desktop/Js/REACT/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2021-09-23T13:35:13.589Z] [runtime-status] [28930] Checked functions.config() {"config":{}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [28930] Checked functions.config() {\"config\":{}}"}}
[debug] [2021-09-23T13:35:13.589Z] [runtime-status] [28930] firebase-functions has been stubbed. {"functionsResolution":{"declared":true,"installed":true,"version":"3.15.7","resolution":"/Users/edouardtoulet/Desktop/Js/REACT/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [28930] firebase-functions has been stubbed. {\"functionsResolution\":{\"declared\":true,\"installed\":true,\"version\":\"3.15.7\",\"resolution\":\"/Users/edouardtoulet/Desktop/Js/REACT/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}}"}}
[debug] [2021-09-23T13:35:13.590Z] [runtime-status] [28930] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.15.7","resolution":"/Users/edouardtoulet/Desktop/Js/REACT/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [28930] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.15.7\",\"resolution\":\"/Users/edouardtoulet/Desktop/Js/REACT/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2021-09-23T13:35:13.591Z] [runtime-status] [28930] Resolved module firebase-admin {"declared":true,"installed":true,"version":"9.11.1","resolution":"/Users/edouardtoulet/Desktop/Js/REACT/amazon-clone/functions/node_modules/firebase-admin/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [28930] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"9.11.1\",\"resolution\":\"/Users/edouardtoulet/Desktop/Js/REACT/amazon-clone/functions/node_modules/firebase-admin/lib/index.js\"}"}}
[debug] [2021-09-23T13:35:13.591Z] [runtime-status] [28930] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.15.7","resolution":"/Users/edouardtoulet/Desktop/Js/REACT/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [28930] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.15.7\",\"resolution\":\"/Users/edouardtoulet/Desktop/Js/REACT/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2021-09-23T13:35:13.592Z] [runtime-status] [28930] firebase-admin has been stubbed. {"adminResolution":{"declared":true,"installed":true,"version":"9.11.1","resolution":"/Users/edouardtoulet/Desktop/Js/REACT/amazon-clone/functions/node_modules/firebase-admin/lib/index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [28930] firebase-admin has been stubbed. {\"adminResolution\":{\"declared\":true,\"installed\":true,\"version\":\"9.11.1\",\"resolution\":\"/Users/edouardtoulet/Desktop/Js/REACT/amazon-clone/functions/node_modules/firebase-admin/lib/index.js\"}}"}}
[debug] [2021-09-23T13:35:14.300Z] [runtime-status] [28930] Trigger "us-central1-api" has been found, beginning invocation! {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [28930] Trigger \"us-central1-api\" has been found, beginning invocation!"}}
[info] i  functions: Beginning execution of "us-central1-api" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"Beginning execution of \"us-central1-api\""}}
[debug] [2021-09-23T13:35:14.301Z] [runtime-status] [28930] triggerDefinition {"httpsTrigger":{},"name":"api","entryPoint":"api","regions":["us-central1"],"region":"us-central1","id":"us-central1-api"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [28930] triggerDefinition {\"httpsTrigger\":{},\"name\":\"api\",\"entryPoint\":\"api\",\"regions\":[\"us-central1\"],\"region\":\"us-central1\",\"id\":\"us-central1-api\"}"}}
[debug] [2021-09-23T13:35:14.301Z] [runtime-status] [28930] Running us-central1-api in mode HTTPS {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [28930] Running us-central1-api in mode HTTPS"}}
[debug] [2021-09-23T13:35:14.306Z] [runtime-status] [28930] Attempting to listen to socketPath: /var/folders/1q/t08t1c7147b3jyhcc6c2xwfr0000gn/T/fire_emu_28930.sock {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [28930] Attempting to listen to socketPath: /var/folders/1q/t08t1c7147b3jyhcc6c2xwfr0000gn/T/fire_emu_28930.sock"}}
[debug] [2021-09-23T13:35:14.309Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2021-09-23T13:35:14.309Z] [functions] Got req.url=/clone-e655c/us-central1/api/payments/create?total=0, mapping to path=/payments/create?total=0 {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Got req.url=/clone-e655c/us-central1/api/payments/create?total=0, mapping to path=/payments/create?total=0"}}
[debug] [2021-09-23T13:35:14.320Z] [runtime-status] [28930] Ephemeral server handling POST request {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [28930] Ephemeral server handling POST request"}}
[info] >  Payment Request received BOOOOOM !! 0 {"user":"Payment Request received BOOOOOM !! 0","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m Payment Request received BOOOOOM !! 0"}}
[debug] [2021-09-23T13:35:14.520Z] [runtime-status] [28930] Ephemeral server survived. {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [28930] Ephemeral server survived."}}
[info] >  (node:28930) UnhandledPromiseRejectionWarning: Error: This value must be greater than or equal to 1. {"user":"(node:28930) UnhandledPromiseRejectionWarning: Error: This value must be greater than or equal to 1.","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m (node:28930) UnhandledPromiseRejectionWarning: Error: This value must be greater than or equal to 1."}}
[info] >      at Function.generate (/Users/edouardtoulet/Desktop/Js/REACT/amazon-clone/functions/node_modules/stripe/lib/Error.js:40:16) {"user":"    at Function.generate (/Users/edouardtoulet/Desktop/Js/REACT/amazon-clone/functions/node_modules/stripe/lib/Error.js:40:16)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     at Function.generate (/Users/edouardtoulet/Desktop/Js/REACT/amazon-clone/functions/node_modules/stripe/lib/Error.js:40:16)"}}
[info] >      at res.toJSON.then.StripeAPIError.message (/Users/edouardtoulet/Desktop/Js/REACT/amazon-clone/functions/node_modules/stripe/lib/StripeResource.js:220:35) {"user":"    at res.toJSON.then.StripeAPIError.message (/Users/edouardtoulet/Desktop/Js/REACT/amazon-clone/functions/node_modules/stripe/lib/StripeResource.js:220:35)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     at res.toJSON.then.StripeAPIError.message (/Users/edouardtoulet/Desktop/Js/REACT/amazon-clone/functions/node_modules/stripe/lib/StripeResource.js:220:35)"}}
[info] >      at processTicksAndRejections (internal/process/task_queues.js:93:5) {"user":"    at processTicksAndRejections (internal/process/task_queues.js:93:5)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     at processTicksAndRejections (internal/process/task_queues.js:93:5)"}}
[info] >  (Use `node --trace-warnings ...` to show where the warning was created) {"user":"(Use `node --trace-warnings ...` to show where the warning was created)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m (Use `node --trace-warnings ...` to show where the warning was created)"}}
[info] >  (node:28930) UnhandledPromiseRejectionWarning: Unhandled promise rejection. This error originated either by throwing inside of an async function without a catch block, or by rejecting a promise which was not handled with .catch(). To terminate the node process on unhandled promise rejection, use the CLI flag `--unhandled-rejections=strict` (see https://nodejs.org/api/cli.html#cli_unhandled_rejections_mode). (rejection id: 1) {"user":"(node:28930) UnhandledPromiseRejectionWarning: Unhandled promise rejection. This error originated either by throwing inside of an async function without a catch block, or by rejecting a promise which was not handled with .catch(). To terminate the node process on unhandled promise rejection, use the CLI flag `--unhandled-rejections=strict` (see https://nodejs.org/api/cli.html#cli_unhandled_rejections_mode). (rejection id: 1)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m (node:28930) UnhandledPromiseRejectionWarning: Unhandled promise rejection. This error originated either by throwing inside of an async function without a catch block, or by rejecting a promise which was not handled with .catch(). To terminate the node process on unhandled promise rejection, use the CLI flag `--unhandled-rejections=strict` (see https://nodejs.org/api/cli.html#cli_unhandled_rejections_mode). (rejection id: 1)"}}
[info] >  (node:28930) [DEP0018] DeprecationWarning: Unhandled promise rejections are deprecated. In the future, promise rejections that are not handled will terminate the Node.js process with a non-zero exit code. {"user":"(node:28930) [DEP0018] DeprecationWarning: Unhandled promise rejections are deprecated. In the future, promise rejections that are not handled will terminate the Node.js process with a non-zero exit code.","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m (node:28930) [DEP0018] DeprecationWarning: Unhandled promise rejections are deprecated. In the future, promise rejections that are not handled will terminate the Node.js process with a non-zero exit code."}}
[warn] ⚠  functions: Your function timed out after ~60s. To configure this timeout, see
      https://firebase.google.com/docs/functions/manage-functions#set_timeout_and_memory_allocation. {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"Your function timed out after ~60s. To configure this timeout, see\n      https://firebase.google.com/docs/functions/manage-functions#set_timeout_and_memory_allocation."}}
[info] >  /usr/local/lib/node_modules/firebase-tools/lib/emulator/functionsEmulatorRuntime.js:679 {"user":"/usr/local/lib/node_modules/firebase-tools/lib/emulator/functionsEmulatorRuntime.js:679","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m /usr/local/lib/node_modules/firebase-tools/lib/emulator/functionsEmulatorRuntime.js:679"}}
[info] >              throw new Error("Function timed out."); {"user":"            throw new Error(\"Function timed out.\");","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m             throw new Error(\"Function timed out.\");"}}
[info] >              ^ {"user":"            ^","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m             ^"}}
[info] >   {"user":"","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m "}}
[info] >  Error: Function timed out. {"user":"Error: Function timed out.","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m Error: Function timed out."}}
[info] >      at Timeout._onTimeout (/usr/local/lib/node_modules/firebase-tools/lib/emulator/functionsEmulatorRuntime.js:679:19) {"user":"    at Timeout._onTimeout (/usr/local/lib/node_modules/firebase-tools/lib/emulator/functionsEmulatorRuntime.js:679:19)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     at Timeout._onTimeout (/usr/local/lib/node_modules/firebase-tools/lib/emulator/functionsEmulatorRuntime.js:679:19)"}}
[info] >      at listOnTimeout (internal/timers.js:554:17) {"user":"    at listOnTimeout (internal/timers.js:554:17)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     at listOnTimeout (internal/timers.js:554:17)"}}
[info] >      at processTimers (internal/timers.js:497:7) {"user":"    at processTimers (internal/timers.js:497:7)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     at processTimers (internal/timers.js:497:7)"}}
[debug] [2021-09-23T13:35:30.068Z] [worker-us-central1-api-c57c6a85-f77b-42f5-9f69-8da846cb90d8]: exited {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-api-c57c6a85-f77b-42f5-9f69-8da846cb90d8]: exited"}}
[debug] [2021-09-23T13:35:30.068Z] [worker-us-central1-api-c57c6a85-f77b-42f5-9f69-8da846cb90d8]: FINISHED {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-api-c57c6a85-f77b-42f5-9f69-8da846cb90d8]: FINISHED"}}
[debug] [2021-09-23T13:35:30.068Z] [work-queue] {"queueLength":0,"workRunningCount":2}
[warn] ⚠  functions: Your function timed out after ~60s. To configure this timeout, see
      https://firebase.google.com/docs/functions/manage-functions#set_timeout_and_memory_allocation. {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"Your function timed out after ~60s. To configure this timeout, see\n      https://firebase.google.com/docs/functions/manage-functions#set_timeout_and_memory_allocation."}}
[info] >  /usr/local/lib/node_modules/firebase-tools/lib/emulator/functionsEmulatorRuntime.js:679 {"user":"/usr/local/lib/node_modules/firebase-tools/lib/emulator/functionsEmulatorRuntime.js:679","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m /usr/local/lib/node_modules/firebase-tools/lib/emulator/functionsEmulatorRuntime.js:679"}}
[info] >              throw new Error("Function timed out."); {"user":"            throw new Error(\"Function timed out.\");","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m             throw new Error(\"Function timed out.\");"}}
[info] >              ^ {"user":"            ^","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m             ^"}}
[info] >   {"user":"","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m "}}
[info] >  Error: Function timed out. {"user":"Error: Function timed out.","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m Error: Function timed out."}}
[info] >      at Timeout._onTimeout (/usr/local/lib/node_modules/firebase-tools/lib/emulator/functionsEmulatorRuntime.js:679:19) {"user":"    at Timeout._onTimeout (/usr/local/lib/node_modules/firebase-tools/lib/emulator/functionsEmulatorRuntime.js:679:19)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     at Timeout._onTimeout (/usr/local/lib/node_modules/firebase-tools/lib/emulator/functionsEmulatorRuntime.js:679:19)"}}
[info] >      at listOnTimeout (internal/timers.js:554:17) {"user":"    at listOnTimeout (internal/timers.js:554:17)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     at listOnTimeout (internal/timers.js:554:17)"}}
[info] >      at processTimers (internal/timers.js:497:7) {"user":"    at processTimers (internal/timers.js:497:7)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     at processTimers (internal/timers.js:497:7)"}}
[debug] [2021-09-23T13:35:50.867Z] [worker-us-central1-api-bc33cc55-5033-42ef-a4cb-d10c8019f29e]: exited {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-api-bc33cc55-5033-42ef-a4cb-d10c8019f29e]: exited"}}
[debug] [2021-09-23T13:35:50.867Z] [worker-us-central1-api-bc33cc55-5033-42ef-a4cb-d10c8019f29e]: FINISHED {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-api-bc33cc55-5033-42ef-a4cb-d10c8019f29e]: FINISHED"}}
[debug] [2021-09-23T13:35:50.867Z] [work-queue] {"queueLength":0,"workRunningCount":1}
[warn] ⚠  functions: Your function timed out after ~60s. To configure this timeout, see
      https://firebase.google.com/docs/functions/manage-functions#set_timeout_and_memory_allocation. {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"Your function timed out after ~60s. To configure this timeout, see\n      https://firebase.google.com/docs/functions/manage-functions#set_timeout_and_memory_allocation."}}
[info] >  /usr/local/lib/node_modules/firebase-tools/lib/emulator/functionsEmulatorRuntime.js:679 {"user":"/usr/local/lib/node_modules/firebase-tools/lib/emulator/functionsEmulatorRuntime.js:679","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m /usr/local/lib/node_modules/firebase-tools/lib/emulator/functionsEmulatorRuntime.js:679"}}
[info] >              throw new Error("Function timed out."); {"user":"            throw new Error(\"Function timed out.\");","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m             throw new Error(\"Function timed out.\");"}}
[info] >              ^ {"user":"            ^","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m             ^"}}
[info] >   {"user":"","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m "}}
[info] >  Error: Function timed out. {"user":"Error: Function timed out.","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m Error: Function timed out."}}
[info] >      at Timeout._onTimeout (/usr/local/lib/node_modules/firebase-tools/lib/emulator/functionsEmulatorRuntime.js:679:19) {"user":"    at Timeout._onTimeout (/usr/local/lib/node_modules/firebase-tools/lib/emulator/functionsEmulatorRuntime.js:679:19)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     at Timeout._onTimeout (/usr/local/lib/node_modules/firebase-tools/lib/emulator/functionsEmulatorRuntime.js:679:19)"}}
[info] >      at listOnTimeout (internal/timers.js:554:17) {"user":"    at listOnTimeout (internal/timers.js:554:17)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     at listOnTimeout (internal/timers.js:554:17)"}}
[info] >      at processTimers (internal/timers.js:497:7) {"user":"    at processTimers (internal/timers.js:497:7)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     at processTimers (internal/timers.js:497:7)"}}
[debug] [2021-09-23T13:36:14.326Z] [worker-us-central1-api-f96aa141-8608-46e6-9e28-a350dc4c649e]: exited {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-api-f96aa141-8608-46e6-9e28-a350dc4c649e]: exited"}}
[debug] [2021-09-23T13:36:14.326Z] [worker-us-central1-api-f96aa141-8608-46e6-9e28-a350dc4c649e]: FINISHED {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-api-f96aa141-8608-46e6-9e28-a350dc4c649e]: FINISHED"}}
[debug] [2021-09-23T13:36:14.326Z] [work-queue] {"queueLength":0,"workRunningCount":0}
[debug] [2021-09-23T13:36:24.887Z] [work-queue] {"queueLength":1,"workRunningCount":0}
[debug] [2021-09-23T13:36:24.887Z] [work-queue] {"queueLength":0,"workRunningCount":1}
[debug] [2021-09-23T13:36:24.887Z] Accepted request POST /clone-e655c/us-central1/api/payments/create?total=0 --> us-central1-api
[debug] [2021-09-23T13:36:24.888Z] [worker-pool] Cleaned up workers for us-central1-api: 3 --> 0 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Cleaned up workers for us-central1-api: 3 --> 0"}}
[debug] [2021-09-23T13:36:24.895Z] [worker-pool] addWorker(us-central1-api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] addWorker(us-central1-api)"}}
[debug] [2021-09-23T13:36:24.895Z] [worker-pool] Adding worker with key us-central1-api, total=1 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Adding worker with key us-central1-api, total=1"}}
[debug] [2021-09-23T13:36:24.896Z] [worker-pool] submitWork(triggerId=us-central1-api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitWork(triggerId=us-central1-api)"}}
[debug] [2021-09-23T13:36:24.896Z] [worker-us-central1-api-7226f125-4415-411d-8bc7-2623f9594ffb]: Assigning socketPath: /var/folders/1q/t08t1c7147b3jyhcc6c2xwfr0000gn/T/fire_emu_28982.sock {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-api-7226f125-4415-411d-8bc7-2623f9594ffb]: Assigning socketPath: /var/folders/1q/t08t1c7147b3jyhcc6c2xwfr0000gn/T/fire_emu_28982.sock"}}
[debug] [2021-09-23T13:36:24.896Z] [worker-us-central1-api-7226f125-4415-411d-8bc7-2623f9594ffb]: BUSY {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-api-7226f125-4415-411d-8bc7-2623f9594ffb]: BUSY"}}
[debug] [2021-09-23T13:36:25.686Z] [runtime-status] [28982] Functions runtime initialized. {"cwd":"/Users/edouardtoulet/Desktop/Js/REACT/amazon-clone/functions","node_version":"14.15.5"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [28982] Functions runtime initialized. {\"cwd\":\"/Users/edouardtoulet/Desktop/Js/REACT/amazon-clone/functions\",\"node_version\":\"14.15.5\"}"}}
[debug] [2021-09-23T13:36:25.691Z] [runtime-status] [28982] Disabled runtime features: undefined {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [28982] Disabled runtime features: undefined"}}
[debug] [2021-09-23T13:36:25.699Z] [runtime-status] [28982] Resolved module firebase-admin {"declared":true,"installed":true,"version":"9.11.1","resolution":"/Users/edouardtoulet/Desktop/Js/REACT/amazon-clone/functions/node_modules/firebase-admin/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [28982] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"9.11.1\",\"resolution\":\"/Users/edouardtoulet/Desktop/Js/REACT/amazon-clone/functions/node_modules/firebase-admin/lib/index.js\"}"}}
[debug] [2021-09-23T13:36:25.702Z] [runtime-status] [28982] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.15.7","resolution":"/Users/edouardtoulet/Desktop/Js/REACT/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [28982] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.15.7\",\"resolution\":\"/Users/edouardtoulet/Desktop/Js/REACT/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2021-09-23T13:36:25.789Z] [runtime-status] [28982] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.15.7","resolution":"/Users/edouardtoulet/Desktop/Js/REACT/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [28982] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.15.7\",\"resolution\":\"/Users/edouardtoulet/Desktop/Js/REACT/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2021-09-23T13:36:25.794Z] [runtime-status] [28982] Outgoing network have been stubbed. [{"name":"http","status":"mocked"},{"name":"http","status":"mocked"},{"name":"https","status":"mocked"},{"name":"https","status":"mocked"},{"name":"net","status":"mocked"}] {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [28982] Outgoing network have been stubbed. [{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"net\",\"status\":\"mocked\"}]"}}
[debug] [2021-09-23T13:36:25.801Z] [runtime-status] [28982] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.15.7","resolution":"/Users/edouardtoulet/Desktop/Js/REACT/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [28982] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.15.7\",\"resolution\":\"/Users/edouardtoulet/Desktop/Js/REACT/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2021-09-23T13:36:25.871Z] [runtime-status] [28982] Checked functions.config() {"config":{}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [28982] Checked functions.config() {\"config\":{}}"}}
[debug] [2021-09-23T13:36:25.871Z] [runtime-status] [28982] firebase-functions has been stubbed. {"functionsResolution":{"declared":true,"installed":true,"version":"3.15.7","resolution":"/Users/edouardtoulet/Desktop/Js/REACT/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [28982] firebase-functions has been stubbed. {\"functionsResolution\":{\"declared\":true,\"installed\":true,\"version\":\"3.15.7\",\"resolution\":\"/Users/edouardtoulet/Desktop/Js/REACT/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}}"}}
[debug] [2021-09-23T13:36:25.873Z] [runtime-status] [28982] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.15.7","resolution":"/Users/edouardtoulet/Desktop/Js/REACT/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [28982] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.15.7\",\"resolution\":\"/Users/edouardtoulet/Desktop/Js/REACT/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2021-09-23T13:36:25.874Z] [runtime-status] [28982] Resolved module firebase-admin {"declared":true,"installed":true,"version":"9.11.1","resolution":"/Users/edouardtoulet/Desktop/Js/REACT/amazon-clone/functions/node_modules/firebase-admin/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [28982] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"9.11.1\",\"resolution\":\"/Users/edouardtoulet/Desktop/Js/REACT/amazon-clone/functions/node_modules/firebase-admin/lib/index.js\"}"}}
[debug] [2021-09-23T13:36:25.876Z] [runtime-status] [28982] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.15.7","resolution":"/Users/edouardtoulet/Desktop/Js/REACT/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [28982] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.15.7\",\"resolution\":\"/Users/edouardtoulet/Desktop/Js/REACT/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2021-09-23T13:36:25.876Z] [runtime-status] [28982] firebase-admin has been stubbed. {"adminResolution":{"declared":true,"installed":true,"version":"9.11.1","resolution":"/Users/edouardtoulet/Desktop/Js/REACT/amazon-clone/functions/node_modules/firebase-admin/lib/index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [28982] firebase-admin has been stubbed. {\"adminResolution\":{\"declared\":true,\"installed\":true,\"version\":\"9.11.1\",\"resolution\":\"/Users/edouardtoulet/Desktop/Js/REACT/amazon-clone/functions/node_modules/firebase-admin/lib/index.js\"}}"}}
[debug] [2021-09-23T13:36:26.452Z] [runtime-status] [28982] Trigger "us-central1-api" has been found, beginning invocation! {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [28982] Trigger \"us-central1-api\" has been found, beginning invocation!"}}
[info] i  functions: Beginning execution of "us-central1-api" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"Beginning execution of \"us-central1-api\""}}
[debug] [2021-09-23T13:36:26.452Z] [runtime-status] [28982] triggerDefinition {"httpsTrigger":{},"name":"api","entryPoint":"api","regions":["us-central1"],"region":"us-central1","id":"us-central1-api"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [28982] triggerDefinition {\"httpsTrigger\":{},\"name\":\"api\",\"entryPoint\":\"api\",\"regions\":[\"us-central1\"],\"region\":\"us-central1\",\"id\":\"us-central1-api\"}"}}
[debug] [2021-09-23T13:36:26.453Z] [runtime-status] [28982] Running us-central1-api in mode HTTPS {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [28982] Running us-central1-api in mode HTTPS"}}
[debug] [2021-09-23T13:36:26.461Z] [runtime-status] [28982] Attempting to listen to socketPath: /var/folders/1q/t08t1c7147b3jyhcc6c2xwfr0000gn/T/fire_emu_28982.sock {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [28982] Attempting to listen to socketPath: /var/folders/1q/t08t1c7147b3jyhcc6c2xwfr0000gn/T/fire_emu_28982.sock"}}
[debug] [2021-09-23T13:36:26.464Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2021-09-23T13:36:26.465Z] [functions] Got req.url=/clone-e655c/us-central1/api/payments/create?total=0, mapping to path=/payments/create?total=0 {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Got req.url=/clone-e655c/us-central1/api/payments/create?total=0, mapping to path=/payments/create?total=0"}}
[debug] [2021-09-23T13:36:26.478Z] [runtime-status] [28982] Ephemeral server handling POST request {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [28982] Ephemeral server handling POST request"}}
[info] >  Payment Request received BOOOOOM !! 0 {"user":"Payment Request received BOOOOOM !! 0","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m Payment Request received BOOOOOM !! 0"}}
[debug] [2021-09-23T13:36:26.630Z] [runtime-status] [28982] Ephemeral server survived. {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [28982] Ephemeral server survived."}}
[info] >  (node:28982) UnhandledPromiseRejectionWarning: Error: This value must be greater than or equal to 1. {"user":"(node:28982) UnhandledPromiseRejectionWarning: Error: This value must be greater than or equal to 1.","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m (node:28982) UnhandledPromiseRejectionWarning: Error: This value must be greater than or equal to 1."}}
[info] >      at Function.generate (/Users/edouardtoulet/Desktop/Js/REACT/amazon-clone/functions/node_modules/stripe/lib/Error.js:40:16) {"user":"    at Function.generate (/Users/edouardtoulet/Desktop/Js/REACT/amazon-clone/functions/node_modules/stripe/lib/Error.js:40:16)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     at Function.generate (/Users/edouardtoulet/Desktop/Js/REACT/amazon-clone/functions/node_modules/stripe/lib/Error.js:40:16)"}}
[info] >      at res.toJSON.then.StripeAPIError.message (/Users/edouardtoulet/Desktop/Js/REACT/amazon-clone/functions/node_modules/stripe/lib/StripeResource.js:220:35) {"user":"    at res.toJSON.then.StripeAPIError.message (/Users/edouardtoulet/Desktop/Js/REACT/amazon-clone/functions/node_modules/stripe/lib/StripeResource.js:220:35)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     at res.toJSON.then.StripeAPIError.message (/Users/edouardtoulet/Desktop/Js/REACT/amazon-clone/functions/node_modules/stripe/lib/StripeResource.js:220:35)"}}
[info] >      at processTicksAndRejections (internal/process/task_queues.js:93:5) {"user":"    at processTicksAndRejections (internal/process/task_queues.js:93:5)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     at processTicksAndRejections (internal/process/task_queues.js:93:5)"}}
[info] >  (Use `node --trace-warnings ...` to show where the warning was created) {"user":"(Use `node --trace-warnings ...` to show where the warning was created)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m (Use `node --trace-warnings ...` to show where the warning was created)"}}
[info] >  (node:28982) UnhandledPromiseRejectionWarning: Unhandled promise rejection. This error originated either by throwing inside of an async function without a catch block, or by rejecting a promise which was not handled with .catch(). To terminate the node process on unhandled promise rejection, use the CLI flag `--unhandled-rejections=strict` (see https://nodejs.org/api/cli.html#cli_unhandled_rejections_mode). (rejection id: 1) {"user":"(node:28982) UnhandledPromiseRejectionWarning: Unhandled promise rejection. This error originated either by throwing inside of an async function without a catch block, or by rejecting a promise which was not handled with .catch(). To terminate the node process on unhandled promise rejection, use the CLI flag `--unhandled-rejections=strict` (see https://nodejs.org/api/cli.html#cli_unhandled_rejections_mode). (rejection id: 1)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m (node:28982) UnhandledPromiseRejectionWarning: Unhandled promise rejection. This error originated either by throwing inside of an async function without a catch block, or by rejecting a promise which was not handled with .catch(). To terminate the node process on unhandled promise rejection, use the CLI flag `--unhandled-rejections=strict` (see https://nodejs.org/api/cli.html#cli_unhandled_rejections_mode). (rejection id: 1)"}}
[info] >  (node:28982) [DEP0018] DeprecationWarning: Unhandled promise rejections are deprecated. In the future, promise rejections that are not handled will terminate the Node.js process with a non-zero exit code. {"user":"(node:28982) [DEP0018] DeprecationWarning: Unhandled promise rejections are deprecated. In the future, promise rejections that are not handled will terminate the Node.js process with a non-zero exit code.","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m (node:28982) [DEP0018] DeprecationWarning: Unhandled promise rejections are deprecated. In the future, promise rejections that are not handled will terminate the Node.js process with a non-zero exit code."}}
[debug] [2021-09-23T13:36:46.203Z] [work-queue] {"queueLength":1,"workRunningCount":1}
[debug] [2021-09-23T13:36:46.203Z] [work-queue] {"queueLength":0,"workRunningCount":2}
[debug] [2021-09-23T13:36:46.203Z] Accepted request POST /clone-e655c/us-central1/api/payments/create?total=0 --> us-central1-api
[debug] [2021-09-23T13:36:46.209Z] [worker-pool] addWorker(us-central1-api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] addWorker(us-central1-api)"}}
[debug] [2021-09-23T13:36:46.209Z] [worker-pool] Adding worker with key us-central1-api, total=2 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Adding worker with key us-central1-api, total=2"}}
[debug] [2021-09-23T13:36:46.209Z] [worker-pool] submitWork(triggerId=us-central1-api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitWork(triggerId=us-central1-api)"}}
[debug] [2021-09-23T13:36:46.209Z] [worker-us-central1-api-97d39232-bd32-41e1-8fb9-27c2f64dee41]: Assigning socketPath: /var/folders/1q/t08t1c7147b3jyhcc6c2xwfr0000gn/T/fire_emu_28990.sock {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-api-97d39232-bd32-41e1-8fb9-27c2f64dee41]: Assigning socketPath: /var/folders/1q/t08t1c7147b3jyhcc6c2xwfr0000gn/T/fire_emu_28990.sock"}}
[debug] [2021-09-23T13:36:46.209Z] [worker-us-central1-api-97d39232-bd32-41e1-8fb9-27c2f64dee41]: BUSY {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-api-97d39232-bd32-41e1-8fb9-27c2f64dee41]: BUSY"}}
[debug] [2021-09-23T13:36:46.922Z] [runtime-status] [28990] Functions runtime initialized. {"cwd":"/Users/edouardtoulet/Desktop/Js/REACT/amazon-clone/functions","node_version":"14.15.5"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [28990] Functions runtime initialized. {\"cwd\":\"/Users/edouardtoulet/Desktop/Js/REACT/amazon-clone/functions\",\"node_version\":\"14.15.5\"}"}}
[debug] [2021-09-23T13:36:46.936Z] [runtime-status] [28990] Disabled runtime features: undefined {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [28990] Disabled runtime features: undefined"}}
[debug] [2021-09-23T13:36:46.942Z] [runtime-status] [28990] Resolved module firebase-admin {"declared":true,"installed":true,"version":"9.11.1","resolution":"/Users/edouardtoulet/Desktop/Js/REACT/amazon-clone/functions/node_modules/firebase-admin/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [28990] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"9.11.1\",\"resolution\":\"/Users/edouardtoulet/Desktop/Js/REACT/amazon-clone/functions/node_modules/firebase-admin/lib/index.js\"}"}}
[debug] [2021-09-23T13:36:46.946Z] [runtime-status] [28990] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.15.7","resolution":"/Users/edouardtoulet/Desktop/Js/REACT/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [28990] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.15.7\",\"resolution\":\"/Users/edouardtoulet/Desktop/Js/REACT/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2021-09-23T13:36:46.949Z] [runtime-status] [28990] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.15.7","resolution":"/Users/edouardtoulet/Desktop/Js/REACT/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [28990] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.15.7\",\"resolution\":\"/Users/edouardtoulet/Desktop/Js/REACT/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2021-09-23T13:36:46.951Z] [runtime-status] [28990] Outgoing network have been stubbed. [{"name":"http","status":"mocked"},{"name":"http","status":"mocked"},{"name":"https","status":"mocked"},{"name":"https","status":"mocked"},{"name":"net","status":"mocked"}] {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [28990] Outgoing network have been stubbed. [{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"net\",\"status\":\"mocked\"}]"}}
[debug] [2021-09-23T13:36:46.952Z] [runtime-status] [28990] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.15.7","resolution":"/Users/edouardtoulet/Desktop/Js/REACT/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [28990] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.15.7\",\"resolution\":\"/Users/edouardtoulet/Desktop/Js/REACT/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2021-09-23T13:36:47.141Z] [runtime-status] [28990] Checked functions.config() {"config":{}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [28990] Checked functions.config() {\"config\":{}}"}}
[debug] [2021-09-23T13:36:47.142Z] [runtime-status] [28990] firebase-functions has been stubbed. {"functionsResolution":{"declared":true,"installed":true,"version":"3.15.7","resolution":"/Users/edouardtoulet/Desktop/Js/REACT/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [28990] firebase-functions has been stubbed. {\"functionsResolution\":{\"declared\":true,\"installed\":true,\"version\":\"3.15.7\",\"resolution\":\"/Users/edouardtoulet/Desktop/Js/REACT/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}}"}}
[debug] [2021-09-23T13:36:47.143Z] [runtime-status] [28990] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.15.7","resolution":"/Users/edouardtoulet/Desktop/Js/REACT/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [28990] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.15.7\",\"resolution\":\"/Users/edouardtoulet/Desktop/Js/REACT/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2021-09-23T13:36:47.144Z] [runtime-status] [28990] Resolved module firebase-admin {"declared":true,"installed":true,"version":"9.11.1","resolution":"/Users/edouardtoulet/Desktop/Js/REACT/amazon-clone/functions/node_modules/firebase-admin/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [28990] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"9.11.1\",\"resolution\":\"/Users/edouardtoulet/Desktop/Js/REACT/amazon-clone/functions/node_modules/firebase-admin/lib/index.js\"}"}}
[debug] [2021-09-23T13:36:47.148Z] [runtime-status] [28990] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.15.7","resolution":"/Users/edouardtoulet/Desktop/Js/REACT/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [28990] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.15.7\",\"resolution\":\"/Users/edouardtoulet/Desktop/Js/REACT/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2021-09-23T13:36:47.150Z] [runtime-status] [28990] firebase-admin has been stubbed. {"adminResolution":{"declared":true,"installed":true,"version":"9.11.1","resolution":"/Users/edouardtoulet/Desktop/Js/REACT/amazon-clone/functions/node_modules/firebase-admin/lib/index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [28990] firebase-admin has been stubbed. {\"adminResolution\":{\"declared\":true,\"installed\":true,\"version\":\"9.11.1\",\"resolution\":\"/Users/edouardtoulet/Desktop/Js/REACT/amazon-clone/functions/node_modules/firebase-admin/lib/index.js\"}}"}}
[debug] [2021-09-23T13:36:47.623Z] [runtime-status] [28990] Trigger "us-central1-api" has been found, beginning invocation! {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [28990] Trigger \"us-central1-api\" has been found, beginning invocation!"}}
[info] i  functions: Beginning execution of "us-central1-api" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"Beginning execution of \"us-central1-api\""}}
[debug] [2021-09-23T13:36:47.623Z] [runtime-status] [28990] triggerDefinition {"httpsTrigger":{},"name":"api","entryPoint":"api","regions":["us-central1"],"region":"us-central1","id":"us-central1-api"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [28990] triggerDefinition {\"httpsTrigger\":{},\"name\":\"api\",\"entryPoint\":\"api\",\"regions\":[\"us-central1\"],\"region\":\"us-central1\",\"id\":\"us-central1-api\"}"}}
[debug] [2021-09-23T13:36:47.623Z] [runtime-status] [28990] Running us-central1-api in mode HTTPS {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [28990] Running us-central1-api in mode HTTPS"}}
[debug] [2021-09-23T13:36:47.629Z] [runtime-status] [28990] Attempting to listen to socketPath: /var/folders/1q/t08t1c7147b3jyhcc6c2xwfr0000gn/T/fire_emu_28990.sock {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [28990] Attempting to listen to socketPath: /var/folders/1q/t08t1c7147b3jyhcc6c2xwfr0000gn/T/fire_emu_28990.sock"}}
[debug] [2021-09-23T13:36:47.631Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2021-09-23T13:36:47.631Z] [functions] Got req.url=/clone-e655c/us-central1/api/payments/create?total=0, mapping to path=/payments/create?total=0 {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Got req.url=/clone-e655c/us-central1/api/payments/create?total=0, mapping to path=/payments/create?total=0"}}
[debug] [2021-09-23T13:36:47.641Z] [runtime-status] [28990] Ephemeral server handling POST request {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [28990] Ephemeral server handling POST request"}}
[info] >  Payment Request received BOOOOOM !! 0 {"user":"Payment Request received BOOOOOM !! 0","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m Payment Request received BOOOOOM !! 0"}}
[debug] [2021-09-23T13:36:47.661Z] [runtime-status] [28990] Ephemeral server survived. {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [28990] Ephemeral server survived."}}
[info] >  (node:28990) UnhandledPromiseRejectionWarning: Error: This value must be greater than or equal to 1. {"user":"(node:28990) UnhandledPromiseRejectionWarning: Error: This value must be greater than or equal to 1.","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m (node:28990) UnhandledPromiseRejectionWarning: Error: This value must be greater than or equal to 1."}}
[info] >      at Function.generate (/Users/edouardtoulet/Desktop/Js/REACT/amazon-clone/functions/node_modules/stripe/lib/Error.js:40:16) {"user":"    at Function.generate (/Users/edouardtoulet/Desktop/Js/REACT/amazon-clone/functions/node_modules/stripe/lib/Error.js:40:16)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     at Function.generate (/Users/edouardtoulet/Desktop/Js/REACT/amazon-clone/functions/node_modules/stripe/lib/Error.js:40:16)"}}
[info] >      at res.toJSON.then.StripeAPIError.message (/Users/edouardtoulet/Desktop/Js/REACT/amazon-clone/functions/node_modules/stripe/lib/StripeResource.js:220:35) {"user":"    at res.toJSON.then.StripeAPIError.message (/Users/edouardtoulet/Desktop/Js/REACT/amazon-clone/functions/node_modules/stripe/lib/StripeResource.js:220:35)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     at res.toJSON.then.StripeAPIError.message (/Users/edouardtoulet/Desktop/Js/REACT/amazon-clone/functions/node_modules/stripe/lib/StripeResource.js:220:35)"}}
[info] >      at processTicksAndRejections (internal/process/task_queues.js:93:5) {"user":"    at processTicksAndRejections (internal/process/task_queues.js:93:5)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     at processTicksAndRejections (internal/process/task_queues.js:93:5)"}}
[info] >  (Use `node --trace-warnings ...` to show where the warning was created) {"user":"(Use `node --trace-warnings ...` to show where the warning was created)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m (Use `node --trace-warnings ...` to show where the warning was created)"}}
[info] >  (node:28990) UnhandledPromiseRejectionWarning: Unhandled promise rejection. This error originated either by throwing inside of an async function without a catch block, or by rejecting a promise which was not handled with .catch(). To terminate the node process on unhandled promise rejection, use the CLI flag `--unhandled-rejections=strict` (see https://nodejs.org/api/cli.html#cli_unhandled_rejections_mode). (rejection id: 1) {"user":"(node:28990) UnhandledPromiseRejectionWarning: Unhandled promise rejection. This error originated either by throwing inside of an async function without a catch block, or by rejecting a promise which was not handled with .catch(). To terminate the node process on unhandled promise rejection, use the CLI flag `--unhandled-rejections=strict` (see https://nodejs.org/api/cli.html#cli_unhandled_rejections_mode). (rejection id: 1)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m (node:28990) UnhandledPromiseRejectionWarning: Unhandled promise rejection. This error originated either by throwing inside of an async function without a catch block, or by rejecting a promise which was not handled with .catch(). To terminate the node process on unhandled promise rejection, use the CLI flag `--unhandled-rejections=strict` (see https://nodejs.org/api/cli.html#cli_unhandled_rejections_mode). (rejection id: 1)"}}
[info] >  (node:28990) [DEP0018] DeprecationWarning: Unhandled promise rejections are deprecated. In the future, promise rejections that are not handled will terminate the Node.js process with a non-zero exit code. {"user":"(node:28990) [DEP0018] DeprecationWarning: Unhandled promise rejections are deprecated. In the future, promise rejections that are not handled will terminate the Node.js process with a non-zero exit code.","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m (node:28990) [DEP0018] DeprecationWarning: Unhandled promise rejections are deprecated. In the future, promise rejections that are not handled will terminate the Node.js process with a non-zero exit code."}}
[debug] [2021-09-23T13:36:49.824Z] [work-queue] {"queueLength":1,"workRunningCount":2}
[debug] [2021-09-23T13:36:49.824Z] [work-queue] {"queueLength":0,"workRunningCount":3}
[debug] [2021-09-23T13:36:49.825Z] Accepted request POST /clone-e655c/us-central1/api/payments/create?total=0 --> us-central1-api
[debug] [2021-09-23T13:36:49.832Z] [worker-pool] addWorker(us-central1-api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] addWorker(us-central1-api)"}}
[debug] [2021-09-23T13:36:49.832Z] [worker-pool] Adding worker with key us-central1-api, total=3 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Adding worker with key us-central1-api, total=3"}}
[debug] [2021-09-23T13:36:49.832Z] [worker-pool] submitWork(triggerId=us-central1-api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitWork(triggerId=us-central1-api)"}}
[debug] [2021-09-23T13:36:49.832Z] [worker-us-central1-api-62730ec8-a67b-418d-9055-6955fb5442ce]: Assigning socketPath: /var/folders/1q/t08t1c7147b3jyhcc6c2xwfr0000gn/T/fire_emu_28993.sock {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-api-62730ec8-a67b-418d-9055-6955fb5442ce]: Assigning socketPath: /var/folders/1q/t08t1c7147b3jyhcc6c2xwfr0000gn/T/fire_emu_28993.sock"}}
[debug] [2021-09-23T13:36:49.834Z] [worker-us-central1-api-62730ec8-a67b-418d-9055-6955fb5442ce]: BUSY {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-api-62730ec8-a67b-418d-9055-6955fb5442ce]: BUSY"}}
[debug] [2021-09-23T13:36:50.418Z] [runtime-status] [28993] Functions runtime initialized. {"cwd":"/Users/edouardtoulet/Desktop/Js/REACT/amazon-clone/functions","node_version":"14.15.5"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [28993] Functions runtime initialized. {\"cwd\":\"/Users/edouardtoulet/Desktop/Js/REACT/amazon-clone/functions\",\"node_version\":\"14.15.5\"}"}}
[debug] [2021-09-23T13:36:50.468Z] [runtime-status] [28993] Disabled runtime features: undefined {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [28993] Disabled runtime features: undefined"}}
[debug] [2021-09-23T13:36:50.481Z] [runtime-status] [28993] Resolved module firebase-admin {"declared":true,"installed":true,"version":"9.11.1","resolution":"/Users/edouardtoulet/Desktop/Js/REACT/amazon-clone/functions/node_modules/firebase-admin/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [28993] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"9.11.1\",\"resolution\":\"/Users/edouardtoulet/Desktop/Js/REACT/amazon-clone/functions/node_modules/firebase-admin/lib/index.js\"}"}}
[debug] [2021-09-23T13:36:50.484Z] [runtime-status] [28993] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.15.7","resolution":"/Users/edouardtoulet/Desktop/Js/REACT/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [28993] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.15.7\",\"resolution\":\"/Users/edouardtoulet/Desktop/Js/REACT/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2021-09-23T13:36:50.487Z] [runtime-status] [28993] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.15.7","resolution":"/Users/edouardtoulet/Desktop/Js/REACT/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [28993] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.15.7\",\"resolution\":\"/Users/edouardtoulet/Desktop/Js/REACT/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2021-09-23T13:36:50.489Z] [runtime-status] [28993] Outgoing network have been stubbed. [{"name":"http","status":"mocked"},{"name":"http","status":"mocked"},{"name":"https","status":"mocked"},{"name":"https","status":"mocked"},{"name":"net","status":"mocked"}] {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [28993] Outgoing network have been stubbed. [{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"net\",\"status\":\"mocked\"}]"}}
[debug] [2021-09-23T13:36:50.490Z] [runtime-status] [28993] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.15.7","resolution":"/Users/edouardtoulet/Desktop/Js/REACT/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [28993] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.15.7\",\"resolution\":\"/Users/edouardtoulet/Desktop/Js/REACT/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2021-09-23T13:36:50.590Z] [runtime-status] [28993] Checked functions.config() {"config":{}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [28993] Checked functions.config() {\"config\":{}}"}}
[debug] [2021-09-23T13:36:50.590Z] [runtime-status] [28993] firebase-functions has been stubbed. {"functionsResolution":{"declared":true,"installed":true,"version":"3.15.7","resolution":"/Users/edouardtoulet/Desktop/Js/REACT/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [28993] firebase-functions has been stubbed. {\"functionsResolution\":{\"declared\":true,\"installed\":true,\"version\":\"3.15.7\",\"resolution\":\"/Users/edouardtoulet/Desktop/Js/REACT/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}}"}}
[debug] [2021-09-23T13:36:50.591Z] [runtime-status] [28993] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.15.7","resolution":"/Users/edouardtoulet/Desktop/Js/REACT/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [28993] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.15.7\",\"resolution\":\"/Users/edouardtoulet/Desktop/Js/REACT/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2021-09-23T13:36:50.593Z] [runtime-status] [28993] Resolved module firebase-admin {"declared":true,"installed":true,"version":"9.11.1","resolution":"/Users/edouardtoulet/Desktop/Js/REACT/amazon-clone/functions/node_modules/firebase-admin/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [28993] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"9.11.1\",\"resolution\":\"/Users/edouardtoulet/Desktop/Js/REACT/amazon-clone/functions/node_modules/firebase-admin/lib/index.js\"}"}}
[debug] [2021-09-23T13:36:50.595Z] [runtime-status] [28993] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.15.7","resolution":"/Users/edouardtoulet/Desktop/Js/REACT/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [28993] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.15.7\",\"resolution\":\"/Users/edouardtoulet/Desktop/Js/REACT/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2021-09-23T13:36:50.595Z] [runtime-status] [28993] firebase-admin has been stubbed. {"adminResolution":{"declared":true,"installed":true,"version":"9.11.1","resolution":"/Users/edouardtoulet/Desktop/Js/REACT/amazon-clone/functions/node_modules/firebase-admin/lib/index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [28993] firebase-admin has been stubbed. {\"adminResolution\":{\"declared\":true,\"installed\":true,\"version\":\"9.11.1\",\"resolution\":\"/Users/edouardtoulet/Desktop/Js/REACT/amazon-clone/functions/node_modules/firebase-admin/lib/index.js\"}}"}}
[debug] [2021-09-23T13:36:51.133Z] [runtime-status] [28993] Trigger "us-central1-api" has been found, beginning invocation! {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [28993] Trigger \"us-central1-api\" has been found, beginning invocation!"}}
[info] i  functions: Beginning execution of "us-central1-api" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"Beginning execution of \"us-central1-api\""}}
[debug] [2021-09-23T13:36:51.134Z] [runtime-status] [28993] triggerDefinition {"httpsTrigger":{},"name":"api","entryPoint":"api","regions":["us-central1"],"region":"us-central1","id":"us-central1-api"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [28993] triggerDefinition {\"httpsTrigger\":{},\"name\":\"api\",\"entryPoint\":\"api\",\"regions\":[\"us-central1\"],\"region\":\"us-central1\",\"id\":\"us-central1-api\"}"}}
[debug] [2021-09-23T13:36:51.134Z] [runtime-status] [28993] Running us-central1-api in mode HTTPS {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [28993] Running us-central1-api in mode HTTPS"}}
[debug] [2021-09-23T13:36:51.142Z] [runtime-status] [28993] Attempting to listen to socketPath: /var/folders/1q/t08t1c7147b3jyhcc6c2xwfr0000gn/T/fire_emu_28993.sock {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [28993] Attempting to listen to socketPath: /var/folders/1q/t08t1c7147b3jyhcc6c2xwfr0000gn/T/fire_emu_28993.sock"}}
[debug] [2021-09-23T13:36:51.145Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2021-09-23T13:36:51.146Z] [functions] Got req.url=/clone-e655c/us-central1/api/payments/create?total=0, mapping to path=/payments/create?total=0 {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Got req.url=/clone-e655c/us-central1/api/payments/create?total=0, mapping to path=/payments/create?total=0"}}
[debug] [2021-09-23T13:36:51.215Z] [runtime-status] [28993] Ephemeral server handling POST request {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [28993] Ephemeral server handling POST request"}}
[info] >  Payment Request received BOOOOOM !! 0 {"user":"Payment Request received BOOOOOM !! 0","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m Payment Request received BOOOOOM !! 0"}}
[debug] [2021-09-23T13:36:51.248Z] [runtime-status] [28993] Ephemeral server survived. {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [28993] Ephemeral server survived."}}
[info] >  (node:28993) UnhandledPromiseRejectionWarning: Error: This value must be greater than or equal to 1. {"user":"(node:28993) UnhandledPromiseRejectionWarning: Error: This value must be greater than or equal to 1.","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m (node:28993) UnhandledPromiseRejectionWarning: Error: This value must be greater than or equal to 1."}}
[info] >      at Function.generate (/Users/edouardtoulet/Desktop/Js/REACT/amazon-clone/functions/node_modules/stripe/lib/Error.js:40:16) {"user":"    at Function.generate (/Users/edouardtoulet/Desktop/Js/REACT/amazon-clone/functions/node_modules/stripe/lib/Error.js:40:16)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     at Function.generate (/Users/edouardtoulet/Desktop/Js/REACT/amazon-clone/functions/node_modules/stripe/lib/Error.js:40:16)"}}
[info] >      at res.toJSON.then.StripeAPIError.message (/Users/edouardtoulet/Desktop/Js/REACT/amazon-clone/functions/node_modules/stripe/lib/StripeResource.js:220:35) {"user":"    at res.toJSON.then.StripeAPIError.message (/Users/edouardtoulet/Desktop/Js/REACT/amazon-clone/functions/node_modules/stripe/lib/StripeResource.js:220:35)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     at res.toJSON.then.StripeAPIError.message (/Users/edouardtoulet/Desktop/Js/REACT/amazon-clone/functions/node_modules/stripe/lib/StripeResource.js:220:35)"}}
[info] >      at processTicksAndRejections (internal/process/task_queues.js:93:5) {"user":"    at processTicksAndRejections (internal/process/task_queues.js:93:5)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     at processTicksAndRejections (internal/process/task_queues.js:93:5)"}}
[info] >  (Use `node --trace-warnings ...` to show where the warning was created) {"user":"(Use `node --trace-warnings ...` to show where the warning was created)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m (Use `node --trace-warnings ...` to show where the warning was created)"}}
[info] >  (node:28993) UnhandledPromiseRejectionWarning: Unhandled promise rejection. This error originated either by throwing inside of an async function without a catch block, or by rejecting a promise which was not handled with .catch(). To terminate the node process on unhandled promise rejection, use the CLI flag `--unhandled-rejections=strict` (see https://nodejs.org/api/cli.html#cli_unhandled_rejections_mode). (rejection id: 1) {"user":"(node:28993) UnhandledPromiseRejectionWarning: Unhandled promise rejection. This error originated either by throwing inside of an async function without a catch block, or by rejecting a promise which was not handled with .catch(). To terminate the node process on unhandled promise rejection, use the CLI flag `--unhandled-rejections=strict` (see https://nodejs.org/api/cli.html#cli_unhandled_rejections_mode). (rejection id: 1)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m (node:28993) UnhandledPromiseRejectionWarning: Unhandled promise rejection. This error originated either by throwing inside of an async function without a catch block, or by rejecting a promise which was not handled with .catch(). To terminate the node process on unhandled promise rejection, use the CLI flag `--unhandled-rejections=strict` (see https://nodejs.org/api/cli.html#cli_unhandled_rejections_mode). (rejection id: 1)"}}
[info] >  (node:28993) [DEP0018] DeprecationWarning: Unhandled promise rejections are deprecated. In the future, promise rejections that are not handled will terminate the Node.js process with a non-zero exit code. {"user":"(node:28993) [DEP0018] DeprecationWarning: Unhandled promise rejections are deprecated. In the future, promise rejections that are not handled will terminate the Node.js process with a non-zero exit code.","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m (node:28993) [DEP0018] DeprecationWarning: Unhandled promise rejections are deprecated. In the future, promise rejections that are not handled will terminate the Node.js process with a non-zero exit code."}}
[warn] ⚠  functions: Your function timed out after ~60s. To configure this timeout, see
      https://firebase.google.com/docs/functions/manage-functions#set_timeout_and_memory_allocation. {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"Your function timed out after ~60s. To configure this timeout, see\n      https://firebase.google.com/docs/functions/manage-functions#set_timeout_and_memory_allocation."}}
[info] >  /usr/local/lib/node_modules/firebase-tools/lib/emulator/functionsEmulatorRuntime.js:679 {"user":"/usr/local/lib/node_modules/firebase-tools/lib/emulator/functionsEmulatorRuntime.js:679","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m /usr/local/lib/node_modules/firebase-tools/lib/emulator/functionsEmulatorRuntime.js:679"}}
[info] >              throw new Error("Function timed out."); {"user":"            throw new Error(\"Function timed out.\");","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m             throw new Error(\"Function timed out.\");"}}
[info] >              ^ {"user":"            ^","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m             ^"}}
[info] >   {"user":"","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m "}}
[info] >  Error: Function timed out. {"user":"Error: Function timed out.","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m Error: Function timed out."}}
[info] >      at Timeout._onTimeout (/usr/local/lib/node_modules/firebase-tools/lib/emulator/functionsEmulatorRuntime.js:679:19) {"user":"    at Timeout._onTimeout (/usr/local/lib/node_modules/firebase-tools/lib/emulator/functionsEmulatorRuntime.js:679:19)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     at Timeout._onTimeout (/usr/local/lib/node_modules/firebase-tools/lib/emulator/functionsEmulatorRuntime.js:679:19)"}}
[info] >      at listOnTimeout (internal/timers.js:554:17) {"user":"    at listOnTimeout (internal/timers.js:554:17)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     at listOnTimeout (internal/timers.js:554:17)"}}
[info] >      at processTimers (internal/timers.js:497:7) {"user":"    at processTimers (internal/timers.js:497:7)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     at processTimers (internal/timers.js:497:7)"}}
[debug] [2021-09-23T13:37:26.468Z] [worker-us-central1-api-7226f125-4415-411d-8bc7-2623f9594ffb]: exited {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-api-7226f125-4415-411d-8bc7-2623f9594ffb]: exited"}}
[debug] [2021-09-23T13:37:26.468Z] [worker-us-central1-api-7226f125-4415-411d-8bc7-2623f9594ffb]: FINISHED {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-api-7226f125-4415-411d-8bc7-2623f9594ffb]: FINISHED"}}
[debug] [2021-09-23T13:37:26.469Z] [work-queue] {"queueLength":0,"workRunningCount":2}
[debug] [2021-09-23T13:37:27.143Z] [work-queue] {"queueLength":1,"workRunningCount":2}
[debug] [2021-09-23T13:37:27.143Z] [work-queue] {"queueLength":0,"workRunningCount":3}
[debug] [2021-09-23T13:37:27.143Z] Accepted request POST /clone-e655c/us-central1/api/payments/create?total=0 --> us-central1-api
[debug] [2021-09-23T13:37:27.143Z] [worker-pool] Cleaned up workers for us-central1-api: 3 --> 2 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Cleaned up workers for us-central1-api: 3 --> 2"}}
[debug] [2021-09-23T13:37:27.149Z] [worker-pool] addWorker(us-central1-api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] addWorker(us-central1-api)"}}
[debug] [2021-09-23T13:37:27.149Z] [worker-pool] Adding worker with key us-central1-api, total=3 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Adding worker with key us-central1-api, total=3"}}
[debug] [2021-09-23T13:37:27.150Z] [worker-pool] submitWork(triggerId=us-central1-api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitWork(triggerId=us-central1-api)"}}
[debug] [2021-09-23T13:37:27.150Z] [worker-us-central1-api-82e212ba-1610-4d66-87b6-9f5454b75446]: Assigning socketPath: /var/folders/1q/t08t1c7147b3jyhcc6c2xwfr0000gn/T/fire_emu_29008.sock {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-api-82e212ba-1610-4d66-87b6-9f5454b75446]: Assigning socketPath: /var/folders/1q/t08t1c7147b3jyhcc6c2xwfr0000gn/T/fire_emu_29008.sock"}}
[debug] [2021-09-23T13:37:27.150Z] [worker-us-central1-api-82e212ba-1610-4d66-87b6-9f5454b75446]: BUSY {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-api-82e212ba-1610-4d66-87b6-9f5454b75446]: BUSY"}}
[debug] [2021-09-23T13:37:27.953Z] [runtime-status] [29008] Functions runtime initialized. {"cwd":"/Users/edouardtoulet/Desktop/Js/REACT/amazon-clone/functions","node_version":"14.15.5"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [29008] Functions runtime initialized. {\"cwd\":\"/Users/edouardtoulet/Desktop/Js/REACT/amazon-clone/functions\",\"node_version\":\"14.15.5\"}"}}
[debug] [2021-09-23T13:37:27.962Z] [runtime-status] [29008] Disabled runtime features: undefined {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [29008] Disabled runtime features: undefined"}}
[debug] [2021-09-23T13:37:27.968Z] [runtime-status] [29008] Resolved module firebase-admin {"declared":true,"installed":true,"version":"9.11.1","resolution":"/Users/edouardtoulet/Desktop/Js/REACT/amazon-clone/functions/node_modules/firebase-admin/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [29008] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"9.11.1\",\"resolution\":\"/Users/edouardtoulet/Desktop/Js/REACT/amazon-clone/functions/node_modules/firebase-admin/lib/index.js\"}"}}
[debug] [2021-09-23T13:37:27.973Z] [runtime-status] [29008] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.15.7","resolution":"/Users/edouardtoulet/Desktop/Js/REACT/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [29008] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.15.7\",\"resolution\":\"/Users/edouardtoulet/Desktop/Js/REACT/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2021-09-23T13:37:27.975Z] [runtime-status] [29008] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.15.7","resolution":"/Users/edouardtoulet/Desktop/Js/REACT/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [29008] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.15.7\",\"resolution\":\"/Users/edouardtoulet/Desktop/Js/REACT/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2021-09-23T13:37:27.978Z] [runtime-status] [29008] Outgoing network have been stubbed. [{"name":"http","status":"mocked"},{"name":"http","status":"mocked"},{"name":"https","status":"mocked"},{"name":"https","status":"mocked"},{"name":"net","status":"mocked"}] {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [29008] Outgoing network have been stubbed. [{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"net\",\"status\":\"mocked\"}]"}}
[debug] [2021-09-23T13:37:27.979Z] [runtime-status] [29008] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.15.7","resolution":"/Users/edouardtoulet/Desktop/Js/REACT/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [29008] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.15.7\",\"resolution\":\"/Users/edouardtoulet/Desktop/Js/REACT/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2021-09-23T13:37:28.206Z] [runtime-status] [29008] Checked functions.config() {"config":{}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [29008] Checked functions.config() {\"config\":{}}"}}
[debug] [2021-09-23T13:37:28.207Z] [runtime-status] [29008] firebase-functions has been stubbed. {"functionsResolution":{"declared":true,"installed":true,"version":"3.15.7","resolution":"/Users/edouardtoulet/Desktop/Js/REACT/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [29008] firebase-functions has been stubbed. {\"functionsResolution\":{\"declared\":true,\"installed\":true,\"version\":\"3.15.7\",\"resolution\":\"/Users/edouardtoulet/Desktop/Js/REACT/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}}"}}
[debug] [2021-09-23T13:37:28.209Z] [runtime-status] [29008] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.15.7","resolution":"/Users/edouardtoulet/Desktop/Js/REACT/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [29008] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.15.7\",\"resolution\":\"/Users/edouardtoulet/Desktop/Js/REACT/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2021-09-23T13:37:28.210Z] [runtime-status] [29008] Resolved module firebase-admin {"declared":true,"installed":true,"version":"9.11.1","resolution":"/Users/edouardtoulet/Desktop/Js/REACT/amazon-clone/functions/node_modules/firebase-admin/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [29008] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"9.11.1\",\"resolution\":\"/Users/edouardtoulet/Desktop/Js/REACT/amazon-clone/functions/node_modules/firebase-admin/lib/index.js\"}"}}
[debug] [2021-09-23T13:37:28.211Z] [runtime-status] [29008] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.15.7","resolution":"/Users/edouardtoulet/Desktop/Js/REACT/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [29008] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.15.7\",\"resolution\":\"/Users/edouardtoulet/Desktop/Js/REACT/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2021-09-23T13:37:28.212Z] [runtime-status] [29008] firebase-admin has been stubbed. {"adminResolution":{"declared":true,"installed":true,"version":"9.11.1","resolution":"/Users/edouardtoulet/Desktop/Js/REACT/amazon-clone/functions/node_modules/firebase-admin/lib/index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [29008] firebase-admin has been stubbed. {\"adminResolution\":{\"declared\":true,\"installed\":true,\"version\":\"9.11.1\",\"resolution\":\"/Users/edouardtoulet/Desktop/Js/REACT/amazon-clone/functions/node_modules/firebase-admin/lib/index.js\"}}"}}
[debug] [2021-09-23T13:37:28.699Z] [runtime-status] [29008] Trigger "us-central1-api" has been found, beginning invocation! {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [29008] Trigger \"us-central1-api\" has been found, beginning invocation!"}}
[info] i  functions: Beginning execution of "us-central1-api" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"Beginning execution of \"us-central1-api\""}}
[debug] [2021-09-23T13:37:28.703Z] [runtime-status] [29008] triggerDefinition {"httpsTrigger":{},"name":"api","entryPoint":"api","regions":["us-central1"],"region":"us-central1","id":"us-central1-api"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [29008] triggerDefinition {\"httpsTrigger\":{},\"name\":\"api\",\"entryPoint\":\"api\",\"regions\":[\"us-central1\"],\"region\":\"us-central1\",\"id\":\"us-central1-api\"}"}}
[debug] [2021-09-23T13:37:28.703Z] [runtime-status] [29008] Running us-central1-api in mode HTTPS {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [29008] Running us-central1-api in mode HTTPS"}}
[debug] [2021-09-23T13:37:28.708Z] [runtime-status] [29008] Attempting to listen to socketPath: /var/folders/1q/t08t1c7147b3jyhcc6c2xwfr0000gn/T/fire_emu_29008.sock {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [29008] Attempting to listen to socketPath: /var/folders/1q/t08t1c7147b3jyhcc6c2xwfr0000gn/T/fire_emu_29008.sock"}}
[debug] [2021-09-23T13:37:28.711Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2021-09-23T13:37:28.711Z] [functions] Got req.url=/clone-e655c/us-central1/api/payments/create?total=0, mapping to path=/payments/create?total=0 {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Got req.url=/clone-e655c/us-central1/api/payments/create?total=0, mapping to path=/payments/create?total=0"}}
[debug] [2021-09-23T13:37:28.867Z] [runtime-status] [29008] Ephemeral server handling POST request {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [29008] Ephemeral server handling POST request"}}
[info] >  Payment Request received BOOOOOM !! 0 {"user":"Payment Request received BOOOOOM !! 0","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m Payment Request received BOOOOOM !! 0"}}
[debug] [2021-09-23T13:37:28.913Z] [runtime-status] [29008] Ephemeral server survived. {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [29008] Ephemeral server survived."}}
[info] >  (node:29008) UnhandledPromiseRejectionWarning: Error: This value must be greater than or equal to 1. {"user":"(node:29008) UnhandledPromiseRejectionWarning: Error: This value must be greater than or equal to 1.","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m (node:29008) UnhandledPromiseRejectionWarning: Error: This value must be greater than or equal to 1."}}
[info] >      at Function.generate (/Users/edouardtoulet/Desktop/Js/REACT/amazon-clone/functions/node_modules/stripe/lib/Error.js:40:16) {"user":"    at Function.generate (/Users/edouardtoulet/Desktop/Js/REACT/amazon-clone/functions/node_modules/stripe/lib/Error.js:40:16)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     at Function.generate (/Users/edouardtoulet/Desktop/Js/REACT/amazon-clone/functions/node_modules/stripe/lib/Error.js:40:16)"}}
[info] >      at res.toJSON.then.StripeAPIError.message (/Users/edouardtoulet/Desktop/Js/REACT/amazon-clone/functions/node_modules/stripe/lib/StripeResource.js:220:35) {"user":"    at res.toJSON.then.StripeAPIError.message (/Users/edouardtoulet/Desktop/Js/REACT/amazon-clone/functions/node_modules/stripe/lib/StripeResource.js:220:35)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     at res.toJSON.then.StripeAPIError.message (/Users/edouardtoulet/Desktop/Js/REACT/amazon-clone/functions/node_modules/stripe/lib/StripeResource.js:220:35)"}}
[info] >      at processTicksAndRejections (internal/process/task_queues.js:93:5) {"user":"    at processTicksAndRejections (internal/process/task_queues.js:93:5)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     at processTicksAndRejections (internal/process/task_queues.js:93:5)"}}
[info] >  (Use `node --trace-warnings ...` to show where the warning was created) {"user":"(Use `node --trace-warnings ...` to show where the warning was created)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m (Use `node --trace-warnings ...` to show where the warning was created)"}}
[info] >  (node:29008) UnhandledPromiseRejectionWarning: Unhandled promise rejection. This error originated either by throwing inside of an async function without a catch block, or by rejecting a promise which was not handled with .catch(). To terminate the node process on unhandled promise rejection, use the CLI flag `--unhandled-rejections=strict` (see https://nodejs.org/api/cli.html#cli_unhandled_rejections_mode). (rejection id: 1) {"user":"(node:29008) UnhandledPromiseRejectionWarning: Unhandled promise rejection. This error originated either by throwing inside of an async function without a catch block, or by rejecting a promise which was not handled with .catch(). To terminate the node process on unhandled promise rejection, use the CLI flag `--unhandled-rejections=strict` (see https://nodejs.org/api/cli.html#cli_unhandled_rejections_mode). (rejection id: 1)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m (node:29008) UnhandledPromiseRejectionWarning: Unhandled promise rejection. This error originated either by throwing inside of an async function without a catch block, or by rejecting a promise which was not handled with .catch(). To terminate the node process on unhandled promise rejection, use the CLI flag `--unhandled-rejections=strict` (see https://nodejs.org/api/cli.html#cli_unhandled_rejections_mode). (rejection id: 1)"}}
[info] >  (node:29008) [DEP0018] DeprecationWarning: Unhandled promise rejections are deprecated. In the future, promise rejections that are not handled will terminate the Node.js process with a non-zero exit code. {"user":"(node:29008) [DEP0018] DeprecationWarning: Unhandled promise rejections are deprecated. In the future, promise rejections that are not handled will terminate the Node.js process with a non-zero exit code.","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m (node:29008) [DEP0018] DeprecationWarning: Unhandled promise rejections are deprecated. In the future, promise rejections that are not handled will terminate the Node.js process with a non-zero exit code."}}
[debug] [2021-09-23T13:37:29.573Z] [work-queue] {"queueLength":1,"workRunningCount":3}
[debug] [2021-09-23T13:37:29.573Z] [work-queue] {"queueLength":0,"workRunningCount":4}
[debug] [2021-09-23T13:37:29.573Z] Accepted request POST /clone-e655c/us-central1/api/payments/create?total=0 --> us-central1-api
[debug] [2021-09-23T13:37:29.579Z] [worker-pool] addWorker(us-central1-api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] addWorker(us-central1-api)"}}
[debug] [2021-09-23T13:37:29.580Z] [worker-pool] Adding worker with key us-central1-api, total=4 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Adding worker with key us-central1-api, total=4"}}
[debug] [2021-09-23T13:37:29.580Z] [worker-pool] submitWork(triggerId=us-central1-api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitWork(triggerId=us-central1-api)"}}
[debug] [2021-09-23T13:37:29.580Z] [worker-us-central1-api-168f5d06-bbc5-4bb8-ba12-86fa9b058a0d]: Assigning socketPath: /var/folders/1q/t08t1c7147b3jyhcc6c2xwfr0000gn/T/fire_emu_29010.sock {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-api-168f5d06-bbc5-4bb8-ba12-86fa9b058a0d]: Assigning socketPath: /var/folders/1q/t08t1c7147b3jyhcc6c2xwfr0000gn/T/fire_emu_29010.sock"}}
[debug] [2021-09-23T13:37:29.580Z] [worker-us-central1-api-168f5d06-bbc5-4bb8-ba12-86fa9b058a0d]: BUSY {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-api-168f5d06-bbc5-4bb8-ba12-86fa9b058a0d]: BUSY"}}
[debug] [2021-09-23T13:37:30.160Z] [runtime-status] [29010] Functions runtime initialized. {"cwd":"/Users/edouardtoulet/Desktop/Js/REACT/amazon-clone/functions","node_version":"14.15.5"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [29010] Functions runtime initialized. {\"cwd\":\"/Users/edouardtoulet/Desktop/Js/REACT/amazon-clone/functions\",\"node_version\":\"14.15.5\"}"}}
[debug] [2021-09-23T13:37:30.175Z] [runtime-status] [29010] Disabled runtime features: undefined {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [29010] Disabled runtime features: undefined"}}
[debug] [2021-09-23T13:37:30.286Z] [runtime-status] [29010] Resolved module firebase-admin {"declared":true,"installed":true,"version":"9.11.1","resolution":"/Users/edouardtoulet/Desktop/Js/REACT/amazon-clone/functions/node_modules/firebase-admin/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [29010] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"9.11.1\",\"resolution\":\"/Users/edouardtoulet/Desktop/Js/REACT/amazon-clone/functions/node_modules/firebase-admin/lib/index.js\"}"}}
[debug] [2021-09-23T13:37:30.301Z] [runtime-status] [29010] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.15.7","resolution":"/Users/edouardtoulet/Desktop/Js/REACT/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [29010] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.15.7\",\"resolution\":\"/Users/edouardtoulet/Desktop/Js/REACT/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2021-09-23T13:37:30.304Z] [runtime-status] [29010] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.15.7","resolution":"/Users/edouardtoulet/Desktop/Js/REACT/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [29010] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.15.7\",\"resolution\":\"/Users/edouardtoulet/Desktop/Js/REACT/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2021-09-23T13:37:30.309Z] [runtime-status] [29010] Outgoing network have been stubbed. [{"name":"http","status":"mocked"},{"name":"http","status":"mocked"},{"name":"https","status":"mocked"},{"name":"https","status":"mocked"},{"name":"net","status":"mocked"}] {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [29010] Outgoing network have been stubbed. [{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"net\",\"status\":\"mocked\"}]"}}
[debug] [2021-09-23T13:37:30.310Z] [runtime-status] [29010] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.15.7","resolution":"/Users/edouardtoulet/Desktop/Js/REACT/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [29010] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.15.7\",\"resolution\":\"/Users/edouardtoulet/Desktop/Js/REACT/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2021-09-23T13:37:30.492Z] [runtime-status] [29010] Checked functions.config() {"config":{}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [29010] Checked functions.config() {\"config\":{}}"}}
[debug] [2021-09-23T13:37:30.493Z] [runtime-status] [29010] firebase-functions has been stubbed. {"functionsResolution":{"declared":true,"installed":true,"version":"3.15.7","resolution":"/Users/edouardtoulet/Desktop/Js/REACT/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [29010] firebase-functions has been stubbed. {\"functionsResolution\":{\"declared\":true,\"installed\":true,\"version\":\"3.15.7\",\"resolution\":\"/Users/edouardtoulet/Desktop/Js/REACT/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}}"}}
[debug] [2021-09-23T13:37:30.493Z] [runtime-status] [29010] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.15.7","resolution":"/Users/edouardtoulet/Desktop/Js/REACT/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [29010] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.15.7\",\"resolution\":\"/Users/edouardtoulet/Desktop/Js/REACT/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2021-09-23T13:37:30.494Z] [runtime-status] [29010] Resolved module firebase-admin {"declared":true,"installed":true,"version":"9.11.1","resolution":"/Users/edouardtoulet/Desktop/Js/REACT/amazon-clone/functions/node_modules/firebase-admin/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [29010] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"9.11.1\",\"resolution\":\"/Users/edouardtoulet/Desktop/Js/REACT/amazon-clone/functions/node_modules/firebase-admin/lib/index.js\"}"}}
[debug] [2021-09-23T13:37:30.495Z] [runtime-status] [29010] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.15.7","resolution":"/Users/edouardtoulet/Desktop/Js/REACT/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [29010] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.15.7\",\"resolution\":\"/Users/edouardtoulet/Desktop/Js/REACT/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2021-09-23T13:37:30.495Z] [runtime-status] [29010] firebase-admin has been stubbed. {"adminResolution":{"declared":true,"installed":true,"version":"9.11.1","resolution":"/Users/edouardtoulet/Desktop/Js/REACT/amazon-clone/functions/node_modules/firebase-admin/lib/index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [29010] firebase-admin has been stubbed. {\"adminResolution\":{\"declared\":true,\"installed\":true,\"version\":\"9.11.1\",\"resolution\":\"/Users/edouardtoulet/Desktop/Js/REACT/amazon-clone/functions/node_modules/firebase-admin/lib/index.js\"}}"}}
[debug] [2021-09-23T13:37:31.013Z] [runtime-status] [29010] Trigger "us-central1-api" has been found, beginning invocation! {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [29010] Trigger \"us-central1-api\" has been found, beginning invocation!"}}
[info] i  functions: Beginning execution of "us-central1-api" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"Beginning execution of \"us-central1-api\""}}
[debug] [2021-09-23T13:37:31.016Z] [runtime-status] [29010] triggerDefinition {"httpsTrigger":{},"name":"api","entryPoint":"api","regions":["us-central1"],"region":"us-central1","id":"us-central1-api"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [29010] triggerDefinition {\"httpsTrigger\":{},\"name\":\"api\",\"entryPoint\":\"api\",\"regions\":[\"us-central1\"],\"region\":\"us-central1\",\"id\":\"us-central1-api\"}"}}
[debug] [2021-09-23T13:37:31.016Z] [runtime-status] [29010] Running us-central1-api in mode HTTPS {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [29010] Running us-central1-api in mode HTTPS"}}
[debug] [2021-09-23T13:37:31.029Z] [runtime-status] [29010] Attempting to listen to socketPath: /var/folders/1q/t08t1c7147b3jyhcc6c2xwfr0000gn/T/fire_emu_29010.sock {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [29010] Attempting to listen to socketPath: /var/folders/1q/t08t1c7147b3jyhcc6c2xwfr0000gn/T/fire_emu_29010.sock"}}
[debug] [2021-09-23T13:37:31.034Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2021-09-23T13:37:31.034Z] [functions] Got req.url=/clone-e655c/us-central1/api/payments/create?total=0, mapping to path=/payments/create?total=0 {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Got req.url=/clone-e655c/us-central1/api/payments/create?total=0, mapping to path=/payments/create?total=0"}}
[debug] [2021-09-23T13:37:31.070Z] [runtime-status] [29010] Ephemeral server handling POST request {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [29010] Ephemeral server handling POST request"}}
[info] >  Payment Request received BOOOOOM !! 0 {"user":"Payment Request received BOOOOOM !! 0","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m Payment Request received BOOOOOM !! 0"}}
[debug] [2021-09-23T13:37:31.125Z] [runtime-status] [29010] Ephemeral server survived. {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [29010] Ephemeral server survived."}}
[info] >  (node:29010) UnhandledPromiseRejectionWarning: Error: This value must be greater than or equal to 1. {"user":"(node:29010) UnhandledPromiseRejectionWarning: Error: This value must be greater than or equal to 1.","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m (node:29010) UnhandledPromiseRejectionWarning: Error: This value must be greater than or equal to 1."}}
[info] >      at Function.generate (/Users/edouardtoulet/Desktop/Js/REACT/amazon-clone/functions/node_modules/stripe/lib/Error.js:40:16) {"user":"    at Function.generate (/Users/edouardtoulet/Desktop/Js/REACT/amazon-clone/functions/node_modules/stripe/lib/Error.js:40:16)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     at Function.generate (/Users/edouardtoulet/Desktop/Js/REACT/amazon-clone/functions/node_modules/stripe/lib/Error.js:40:16)"}}
[info] >      at res.toJSON.then.StripeAPIError.message (/Users/edouardtoulet/Desktop/Js/REACT/amazon-clone/functions/node_modules/stripe/lib/StripeResource.js:220:35) {"user":"    at res.toJSON.then.StripeAPIError.message (/Users/edouardtoulet/Desktop/Js/REACT/amazon-clone/functions/node_modules/stripe/lib/StripeResource.js:220:35)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     at res.toJSON.then.StripeAPIError.message (/Users/edouardtoulet/Desktop/Js/REACT/amazon-clone/functions/node_modules/stripe/lib/StripeResource.js:220:35)"}}
[info] >      at processTicksAndRejections (internal/process/task_queues.js:93:5) {"user":"    at processTicksAndRejections (internal/process/task_queues.js:93:5)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     at processTicksAndRejections (internal/process/task_queues.js:93:5)"}}
[info] >  (Use `node --trace-warnings ...` to show where the warning was created) {"user":"(Use `node --trace-warnings ...` to show where the warning was created)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m (Use `node --trace-warnings ...` to show where the warning was created)"}}
[info] >  (node:29010) UnhandledPromiseRejectionWarning: Unhandled promise rejection. This error originated either by throwing inside of an async function without a catch block, or by rejecting a promise which was not handled with .catch(). To terminate the node process on unhandled promise rejection, use the CLI flag `--unhandled-rejections=strict` (see https://nodejs.org/api/cli.html#cli_unhandled_rejections_mode). (rejection id: 1) {"user":"(node:29010) UnhandledPromiseRejectionWarning: Unhandled promise rejection. This error originated either by throwing inside of an async function without a catch block, or by rejecting a promise which was not handled with .catch(). To terminate the node process on unhandled promise rejection, use the CLI flag `--unhandled-rejections=strict` (see https://nodejs.org/api/cli.html#cli_unhandled_rejections_mode). (rejection id: 1)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m (node:29010) UnhandledPromiseRejectionWarning: Unhandled promise rejection. This error originated either by throwing inside of an async function without a catch block, or by rejecting a promise which was not handled with .catch(). To terminate the node process on unhandled promise rejection, use the CLI flag `--unhandled-rejections=strict` (see https://nodejs.org/api/cli.html#cli_unhandled_rejections_mode). (rejection id: 1)"}}
[info] >  (node:29010) [DEP0018] DeprecationWarning: Unhandled promise rejections are deprecated. In the future, promise rejections that are not handled will terminate the Node.js process with a non-zero exit code. {"user":"(node:29010) [DEP0018] DeprecationWarning: Unhandled promise rejections are deprecated. In the future, promise rejections that are not handled will terminate the Node.js process with a non-zero exit code.","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m (node:29010) [DEP0018] DeprecationWarning: Unhandled promise rejections are deprecated. In the future, promise rejections that are not handled will terminate the Node.js process with a non-zero exit code."}}
[debug] [2021-09-23T13:37:42.424Z] [work-queue] {"queueLength":1,"workRunningCount":4}
[debug] [2021-09-23T13:37:42.425Z] [work-queue] {"queueLength":0,"workRunningCount":5}
[debug] [2021-09-23T13:37:42.425Z] Accepted request POST /clone-e655c/us-central1/api/payments/create?total=31900 --> us-central1-api
[debug] [2021-09-23T13:37:42.444Z] [worker-pool] addWorker(us-central1-api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] addWorker(us-central1-api)"}}
[debug] [2021-09-23T13:37:42.444Z] [worker-pool] Adding worker with key us-central1-api, total=5 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Adding worker with key us-central1-api, total=5"}}
[debug] [2021-09-23T13:37:42.444Z] [worker-pool] submitWork(triggerId=us-central1-api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitWork(triggerId=us-central1-api)"}}
[debug] [2021-09-23T13:37:42.444Z] [worker-us-central1-api-c88256f5-d3d4-4881-a441-d877df69d197]: Assigning socketPath: /var/folders/1q/t08t1c7147b3jyhcc6c2xwfr0000gn/T/fire_emu_29015.sock {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-api-c88256f5-d3d4-4881-a441-d877df69d197]: Assigning socketPath: /var/folders/1q/t08t1c7147b3jyhcc6c2xwfr0000gn/T/fire_emu_29015.sock"}}
[debug] [2021-09-23T13:37:42.444Z] [worker-us-central1-api-c88256f5-d3d4-4881-a441-d877df69d197]: BUSY {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-api-c88256f5-d3d4-4881-a441-d877df69d197]: BUSY"}}
[debug] [2021-09-23T13:37:43.293Z] [runtime-status] [29015] Functions runtime initialized. {"cwd":"/Users/edouardtoulet/Desktop/Js/REACT/amazon-clone/functions","node_version":"14.15.5"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [29015] Functions runtime initialized. {\"cwd\":\"/Users/edouardtoulet/Desktop/Js/REACT/amazon-clone/functions\",\"node_version\":\"14.15.5\"}"}}
[debug] [2021-09-23T13:37:43.301Z] [runtime-status] [29015] Disabled runtime features: undefined {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [29015] Disabled runtime features: undefined"}}
[debug] [2021-09-23T13:37:43.308Z] [runtime-status] [29015] Resolved module firebase-admin {"declared":true,"installed":true,"version":"9.11.1","resolution":"/Users/edouardtoulet/Desktop/Js/REACT/amazon-clone/functions/node_modules/firebase-admin/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [29015] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"9.11.1\",\"resolution\":\"/Users/edouardtoulet/Desktop/Js/REACT/amazon-clone/functions/node_modules/firebase-admin/lib/index.js\"}"}}
[debug] [2021-09-23T13:37:43.311Z] [runtime-status] [29015] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.15.7","resolution":"/Users/edouardtoulet/Desktop/Js/REACT/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [29015] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.15.7\",\"resolution\":\"/Users/edouardtoulet/Desktop/Js/REACT/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2021-09-23T13:37:43.315Z] [runtime-status] [29015] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.15.7","resolution":"/Users/edouardtoulet/Desktop/Js/REACT/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [29015] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.15.7\",\"resolution\":\"/Users/edouardtoulet/Desktop/Js/REACT/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2021-09-23T13:37:43.318Z] [runtime-status] [29015] Outgoing network have been stubbed. [{"name":"http","status":"mocked"},{"name":"http","status":"mocked"},{"name":"https","status":"mocked"},{"name":"https","status":"mocked"},{"name":"net","status":"mocked"}] {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [29015] Outgoing network have been stubbed. [{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"net\",\"status\":\"mocked\"}]"}}
[debug] [2021-09-23T13:37:43.319Z] [runtime-status] [29015] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.15.7","resolution":"/Users/edouardtoulet/Desktop/Js/REACT/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [29015] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.15.7\",\"resolution\":\"/Users/edouardtoulet/Desktop/Js/REACT/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2021-09-23T13:37:43.389Z] [runtime-status] [29015] Checked functions.config() {"config":{}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [29015] Checked functions.config() {\"config\":{}}"}}
[debug] [2021-09-23T13:37:43.390Z] [runtime-status] [29015] firebase-functions has been stubbed. {"functionsResolution":{"declared":true,"installed":true,"version":"3.15.7","resolution":"/Users/edouardtoulet/Desktop/Js/REACT/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [29015] firebase-functions has been stubbed. {\"functionsResolution\":{\"declared\":true,\"installed\":true,\"version\":\"3.15.7\",\"resolution\":\"/Users/edouardtoulet/Desktop/Js/REACT/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}}"}}
[debug] [2021-09-23T13:37:43.391Z] [runtime-status] [29015] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.15.7","resolution":"/Users/edouardtoulet/Desktop/Js/REACT/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [29015] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.15.7\",\"resolution\":\"/Users/edouardtoulet/Desktop/Js/REACT/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2021-09-23T13:37:43.392Z] [runtime-status] [29015] Resolved module firebase-admin {"declared":true,"installed":true,"version":"9.11.1","resolution":"/Users/edouardtoulet/Desktop/Js/REACT/amazon-clone/functions/node_modules/firebase-admin/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [29015] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"9.11.1\",\"resolution\":\"/Users/edouardtoulet/Desktop/Js/REACT/amazon-clone/functions/node_modules/firebase-admin/lib/index.js\"}"}}
[debug] [2021-09-23T13:37:43.392Z] [runtime-status] [29015] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.15.7","resolution":"/Users/edouardtoulet/Desktop/Js/REACT/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [29015] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.15.7\",\"resolution\":\"/Users/edouardtoulet/Desktop/Js/REACT/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2021-09-23T13:37:43.393Z] [runtime-status] [29015] firebase-admin has been stubbed. {"adminResolution":{"declared":true,"installed":true,"version":"9.11.1","resolution":"/Users/edouardtoulet/Desktop/Js/REACT/amazon-clone/functions/node_modules/firebase-admin/lib/index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [29015] firebase-admin has been stubbed. {\"adminResolution\":{\"declared\":true,\"installed\":true,\"version\":\"9.11.1\",\"resolution\":\"/Users/edouardtoulet/Desktop/Js/REACT/amazon-clone/functions/node_modules/firebase-admin/lib/index.js\"}}"}}
[debug] [2021-09-23T13:37:43.575Z] [runtime-status] [29015] Trigger "us-central1-api" has been found, beginning invocation! {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [29015] Trigger \"us-central1-api\" has been found, beginning invocation!"}}
[info] i  functions: Beginning execution of "us-central1-api" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"Beginning execution of \"us-central1-api\""}}
[debug] [2021-09-23T13:37:43.576Z] [runtime-status] [29015] triggerDefinition {"httpsTrigger":{},"name":"api","entryPoint":"api","regions":["us-central1"],"region":"us-central1","id":"us-central1-api"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [29015] triggerDefinition {\"httpsTrigger\":{},\"name\":\"api\",\"entryPoint\":\"api\",\"regions\":[\"us-central1\"],\"region\":\"us-central1\",\"id\":\"us-central1-api\"}"}}
[debug] [2021-09-23T13:37:43.576Z] [runtime-status] [29015] Running us-central1-api in mode HTTPS {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [29015] Running us-central1-api in mode HTTPS"}}
[debug] [2021-09-23T13:37:43.580Z] [runtime-status] [29015] Attempting to listen to socketPath: /var/folders/1q/t08t1c7147b3jyhcc6c2xwfr0000gn/T/fire_emu_29015.sock {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [29015] Attempting to listen to socketPath: /var/folders/1q/t08t1c7147b3jyhcc6c2xwfr0000gn/T/fire_emu_29015.sock"}}
[debug] [2021-09-23T13:37:43.583Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2021-09-23T13:37:43.584Z] [functions] Got req.url=/clone-e655c/us-central1/api/payments/create?total=31900, mapping to path=/payments/create?total=31900 {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Got req.url=/clone-e655c/us-central1/api/payments/create?total=31900, mapping to path=/payments/create?total=31900"}}
[debug] [2021-09-23T13:37:43.592Z] [runtime-status] [29015] Ephemeral server handling POST request {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [29015] Ephemeral server handling POST request"}}
[info] >  Payment Request received BOOOOOM !! 31900 {"user":"Payment Request received BOOOOOM !! 31900","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m Payment Request received BOOOOOM !! 31900"}}
[debug] [2021-09-23T13:37:43.604Z] [runtime-status] [29015] Ephemeral server survived. {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [29015] Ephemeral server survived."}}
[info] i  functions: Finished "us-central1-api" in ~1s {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"Finished \"us-central1-api\" in ~1s"}}
[debug] [2021-09-23T13:37:44.210Z] [worker-us-central1-api-c88256f5-d3d4-4881-a441-d877df69d197]: IDLE {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-api-c88256f5-d3d4-4881-a441-d877df69d197]: IDLE"}}
[debug] [2021-09-23T13:37:44.210Z] [work-queue] {"queueLength":0,"workRunningCount":4}
[warn] ⚠  functions: Your function timed out after ~60s. To configure this timeout, see
      https://firebase.google.com/docs/functions/manage-functions#set_timeout_and_memory_allocation. {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"Your function timed out after ~60s. To configure this timeout, see\n      https://firebase.google.com/docs/functions/manage-functions#set_timeout_and_memory_allocation."}}
[info] >  /usr/local/lib/node_modules/firebase-tools/lib/emulator/functionsEmulatorRuntime.js:679 {"user":"/usr/local/lib/node_modules/firebase-tools/lib/emulator/functionsEmulatorRuntime.js:679","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m /usr/local/lib/node_modules/firebase-tools/lib/emulator/functionsEmulatorRuntime.js:679"}}
[info] >              throw new Error("Function timed out."); {"user":"            throw new Error(\"Function timed out.\");","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m             throw new Error(\"Function timed out.\");"}}
[info] >              ^ {"user":"            ^","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m             ^"}}
[info] >   {"user":"","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m "}}
[info] >  Error: Function timed out. {"user":"Error: Function timed out.","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m Error: Function timed out."}}
[info] >      at Timeout._onTimeout (/usr/local/lib/node_modules/firebase-tools/lib/emulator/functionsEmulatorRuntime.js:679:19) {"user":"    at Timeout._onTimeout (/usr/local/lib/node_modules/firebase-tools/lib/emulator/functionsEmulatorRuntime.js:679:19)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     at Timeout._onTimeout (/usr/local/lib/node_modules/firebase-tools/lib/emulator/functionsEmulatorRuntime.js:679:19)"}}
[info] >      at listOnTimeout (internal/timers.js:554:17) {"user":"    at listOnTimeout (internal/timers.js:554:17)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     at listOnTimeout (internal/timers.js:554:17)"}}
[info] >      at processTimers (internal/timers.js:497:7) {"user":"    at processTimers (internal/timers.js:497:7)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     at processTimers (internal/timers.js:497:7)"}}
[debug] [2021-09-23T13:37:47.637Z] [worker-us-central1-api-97d39232-bd32-41e1-8fb9-27c2f64dee41]: exited {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-api-97d39232-bd32-41e1-8fb9-27c2f64dee41]: exited"}}
[debug] [2021-09-23T13:37:47.637Z] [worker-us-central1-api-97d39232-bd32-41e1-8fb9-27c2f64dee41]: FINISHED {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-api-97d39232-bd32-41e1-8fb9-27c2f64dee41]: FINISHED"}}
[debug] [2021-09-23T13:37:47.637Z] [work-queue] {"queueLength":0,"workRunningCount":3}
[warn] ⚠  functions: Your function timed out after ~60s. To configure this timeout, see
      https://firebase.google.com/docs/functions/manage-functions#set_timeout_and_memory_allocation. {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"Your function timed out after ~60s. To configure this timeout, see\n      https://firebase.google.com/docs/functions/manage-functions#set_timeout_and_memory_allocation."}}
[info] >  /usr/local/lib/node_modules/firebase-tools/lib/emulator/functionsEmulatorRuntime.js:679 {"user":"/usr/local/lib/node_modules/firebase-tools/lib/emulator/functionsEmulatorRuntime.js:679","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m /usr/local/lib/node_modules/firebase-tools/lib/emulator/functionsEmulatorRuntime.js:679"}}
[info] >              throw new Error("Function timed out."); {"user":"            throw new Error(\"Function timed out.\");","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m             throw new Error(\"Function timed out.\");"}}
[info] >              ^ {"user":"            ^","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m             ^"}}
[info] >   {"user":"","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m "}}
[info] >  Error: Function timed out. {"user":"Error: Function timed out.","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m Error: Function timed out."}}
[info] >      at Timeout._onTimeout (/usr/local/lib/node_modules/firebase-tools/lib/emulator/functionsEmulatorRuntime.js:679:19) {"user":"    at Timeout._onTimeout (/usr/local/lib/node_modules/firebase-tools/lib/emulator/functionsEmulatorRuntime.js:679:19)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     at Timeout._onTimeout (/usr/local/lib/node_modules/firebase-tools/lib/emulator/functionsEmulatorRuntime.js:679:19)"}}
[info] >      at listOnTimeout (internal/timers.js:554:17) {"user":"    at listOnTimeout (internal/timers.js:554:17)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     at listOnTimeout (internal/timers.js:554:17)"}}
[info] >      at processTimers (internal/timers.js:497:7) {"user":"    at processTimers (internal/timers.js:497:7)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     at processTimers (internal/timers.js:497:7)"}}
[debug] [2021-09-23T13:37:51.160Z] [worker-us-central1-api-62730ec8-a67b-418d-9055-6955fb5442ce]: exited {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-api-62730ec8-a67b-418d-9055-6955fb5442ce]: exited"}}
[debug] [2021-09-23T13:37:51.160Z] [worker-us-central1-api-62730ec8-a67b-418d-9055-6955fb5442ce]: FINISHED {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-api-62730ec8-a67b-418d-9055-6955fb5442ce]: FINISHED"}}
[debug] [2021-09-23T13:37:51.160Z] [work-queue] {"queueLength":0,"workRunningCount":2}
[debug] [2021-09-23T13:37:54.394Z] [work-queue] {"queueLength":1,"workRunningCount":2}
[debug] [2021-09-23T13:37:54.394Z] [work-queue] {"queueLength":0,"workRunningCount":3}
[debug] [2021-09-23T13:37:54.394Z] Accepted request POST /clone-e655c/us-central1/api/payments/create?total=0 --> us-central1-api
[debug] [2021-09-23T13:37:54.394Z] [worker-pool] Cleaned up workers for us-central1-api: 5 --> 3 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Cleaned up workers for us-central1-api: 5 --> 3"}}
[debug] [2021-09-23T13:37:54.394Z] [worker-pool] submitWork(triggerId=us-central1-api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitWork(triggerId=us-central1-api)"}}
[debug] [2021-09-23T13:37:54.395Z] [worker-us-central1-api-c88256f5-d3d4-4881-a441-d877df69d197]: Assigning socketPath: /var/folders/1q/t08t1c7147b3jyhcc6c2xwfr0000gn/T/fire_emu_29015.sock {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-api-c88256f5-d3d4-4881-a441-d877df69d197]: Assigning socketPath: /var/folders/1q/t08t1c7147b3jyhcc6c2xwfr0000gn/T/fire_emu_29015.sock"}}
[debug] [2021-09-23T13:37:54.395Z] [worker-us-central1-api-c88256f5-d3d4-4881-a441-d877df69d197]: BUSY {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-api-c88256f5-d3d4-4881-a441-d877df69d197]: BUSY"}}
[debug] [2021-09-23T13:37:54.395Z] [runtime-status] [29015] Trigger "us-central1-api" has been found, beginning invocation! {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [29015] Trigger \"us-central1-api\" has been found, beginning invocation!"}}
[info] i  functions: Beginning execution of "us-central1-api" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"Beginning execution of \"us-central1-api\""}}
[debug] [2021-09-23T13:37:54.396Z] [runtime-status] [29015] triggerDefinition {"httpsTrigger":{},"name":"api","entryPoint":"api","regions":["us-central1"],"region":"us-central1","id":"us-central1-api"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [29015] triggerDefinition {\"httpsTrigger\":{},\"name\":\"api\",\"entryPoint\":\"api\",\"regions\":[\"us-central1\"],\"region\":\"us-central1\",\"id\":\"us-central1-api\"}"}}
[debug] [2021-09-23T13:37:54.396Z] [runtime-status] [29015] Running us-central1-api in mode HTTPS {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [29015] Running us-central1-api in mode HTTPS"}}
[debug] [2021-09-23T13:37:54.396Z] [runtime-status] [29015] Attempting to listen to socketPath: /var/folders/1q/t08t1c7147b3jyhcc6c2xwfr0000gn/T/fire_emu_29015.sock {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [29015] Attempting to listen to socketPath: /var/folders/1q/t08t1c7147b3jyhcc6c2xwfr0000gn/T/fire_emu_29015.sock"}}
[debug] [2021-09-23T13:37:54.397Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2021-09-23T13:37:54.397Z] [functions] Got req.url=/clone-e655c/us-central1/api/payments/create?total=0, mapping to path=/payments/create?total=0 {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Got req.url=/clone-e655c/us-central1/api/payments/create?total=0, mapping to path=/payments/create?total=0"}}
[debug] [2021-09-23T13:37:54.401Z] [runtime-status] [29015] Ephemeral server handling POST request {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [29015] Ephemeral server handling POST request"}}
[debug] [2021-09-23T13:37:54.401Z] [runtime-status] [29015] Ephemeral server survived. {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [29015] Ephemeral server survived."}}
[info] >  Payment Request received BOOOOOM !! 0 {"user":"Payment Request received BOOOOOM !! 0","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m Payment Request received BOOOOOM !! 0"}}
[info] >  (node:29015) UnhandledPromiseRejectionWarning: Error: This value must be greater than or equal to 1. {"user":"(node:29015) UnhandledPromiseRejectionWarning: Error: This value must be greater than or equal to 1.","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m (node:29015) UnhandledPromiseRejectionWarning: Error: This value must be greater than or equal to 1."}}
[info] >      at Function.generate (/Users/edouardtoulet/Desktop/Js/REACT/amazon-clone/functions/node_modules/stripe/lib/Error.js:40:16) {"user":"    at Function.generate (/Users/edouardtoulet/Desktop/Js/REACT/amazon-clone/functions/node_modules/stripe/lib/Error.js:40:16)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     at Function.generate (/Users/edouardtoulet/Desktop/Js/REACT/amazon-clone/functions/node_modules/stripe/lib/Error.js:40:16)"}}
[info] >      at res.toJSON.then.StripeAPIError.message (/Users/edouardtoulet/Desktop/Js/REACT/amazon-clone/functions/node_modules/stripe/lib/StripeResource.js:220:35) {"user":"    at res.toJSON.then.StripeAPIError.message (/Users/edouardtoulet/Desktop/Js/REACT/amazon-clone/functions/node_modules/stripe/lib/StripeResource.js:220:35)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     at res.toJSON.then.StripeAPIError.message (/Users/edouardtoulet/Desktop/Js/REACT/amazon-clone/functions/node_modules/stripe/lib/StripeResource.js:220:35)"}}
[info] >      at processTicksAndRejections (internal/process/task_queues.js:93:5) {"user":"    at processTicksAndRejections (internal/process/task_queues.js:93:5)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     at processTicksAndRejections (internal/process/task_queues.js:93:5)"}}
[info] >  (Use `node --trace-warnings ...` to show where the warning was created) {"user":"(Use `node --trace-warnings ...` to show where the warning was created)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m (Use `node --trace-warnings ...` to show where the warning was created)"}}
[info] >  (node:29015) UnhandledPromiseRejectionWarning: Unhandled promise rejection. This error originated either by throwing inside of an async function without a catch block, or by rejecting a promise which was not handled with .catch(). To terminate the node process on unhandled promise rejection, use the CLI flag `--unhandled-rejections=strict` (see https://nodejs.org/api/cli.html#cli_unhandled_rejections_mode). (rejection id: 1) {"user":"(node:29015) UnhandledPromiseRejectionWarning: Unhandled promise rejection. This error originated either by throwing inside of an async function without a catch block, or by rejecting a promise which was not handled with .catch(). To terminate the node process on unhandled promise rejection, use the CLI flag `--unhandled-rejections=strict` (see https://nodejs.org/api/cli.html#cli_unhandled_rejections_mode). (rejection id: 1)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m (node:29015) UnhandledPromiseRejectionWarning: Unhandled promise rejection. This error originated either by throwing inside of an async function without a catch block, or by rejecting a promise which was not handled with .catch(). To terminate the node process on unhandled promise rejection, use the CLI flag `--unhandled-rejections=strict` (see https://nodejs.org/api/cli.html#cli_unhandled_rejections_mode). (rejection id: 1)"}}
[info] >  (node:29015) [DEP0018] DeprecationWarning: Unhandled promise rejections are deprecated. In the future, promise rejections that are not handled will terminate the Node.js process with a non-zero exit code. {"user":"(node:29015) [DEP0018] DeprecationWarning: Unhandled promise rejections are deprecated. In the future, promise rejections that are not handled will terminate the Node.js process with a non-zero exit code.","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m (node:29015) [DEP0018] DeprecationWarning: Unhandled promise rejections are deprecated. In the future, promise rejections that are not handled will terminate the Node.js process with a non-zero exit code."}}
[debug] [2021-09-23T13:38:07.335Z] [work-queue] {"queueLength":1,"workRunningCount":3}
[debug] [2021-09-23T13:38:07.335Z] [work-queue] {"queueLength":0,"workRunningCount":4}
[debug] [2021-09-23T13:38:07.335Z] Accepted request POST /clone-e655c/us-central1/api/payments/create?total=0 --> us-central1-api
[debug] [2021-09-23T13:38:07.343Z] [worker-pool] addWorker(us-central1-api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] addWorker(us-central1-api)"}}
[debug] [2021-09-23T13:38:07.343Z] [worker-pool] Adding worker with key us-central1-api, total=4 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Adding worker with key us-central1-api, total=4"}}
[debug] [2021-09-23T13:38:07.343Z] [worker-pool] submitWork(triggerId=us-central1-api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitWork(triggerId=us-central1-api)"}}
[debug] [2021-09-23T13:38:07.343Z] [worker-us-central1-api-7158087e-02da-4ddd-a810-6e7699b0b81e]: Assigning socketPath: /var/folders/1q/t08t1c7147b3jyhcc6c2xwfr0000gn/T/fire_emu_29030.sock {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-api-7158087e-02da-4ddd-a810-6e7699b0b81e]: Assigning socketPath: /var/folders/1q/t08t1c7147b3jyhcc6c2xwfr0000gn/T/fire_emu_29030.sock"}}
[debug] [2021-09-23T13:38:07.343Z] [worker-us-central1-api-7158087e-02da-4ddd-a810-6e7699b0b81e]: BUSY {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-api-7158087e-02da-4ddd-a810-6e7699b0b81e]: BUSY"}}
[debug] [2021-09-23T13:38:08.234Z] [runtime-status] [29030] Functions runtime initialized. {"cwd":"/Users/edouardtoulet/Desktop/Js/REACT/amazon-clone/functions","node_version":"14.15.5"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [29030] Functions runtime initialized. {\"cwd\":\"/Users/edouardtoulet/Desktop/Js/REACT/amazon-clone/functions\",\"node_version\":\"14.15.5\"}"}}
[debug] [2021-09-23T13:38:08.274Z] [runtime-status] [29030] Disabled runtime features: undefined {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [29030] Disabled runtime features: undefined"}}
[debug] [2021-09-23T13:38:08.314Z] [runtime-status] [29030] Resolved module firebase-admin {"declared":true,"installed":true,"version":"9.11.1","resolution":"/Users/edouardtoulet/Desktop/Js/REACT/amazon-clone/functions/node_modules/firebase-admin/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [29030] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"9.11.1\",\"resolution\":\"/Users/edouardtoulet/Desktop/Js/REACT/amazon-clone/functions/node_modules/firebase-admin/lib/index.js\"}"}}
[debug] [2021-09-23T13:38:08.319Z] [runtime-status] [29030] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.15.7","resolution":"/Users/edouardtoulet/Desktop/Js/REACT/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [29030] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.15.7\",\"resolution\":\"/Users/edouardtoulet/Desktop/Js/REACT/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2021-09-23T13:38:08.322Z] [runtime-status] [29030] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.15.7","resolution":"/Users/edouardtoulet/Desktop/Js/REACT/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [29030] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.15.7\",\"resolution\":\"/Users/edouardtoulet/Desktop/Js/REACT/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2021-09-23T13:38:08.324Z] [runtime-status] [29030] Outgoing network have been stubbed. [{"name":"http","status":"mocked"},{"name":"http","status":"mocked"},{"name":"https","status":"mocked"},{"name":"https","status":"mocked"},{"name":"net","status":"mocked"}] {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [29030] Outgoing network have been stubbed. [{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"net\",\"status\":\"mocked\"}]"}}
[debug] [2021-09-23T13:38:08.324Z] [runtime-status] [29030] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.15.7","resolution":"/Users/edouardtoulet/Desktop/Js/REACT/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [29030] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.15.7\",\"resolution\":\"/Users/edouardtoulet/Desktop/Js/REACT/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2021-09-23T13:38:08.392Z] [runtime-status] [29030] Checked functions.config() {"config":{}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [29030] Checked functions.config() {\"config\":{}}"}}
[debug] [2021-09-23T13:38:08.392Z] [runtime-status] [29030] firebase-functions has been stubbed. {"functionsResolution":{"declared":true,"installed":true,"version":"3.15.7","resolution":"/Users/edouardtoulet/Desktop/Js/REACT/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [29030] firebase-functions has been stubbed. {\"functionsResolution\":{\"declared\":true,\"installed\":true,\"version\":\"3.15.7\",\"resolution\":\"/Users/edouardtoulet/Desktop/Js/REACT/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}}"}}
[debug] [2021-09-23T13:38:08.393Z] [runtime-status] [29030] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.15.7","resolution":"/Users/edouardtoulet/Desktop/Js/REACT/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [29030] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.15.7\",\"resolution\":\"/Users/edouardtoulet/Desktop/Js/REACT/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2021-09-23T13:38:08.398Z] [runtime-status] [29030] Resolved module firebase-admin {"declared":true,"installed":true,"version":"9.11.1","resolution":"/Users/edouardtoulet/Desktop/Js/REACT/amazon-clone/functions/node_modules/firebase-admin/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [29030] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"9.11.1\",\"resolution\":\"/Users/edouardtoulet/Desktop/Js/REACT/amazon-clone/functions/node_modules/firebase-admin/lib/index.js\"}"}}
[debug] [2021-09-23T13:38:08.399Z] [runtime-status] [29030] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.15.7","resolution":"/Users/edouardtoulet/Desktop/Js/REACT/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [29030] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.15.7\",\"resolution\":\"/Users/edouardtoulet/Desktop/Js/REACT/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2021-09-23T13:38:08.401Z] [runtime-status] [29030] firebase-admin has been stubbed. {"adminResolution":{"declared":true,"installed":true,"version":"9.11.1","resolution":"/Users/edouardtoulet/Desktop/Js/REACT/amazon-clone/functions/node_modules/firebase-admin/lib/index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [29030] firebase-admin has been stubbed. {\"adminResolution\":{\"declared\":true,\"installed\":true,\"version\":\"9.11.1\",\"resolution\":\"/Users/edouardtoulet/Desktop/Js/REACT/amazon-clone/functions/node_modules/firebase-admin/lib/index.js\"}}"}}
[debug] [2021-09-23T13:38:09.021Z] [runtime-status] [29030] Trigger "us-central1-api" has been found, beginning invocation! {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [29030] Trigger \"us-central1-api\" has been found, beginning invocation!"}}
[info] i  functions: Beginning execution of "us-central1-api" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"Beginning execution of \"us-central1-api\""}}
[debug] [2021-09-23T13:38:09.022Z] [runtime-status] [29030] triggerDefinition {"httpsTrigger":{},"name":"api","entryPoint":"api","regions":["us-central1"],"region":"us-central1","id":"us-central1-api"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [29030] triggerDefinition {\"httpsTrigger\":{},\"name\":\"api\",\"entryPoint\":\"api\",\"regions\":[\"us-central1\"],\"region\":\"us-central1\",\"id\":\"us-central1-api\"}"}}
[debug] [2021-09-23T13:38:09.023Z] [runtime-status] [29030] Running us-central1-api in mode HTTPS {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [29030] Running us-central1-api in mode HTTPS"}}
[debug] [2021-09-23T13:38:09.036Z] [runtime-status] [29030] Attempting to listen to socketPath: /var/folders/1q/t08t1c7147b3jyhcc6c2xwfr0000gn/T/fire_emu_29030.sock {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [29030] Attempting to listen to socketPath: /var/folders/1q/t08t1c7147b3jyhcc6c2xwfr0000gn/T/fire_emu_29030.sock"}}
[debug] [2021-09-23T13:38:09.040Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2021-09-23T13:38:09.041Z] [functions] Got req.url=/clone-e655c/us-central1/api/payments/create?total=0, mapping to path=/payments/create?total=0 {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Got req.url=/clone-e655c/us-central1/api/payments/create?total=0, mapping to path=/payments/create?total=0"}}
[debug] [2021-09-23T13:38:09.055Z] [runtime-status] [29030] Ephemeral server handling POST request {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [29030] Ephemeral server handling POST request"}}
[info] >  Payment Request received BOOOOOM !! 0 {"user":"Payment Request received BOOOOOM !! 0","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m Payment Request received BOOOOOM !! 0"}}
[debug] [2021-09-23T13:38:09.172Z] [runtime-status] [29030] Ephemeral server survived. {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [29030] Ephemeral server survived."}}
[info] >  (node:29030) UnhandledPromiseRejectionWarning: Error: This value must be greater than or equal to 1. {"user":"(node:29030) UnhandledPromiseRejectionWarning: Error: This value must be greater than or equal to 1.","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m (node:29030) UnhandledPromiseRejectionWarning: Error: This value must be greater than or equal to 1."}}
[info] >      at Function.generate (/Users/edouardtoulet/Desktop/Js/REACT/amazon-clone/functions/node_modules/stripe/lib/Error.js:40:16) {"user":"    at Function.generate (/Users/edouardtoulet/Desktop/Js/REACT/amazon-clone/functions/node_modules/stripe/lib/Error.js:40:16)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     at Function.generate (/Users/edouardtoulet/Desktop/Js/REACT/amazon-clone/functions/node_modules/stripe/lib/Error.js:40:16)"}}
[info] >      at res.toJSON.then.StripeAPIError.message (/Users/edouardtoulet/Desktop/Js/REACT/amazon-clone/functions/node_modules/stripe/lib/StripeResource.js:220:35) {"user":"    at res.toJSON.then.StripeAPIError.message (/Users/edouardtoulet/Desktop/Js/REACT/amazon-clone/functions/node_modules/stripe/lib/StripeResource.js:220:35)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     at res.toJSON.then.StripeAPIError.message (/Users/edouardtoulet/Desktop/Js/REACT/amazon-clone/functions/node_modules/stripe/lib/StripeResource.js:220:35)"}}
[info] >      at processTicksAndRejections (internal/process/task_queues.js:93:5) {"user":"    at processTicksAndRejections (internal/process/task_queues.js:93:5)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     at processTicksAndRejections (internal/process/task_queues.js:93:5)"}}
[info] >  (Use `node --trace-warnings ...` to show where the warning was created) {"user":"(Use `node --trace-warnings ...` to show where the warning was created)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m (Use `node --trace-warnings ...` to show where the warning was created)"}}
[info] >  (node:29030) UnhandledPromiseRejectionWarning: Unhandled promise rejection. This error originated either by throwing inside of an async function without a catch block, or by rejecting a promise which was not handled with .catch(). To terminate the node process on unhandled promise rejection, use the CLI flag `--unhandled-rejections=strict` (see https://nodejs.org/api/cli.html#cli_unhandled_rejections_mode). (rejection id: 1) {"user":"(node:29030) UnhandledPromiseRejectionWarning: Unhandled promise rejection. This error originated either by throwing inside of an async function without a catch block, or by rejecting a promise which was not handled with .catch(). To terminate the node process on unhandled promise rejection, use the CLI flag `--unhandled-rejections=strict` (see https://nodejs.org/api/cli.html#cli_unhandled_rejections_mode). (rejection id: 1)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m (node:29030) UnhandledPromiseRejectionWarning: Unhandled promise rejection. This error originated either by throwing inside of an async function without a catch block, or by rejecting a promise which was not handled with .catch(). To terminate the node process on unhandled promise rejection, use the CLI flag `--unhandled-rejections=strict` (see https://nodejs.org/api/cli.html#cli_unhandled_rejections_mode). (rejection id: 1)"}}
[info] >  (node:29030) [DEP0018] DeprecationWarning: Unhandled promise rejections are deprecated. In the future, promise rejections that are not handled will terminate the Node.js process with a non-zero exit code. {"user":"(node:29030) [DEP0018] DeprecationWarning: Unhandled promise rejections are deprecated. In the future, promise rejections that are not handled will terminate the Node.js process with a non-zero exit code.","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m (node:29030) [DEP0018] DeprecationWarning: Unhandled promise rejections are deprecated. In the future, promise rejections that are not handled will terminate the Node.js process with a non-zero exit code."}}
[debug] [2021-09-23T13:38:22.551Z] [work-queue] {"queueLength":1,"workRunningCount":4}
[debug] [2021-09-23T13:38:22.551Z] [work-queue] {"queueLength":0,"workRunningCount":5}
[debug] [2021-09-23T13:38:22.551Z] Accepted request POST /clone-e655c/us-central1/api/payments/create?total=0 --> us-central1-api
[debug] [2021-09-23T13:38:22.557Z] [worker-pool] addWorker(us-central1-api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] addWorker(us-central1-api)"}}
[debug] [2021-09-23T13:38:22.558Z] [worker-pool] Adding worker with key us-central1-api, total=5 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Adding worker with key us-central1-api, total=5"}}
[debug] [2021-09-23T13:38:22.558Z] [worker-pool] submitWork(triggerId=us-central1-api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitWork(triggerId=us-central1-api)"}}
[debug] [2021-09-23T13:38:22.558Z] [worker-us-central1-api-26d42491-cde4-4c71-b427-2c4c8e1a1126]: Assigning socketPath: /var/folders/1q/t08t1c7147b3jyhcc6c2xwfr0000gn/T/fire_emu_29045.sock {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-api-26d42491-cde4-4c71-b427-2c4c8e1a1126]: Assigning socketPath: /var/folders/1q/t08t1c7147b3jyhcc6c2xwfr0000gn/T/fire_emu_29045.sock"}}
[debug] [2021-09-23T13:38:22.558Z] [worker-us-central1-api-26d42491-cde4-4c71-b427-2c4c8e1a1126]: BUSY {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-api-26d42491-cde4-4c71-b427-2c4c8e1a1126]: BUSY"}}
[debug] [2021-09-23T13:38:23.342Z] [runtime-status] [29045] Functions runtime initialized. {"cwd":"/Users/edouardtoulet/Desktop/Js/REACT/amazon-clone/functions","node_version":"14.15.5"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [29045] Functions runtime initialized. {\"cwd\":\"/Users/edouardtoulet/Desktop/Js/REACT/amazon-clone/functions\",\"node_version\":\"14.15.5\"}"}}
[debug] [2021-09-23T13:38:23.348Z] [runtime-status] [29045] Disabled runtime features: undefined {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [29045] Disabled runtime features: undefined"}}
[debug] [2021-09-23T13:38:23.352Z] [runtime-status] [29045] Resolved module firebase-admin {"declared":true,"installed":true,"version":"9.11.1","resolution":"/Users/edouardtoulet/Desktop/Js/REACT/amazon-clone/functions/node_modules/firebase-admin/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [29045] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"9.11.1\",\"resolution\":\"/Users/edouardtoulet/Desktop/Js/REACT/amazon-clone/functions/node_modules/firebase-admin/lib/index.js\"}"}}
[debug] [2021-09-23T13:38:23.356Z] [runtime-status] [29045] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.15.7","resolution":"/Users/edouardtoulet/Desktop/Js/REACT/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [29045] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.15.7\",\"resolution\":\"/Users/edouardtoulet/Desktop/Js/REACT/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2021-09-23T13:38:23.359Z] [runtime-status] [29045] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.15.7","resolution":"/Users/edouardtoulet/Desktop/Js/REACT/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [29045] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.15.7\",\"resolution\":\"/Users/edouardtoulet/Desktop/Js/REACT/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2021-09-23T13:38:23.361Z] [runtime-status] [29045] Outgoing network have been stubbed. [{"name":"http","status":"mocked"},{"name":"http","status":"mocked"},{"name":"https","status":"mocked"},{"name":"https","status":"mocked"},{"name":"net","status":"mocked"}] {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [29045] Outgoing network have been stubbed. [{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"net\",\"status\":\"mocked\"}]"}}
[debug] [2021-09-23T13:38:23.363Z] [runtime-status] [29045] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.15.7","resolution":"/Users/edouardtoulet/Desktop/Js/REACT/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [29045] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.15.7\",\"resolution\":\"/Users/edouardtoulet/Desktop/Js/REACT/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2021-09-23T13:38:23.598Z] [runtime-status] [29045] Checked functions.config() {"config":{}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [29045] Checked functions.config() {\"config\":{}}"}}
[debug] [2021-09-23T13:38:23.599Z] [runtime-status] [29045] firebase-functions has been stubbed. {"functionsResolution":{"declared":true,"installed":true,"version":"3.15.7","resolution":"/Users/edouardtoulet/Desktop/Js/REACT/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [29045] firebase-functions has been stubbed. {\"functionsResolution\":{\"declared\":true,\"installed\":true,\"version\":\"3.15.7\",\"resolution\":\"/Users/edouardtoulet/Desktop/Js/REACT/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}}"}}
[debug] [2021-09-23T13:38:23.599Z] [runtime-status] [29045] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.15.7","resolution":"/Users/edouardtoulet/Desktop/Js/REACT/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [29045] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.15.7\",\"resolution\":\"/Users/edouardtoulet/Desktop/Js/REACT/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2021-09-23T13:38:23.601Z] [runtime-status] [29045] Resolved module firebase-admin {"declared":true,"installed":true,"version":"9.11.1","resolution":"/Users/edouardtoulet/Desktop/Js/REACT/amazon-clone/functions/node_modules/firebase-admin/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [29045] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"9.11.1\",\"resolution\":\"/Users/edouardtoulet/Desktop/Js/REACT/amazon-clone/functions/node_modules/firebase-admin/lib/index.js\"}"}}
[debug] [2021-09-23T13:38:23.601Z] [runtime-status] [29045] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.15.7","resolution":"/Users/edouardtoulet/Desktop/Js/REACT/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [29045] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.15.7\",\"resolution\":\"/Users/edouardtoulet/Desktop/Js/REACT/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2021-09-23T13:38:23.602Z] [runtime-status] [29045] firebase-admin has been stubbed. {"adminResolution":{"declared":true,"installed":true,"version":"9.11.1","resolution":"/Users/edouardtoulet/Desktop/Js/REACT/amazon-clone/functions/node_modules/firebase-admin/lib/index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [29045] firebase-admin has been stubbed. {\"adminResolution\":{\"declared\":true,\"installed\":true,\"version\":\"9.11.1\",\"resolution\":\"/Users/edouardtoulet/Desktop/Js/REACT/amazon-clone/functions/node_modules/firebase-admin/lib/index.js\"}}"}}
[debug] [2021-09-23T13:38:24.109Z] [runtime-status] [29045] Trigger "us-central1-api" has been found, beginning invocation! {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [29045] Trigger \"us-central1-api\" has been found, beginning invocation!"}}
[info] i  functions: Beginning execution of "us-central1-api" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"Beginning execution of \"us-central1-api\""}}
[debug] [2021-09-23T13:38:24.112Z] [runtime-status] [29045] triggerDefinition {"httpsTrigger":{},"name":"api","entryPoint":"api","regions":["us-central1"],"region":"us-central1","id":"us-central1-api"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [29045] triggerDefinition {\"httpsTrigger\":{},\"name\":\"api\",\"entryPoint\":\"api\",\"regions\":[\"us-central1\"],\"region\":\"us-central1\",\"id\":\"us-central1-api\"}"}}
[debug] [2021-09-23T13:38:24.112Z] [runtime-status] [29045] Running us-central1-api in mode HTTPS {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [29045] Running us-central1-api in mode HTTPS"}}
[debug] [2021-09-23T13:38:24.118Z] [runtime-status] [29045] Attempting to listen to socketPath: /var/folders/1q/t08t1c7147b3jyhcc6c2xwfr0000gn/T/fire_emu_29045.sock {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [29045] Attempting to listen to socketPath: /var/folders/1q/t08t1c7147b3jyhcc6c2xwfr0000gn/T/fire_emu_29045.sock"}}
[debug] [2021-09-23T13:38:24.122Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2021-09-23T13:38:24.122Z] [functions] Got req.url=/clone-e655c/us-central1/api/payments/create?total=0, mapping to path=/payments/create?total=0 {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Got req.url=/clone-e655c/us-central1/api/payments/create?total=0, mapping to path=/payments/create?total=0"}}
[debug] [2021-09-23T13:38:24.137Z] [runtime-status] [29045] Ephemeral server handling POST request {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [29045] Ephemeral server handling POST request"}}
[info] >  Payment Request received BOOOOOM !! 0 {"user":"Payment Request received BOOOOOM !! 0","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m Payment Request received BOOOOOM !! 0"}}
[debug] [2021-09-23T13:38:24.312Z] [runtime-status] [29045] Ephemeral server survived. {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [29045] Ephemeral server survived."}}
[info] >  (node:29045) UnhandledPromiseRejectionWarning: Error: This value must be greater than or equal to 1. {"user":"(node:29045) UnhandledPromiseRejectionWarning: Error: This value must be greater than or equal to 1.","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m (node:29045) UnhandledPromiseRejectionWarning: Error: This value must be greater than or equal to 1."}}
[info] >      at Function.generate (/Users/edouardtoulet/Desktop/Js/REACT/amazon-clone/functions/node_modules/stripe/lib/Error.js:40:16) {"user":"    at Function.generate (/Users/edouardtoulet/Desktop/Js/REACT/amazon-clone/functions/node_modules/stripe/lib/Error.js:40:16)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     at Function.generate (/Users/edouardtoulet/Desktop/Js/REACT/amazon-clone/functions/node_modules/stripe/lib/Error.js:40:16)"}}
[info] >      at res.toJSON.then.StripeAPIError.message (/Users/edouardtoulet/Desktop/Js/REACT/amazon-clone/functions/node_modules/stripe/lib/StripeResource.js:220:35) {"user":"    at res.toJSON.then.StripeAPIError.message (/Users/edouardtoulet/Desktop/Js/REACT/amazon-clone/functions/node_modules/stripe/lib/StripeResource.js:220:35)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     at res.toJSON.then.StripeAPIError.message (/Users/edouardtoulet/Desktop/Js/REACT/amazon-clone/functions/node_modules/stripe/lib/StripeResource.js:220:35)"}}
[info] >      at processTicksAndRejections (internal/process/task_queues.js:93:5) {"user":"    at processTicksAndRejections (internal/process/task_queues.js:93:5)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     at processTicksAndRejections (internal/process/task_queues.js:93:5)"}}
[info] >  (Use `node --trace-warnings ...` to show where the warning was created) {"user":"(Use `node --trace-warnings ...` to show where the warning was created)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m (Use `node --trace-warnings ...` to show where the warning was created)"}}
[info] >  (node:29045) UnhandledPromiseRejectionWarning: Unhandled promise rejection. This error originated either by throwing inside of an async function without a catch block, or by rejecting a promise which was not handled with .catch(). To terminate the node process on unhandled promise rejection, use the CLI flag `--unhandled-rejections=strict` (see https://nodejs.org/api/cli.html#cli_unhandled_rejections_mode). (rejection id: 1) {"user":"(node:29045) UnhandledPromiseRejectionWarning: Unhandled promise rejection. This error originated either by throwing inside of an async function without a catch block, or by rejecting a promise which was not handled with .catch(). To terminate the node process on unhandled promise rejection, use the CLI flag `--unhandled-rejections=strict` (see https://nodejs.org/api/cli.html#cli_unhandled_rejections_mode). (rejection id: 1)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m (node:29045) UnhandledPromiseRejectionWarning: Unhandled promise rejection. This error originated either by throwing inside of an async function without a catch block, or by rejecting a promise which was not handled with .catch(). To terminate the node process on unhandled promise rejection, use the CLI flag `--unhandled-rejections=strict` (see https://nodejs.org/api/cli.html#cli_unhandled_rejections_mode). (rejection id: 1)"}}
[info] >  (node:29045) [DEP0018] DeprecationWarning: Unhandled promise rejections are deprecated. In the future, promise rejections that are not handled will terminate the Node.js process with a non-zero exit code. {"user":"(node:29045) [DEP0018] DeprecationWarning: Unhandled promise rejections are deprecated. In the future, promise rejections that are not handled will terminate the Node.js process with a non-zero exit code.","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m (node:29045) [DEP0018] DeprecationWarning: Unhandled promise rejections are deprecated. In the future, promise rejections that are not handled will terminate the Node.js process with a non-zero exit code."}}
[debug] [2021-09-23T13:38:25.097Z] [work-queue] {"queueLength":1,"workRunningCount":5}
[debug] [2021-09-23T13:38:25.097Z] [work-queue] {"queueLength":0,"workRunningCount":6}
[debug] [2021-09-23T13:38:25.097Z] Accepted request POST /clone-e655c/us-central1/api/payments/create?total=0 --> us-central1-api
[debug] [2021-09-23T13:38:25.103Z] [worker-pool] addWorker(us-central1-api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] addWorker(us-central1-api)"}}
[debug] [2021-09-23T13:38:25.103Z] [worker-pool] Adding worker with key us-central1-api, total=6 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Adding worker with key us-central1-api, total=6"}}
[debug] [2021-09-23T13:38:25.103Z] [worker-pool] submitWork(triggerId=us-central1-api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitWork(triggerId=us-central1-api)"}}
[debug] [2021-09-23T13:38:25.103Z] [worker-us-central1-api-c250a3cc-6d4a-4159-811a-3c7ea72e3760]: Assigning socketPath: /var/folders/1q/t08t1c7147b3jyhcc6c2xwfr0000gn/T/fire_emu_29047.sock {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-api-c250a3cc-6d4a-4159-811a-3c7ea72e3760]: Assigning socketPath: /var/folders/1q/t08t1c7147b3jyhcc6c2xwfr0000gn/T/fire_emu_29047.sock"}}
[debug] [2021-09-23T13:38:25.103Z] [worker-us-central1-api-c250a3cc-6d4a-4159-811a-3c7ea72e3760]: BUSY {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-api-c250a3cc-6d4a-4159-811a-3c7ea72e3760]: BUSY"}}
[debug] [2021-09-23T13:38:25.823Z] [runtime-status] [29047] Functions runtime initialized. {"cwd":"/Users/edouardtoulet/Desktop/Js/REACT/amazon-clone/functions","node_version":"14.15.5"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [29047] Functions runtime initialized. {\"cwd\":\"/Users/edouardtoulet/Desktop/Js/REACT/amazon-clone/functions\",\"node_version\":\"14.15.5\"}"}}
[debug] [2021-09-23T13:38:25.871Z] [runtime-status] [29047] Disabled runtime features: undefined {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [29047] Disabled runtime features: undefined"}}
[debug] [2021-09-23T13:38:25.877Z] [runtime-status] [29047] Resolved module firebase-admin {"declared":true,"installed":true,"version":"9.11.1","resolution":"/Users/edouardtoulet/Desktop/Js/REACT/amazon-clone/functions/node_modules/firebase-admin/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [29047] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"9.11.1\",\"resolution\":\"/Users/edouardtoulet/Desktop/Js/REACT/amazon-clone/functions/node_modules/firebase-admin/lib/index.js\"}"}}
[debug] [2021-09-23T13:38:25.892Z] [runtime-status] [29047] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.15.7","resolution":"/Users/edouardtoulet/Desktop/Js/REACT/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [29047] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.15.7\",\"resolution\":\"/Users/edouardtoulet/Desktop/Js/REACT/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2021-09-23T13:38:25.905Z] [runtime-status] [29047] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.15.7","resolution":"/Users/edouardtoulet/Desktop/Js/REACT/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [29047] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.15.7\",\"resolution\":\"/Users/edouardtoulet/Desktop/Js/REACT/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2021-09-23T13:38:25.907Z] [runtime-status] [29047] Outgoing network have been stubbed. [{"name":"http","status":"mocked"},{"name":"http","status":"mocked"},{"name":"https","status":"mocked"},{"name":"https","status":"mocked"},{"name":"net","status":"mocked"}] {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [29047] Outgoing network have been stubbed. [{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"net\",\"status\":\"mocked\"}]"}}
[debug] [2021-09-23T13:38:25.908Z] [runtime-status] [29047] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.15.7","resolution":"/Users/edouardtoulet/Desktop/Js/REACT/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [29047] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.15.7\",\"resolution\":\"/Users/edouardtoulet/Desktop/Js/REACT/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2021-09-23T13:38:26.050Z] [runtime-status] [29047] Checked functions.config() {"config":{}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [29047] Checked functions.config() {\"config\":{}}"}}
[debug] [2021-09-23T13:38:26.050Z] [runtime-status] [29047] firebase-functions has been stubbed. {"functionsResolution":{"declared":true,"installed":true,"version":"3.15.7","resolution":"/Users/edouardtoulet/Desktop/Js/REACT/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [29047] firebase-functions has been stubbed. {\"functionsResolution\":{\"declared\":true,\"installed\":true,\"version\":\"3.15.7\",\"resolution\":\"/Users/edouardtoulet/Desktop/Js/REACT/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}}"}}
[debug] [2021-09-23T13:38:26.051Z] [runtime-status] [29047] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.15.7","resolution":"/Users/edouardtoulet/Desktop/Js/REACT/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [29047] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.15.7\",\"resolution\":\"/Users/edouardtoulet/Desktop/Js/REACT/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2021-09-23T13:38:26.056Z] [runtime-status] [29047] Resolved module firebase-admin {"declared":true,"installed":true,"version":"9.11.1","resolution":"/Users/edouardtoulet/Desktop/Js/REACT/amazon-clone/functions/node_modules/firebase-admin/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [29047] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"9.11.1\",\"resolution\":\"/Users/edouardtoulet/Desktop/Js/REACT/amazon-clone/functions/node_modules/firebase-admin/lib/index.js\"}"}}
[debug] [2021-09-23T13:38:26.064Z] [runtime-status] [29047] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.15.7","resolution":"/Users/edouardtoulet/Desktop/Js/REACT/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [29047] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.15.7\",\"resolution\":\"/Users/edouardtoulet/Desktop/Js/REACT/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2021-09-23T13:38:26.065Z] [runtime-status] [29047] firebase-admin has been stubbed. {"adminResolution":{"declared":true,"installed":true,"version":"9.11.1","resolution":"/Users/edouardtoulet/Desktop/Js/REACT/amazon-clone/functions/node_modules/firebase-admin/lib/index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [29047] firebase-admin has been stubbed. {\"adminResolution\":{\"declared\":true,\"installed\":true,\"version\":\"9.11.1\",\"resolution\":\"/Users/edouardtoulet/Desktop/Js/REACT/amazon-clone/functions/node_modules/firebase-admin/lib/index.js\"}}"}}
[debug] [2021-09-23T13:38:26.627Z] [runtime-status] [29047] Trigger "us-central1-api" has been found, beginning invocation! {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [29047] Trigger \"us-central1-api\" has been found, beginning invocation!"}}
[info] i  functions: Beginning execution of "us-central1-api" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"Beginning execution of \"us-central1-api\""}}
[debug] [2021-09-23T13:38:26.628Z] [runtime-status] [29047] triggerDefinition {"httpsTrigger":{},"name":"api","entryPoint":"api","regions":["us-central1"],"region":"us-central1","id":"us-central1-api"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [29047] triggerDefinition {\"httpsTrigger\":{},\"name\":\"api\",\"entryPoint\":\"api\",\"regions\":[\"us-central1\"],\"region\":\"us-central1\",\"id\":\"us-central1-api\"}"}}
[debug] [2021-09-23T13:38:26.629Z] [runtime-status] [29047] Running us-central1-api in mode HTTPS {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [29047] Running us-central1-api in mode HTTPS"}}
[debug] [2021-09-23T13:38:26.635Z] [runtime-status] [29047] Attempting to listen to socketPath: /var/folders/1q/t08t1c7147b3jyhcc6c2xwfr0000gn/T/fire_emu_29047.sock {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [29047] Attempting to listen to socketPath: /var/folders/1q/t08t1c7147b3jyhcc6c2xwfr0000gn/T/fire_emu_29047.sock"}}
[debug] [2021-09-23T13:38:26.668Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2021-09-23T13:38:26.668Z] [functions] Got req.url=/clone-e655c/us-central1/api/payments/create?total=0, mapping to path=/payments/create?total=0 {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Got req.url=/clone-e655c/us-central1/api/payments/create?total=0, mapping to path=/payments/create?total=0"}}
[debug] [2021-09-23T13:38:26.691Z] [runtime-status] [29047] Ephemeral server handling POST request {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [29047] Ephemeral server handling POST request"}}
[info] >  Payment Request received BOOOOOM !! 0 {"user":"Payment Request received BOOOOOM !! 0","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m Payment Request received BOOOOOM !! 0"}}
[debug] [2021-09-23T13:38:26.738Z] [runtime-status] [29047] Ephemeral server survived. {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [29047] Ephemeral server survived."}}
[info] >  (node:29047) UnhandledPromiseRejectionWarning: Error: This value must be greater than or equal to 1. {"user":"(node:29047) UnhandledPromiseRejectionWarning: Error: This value must be greater than or equal to 1.","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m (node:29047) UnhandledPromiseRejectionWarning: Error: This value must be greater than or equal to 1."}}
[info] >      at Function.generate (/Users/edouardtoulet/Desktop/Js/REACT/amazon-clone/functions/node_modules/stripe/lib/Error.js:40:16) {"user":"    at Function.generate (/Users/edouardtoulet/Desktop/Js/REACT/amazon-clone/functions/node_modules/stripe/lib/Error.js:40:16)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     at Function.generate (/Users/edouardtoulet/Desktop/Js/REACT/amazon-clone/functions/node_modules/stripe/lib/Error.js:40:16)"}}
[info] >      at res.toJSON.then.StripeAPIError.message (/Users/edouardtoulet/Desktop/Js/REACT/amazon-clone/functions/node_modules/stripe/lib/StripeResource.js:220:35) {"user":"    at res.toJSON.then.StripeAPIError.message (/Users/edouardtoulet/Desktop/Js/REACT/amazon-clone/functions/node_modules/stripe/lib/StripeResource.js:220:35)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     at res.toJSON.then.StripeAPIError.message (/Users/edouardtoulet/Desktop/Js/REACT/amazon-clone/functions/node_modules/stripe/lib/StripeResource.js:220:35)"}}
[info] >      at processTicksAndRejections (internal/process/task_queues.js:93:5) {"user":"    at processTicksAndRejections (internal/process/task_queues.js:93:5)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     at processTicksAndRejections (internal/process/task_queues.js:93:5)"}}
[info] >  (Use `node --trace-warnings ...` to show where the warning was created) {"user":"(Use `node --trace-warnings ...` to show where the warning was created)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m (Use `node --trace-warnings ...` to show where the warning was created)"}}
[info] >  (node:29047) UnhandledPromiseRejectionWarning: Unhandled promise rejection. This error originated either by throwing inside of an async function without a catch block, or by rejecting a promise which was not handled with .catch(). To terminate the node process on unhandled promise rejection, use the CLI flag `--unhandled-rejections=strict` (see https://nodejs.org/api/cli.html#cli_unhandled_rejections_mode). (rejection id: 1) {"user":"(node:29047) UnhandledPromiseRejectionWarning: Unhandled promise rejection. This error originated either by throwing inside of an async function without a catch block, or by rejecting a promise which was not handled with .catch(). To terminate the node process on unhandled promise rejection, use the CLI flag `--unhandled-rejections=strict` (see https://nodejs.org/api/cli.html#cli_unhandled_rejections_mode). (rejection id: 1)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m (node:29047) UnhandledPromiseRejectionWarning: Unhandled promise rejection. This error originated either by throwing inside of an async function without a catch block, or by rejecting a promise which was not handled with .catch(). To terminate the node process on unhandled promise rejection, use the CLI flag `--unhandled-rejections=strict` (see https://nodejs.org/api/cli.html#cli_unhandled_rejections_mode). (rejection id: 1)"}}
[info] >  (node:29047) [DEP0018] DeprecationWarning: Unhandled promise rejections are deprecated. In the future, promise rejections that are not handled will terminate the Node.js process with a non-zero exit code. {"user":"(node:29047) [DEP0018] DeprecationWarning: Unhandled promise rejections are deprecated. In the future, promise rejections that are not handled will terminate the Node.js process with a non-zero exit code.","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m (node:29047) [DEP0018] DeprecationWarning: Unhandled promise rejections are deprecated. In the future, promise rejections that are not handled will terminate the Node.js process with a non-zero exit code."}}
[warn] ⚠  functions: Your function timed out after ~60s. To configure this timeout, see
      https://firebase.google.com/docs/functions/manage-functions#set_timeout_and_memory_allocation. {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"Your function timed out after ~60s. To configure this timeout, see\n      https://firebase.google.com/docs/functions/manage-functions#set_timeout_and_memory_allocation."}}
[info] >  /usr/local/lib/node_modules/firebase-tools/lib/emulator/functionsEmulatorRuntime.js:679 {"user":"/usr/local/lib/node_modules/firebase-tools/lib/emulator/functionsEmulatorRuntime.js:679","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m /usr/local/lib/node_modules/firebase-tools/lib/emulator/functionsEmulatorRuntime.js:679"}}
[info] >              throw new Error("Function timed out."); {"user":"            throw new Error(\"Function timed out.\");","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m             throw new Error(\"Function timed out.\");"}}
[info] >              ^ {"user":"            ^","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m             ^"}}
[info] >   {"user":"","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m "}}
[info] >  Error: Function timed out. {"user":"Error: Function timed out.","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m Error: Function timed out."}}
[info] >      at Timeout._onTimeout (/usr/local/lib/node_modules/firebase-tools/lib/emulator/functionsEmulatorRuntime.js:679:19) {"user":"    at Timeout._onTimeout (/usr/local/lib/node_modules/firebase-tools/lib/emulator/functionsEmulatorRuntime.js:679:19)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     at Timeout._onTimeout (/usr/local/lib/node_modules/firebase-tools/lib/emulator/functionsEmulatorRuntime.js:679:19)"}}
[info] >      at listOnTimeout (internal/timers.js:554:17) {"user":"    at listOnTimeout (internal/timers.js:554:17)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     at listOnTimeout (internal/timers.js:554:17)"}}
[info] >      at processTimers (internal/timers.js:497:7) {"user":"    at processTimers (internal/timers.js:497:7)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     at processTimers (internal/timers.js:497:7)"}}
[debug] [2021-09-23T13:38:28.721Z] [worker-us-central1-api-82e212ba-1610-4d66-87b6-9f5454b75446]: exited {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-api-82e212ba-1610-4d66-87b6-9f5454b75446]: exited"}}
[debug] [2021-09-23T13:38:28.721Z] [worker-us-central1-api-82e212ba-1610-4d66-87b6-9f5454b75446]: FINISHED {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-api-82e212ba-1610-4d66-87b6-9f5454b75446]: FINISHED"}}
[debug] [2021-09-23T13:38:28.721Z] [work-queue] {"queueLength":0,"workRunningCount":5}
[warn] ⚠  functions: Your function timed out after ~60s. To configure this timeout, see
      https://firebase.google.com/docs/functions/manage-functions#set_timeout_and_memory_allocation. {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"Your function timed out after ~60s. To configure this timeout, see\n      https://firebase.google.com/docs/functions/manage-functions#set_timeout_and_memory_allocation."}}
[info] >  /usr/local/lib/node_modules/firebase-tools/lib/emulator/functionsEmulatorRuntime.js:679 {"user":"/usr/local/lib/node_modules/firebase-tools/lib/emulator/functionsEmulatorRuntime.js:679","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m /usr/local/lib/node_modules/firebase-tools/lib/emulator/functionsEmulatorRuntime.js:679"}}
[info] >              throw new Error("Function timed out."); {"user":"            throw new Error(\"Function timed out.\");","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m             throw new Error(\"Function timed out.\");"}}
[info] >              ^ {"user":"            ^","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m             ^"}}
[info] >   {"user":"","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m "}}
[info] >  Error: Function timed out. {"user":"Error: Function timed out.","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m Error: Function timed out."}}
[info] >      at Timeout._onTimeout (/usr/local/lib/node_modules/firebase-tools/lib/emulator/functionsEmulatorRuntime.js:679:19) {"user":"    at Timeout._onTimeout (/usr/local/lib/node_modules/firebase-tools/lib/emulator/functionsEmulatorRuntime.js:679:19)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     at Timeout._onTimeout (/usr/local/lib/node_modules/firebase-tools/lib/emulator/functionsEmulatorRuntime.js:679:19)"}}
[info] >      at listOnTimeout (internal/timers.js:554:17) {"user":"    at listOnTimeout (internal/timers.js:554:17)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     at listOnTimeout (internal/timers.js:554:17)"}}
[info] >      at processTimers (internal/timers.js:497:7) {"user":"    at processTimers (internal/timers.js:497:7)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     at processTimers (internal/timers.js:497:7)"}}
[debug] [2021-09-23T13:38:31.034Z] [worker-us-central1-api-168f5d06-bbc5-4bb8-ba12-86fa9b058a0d]: exited {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-api-168f5d06-bbc5-4bb8-ba12-86fa9b058a0d]: exited"}}
[debug] [2021-09-23T13:38:31.034Z] [worker-us-central1-api-168f5d06-bbc5-4bb8-ba12-86fa9b058a0d]: FINISHED {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-api-168f5d06-bbc5-4bb8-ba12-86fa9b058a0d]: FINISHED"}}
[debug] [2021-09-23T13:38:31.034Z] [work-queue] {"queueLength":0,"workRunningCount":4}
[debug] [2021-09-23T13:38:48.156Z] [work-queue] {"queueLength":1,"workRunningCount":4}
[debug] [2021-09-23T13:38:48.156Z] [work-queue] {"queueLength":0,"workRunningCount":5}
[debug] [2021-09-23T13:38:48.156Z] Accepted request POST /clone-e655c/us-central1/api/payments/create?total=0 --> us-central1-api
[debug] [2021-09-23T13:38:48.156Z] [worker-pool] Cleaned up workers for us-central1-api: 6 --> 4 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Cleaned up workers for us-central1-api: 6 --> 4"}}
[debug] [2021-09-23T13:38:48.163Z] [worker-pool] addWorker(us-central1-api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] addWorker(us-central1-api)"}}
[debug] [2021-09-23T13:38:48.164Z] [worker-pool] Adding worker with key us-central1-api, total=5 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Adding worker with key us-central1-api, total=5"}}
[debug] [2021-09-23T13:38:48.164Z] [worker-pool] submitWork(triggerId=us-central1-api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitWork(triggerId=us-central1-api)"}}
[debug] [2021-09-23T13:38:48.164Z] [worker-us-central1-api-d2310461-219e-42f2-af3c-55314292ee58]: Assigning socketPath: /var/folders/1q/t08t1c7147b3jyhcc6c2xwfr0000gn/T/fire_emu_29062.sock {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-api-d2310461-219e-42f2-af3c-55314292ee58]: Assigning socketPath: /var/folders/1q/t08t1c7147b3jyhcc6c2xwfr0000gn/T/fire_emu_29062.sock"}}
[debug] [2021-09-23T13:38:48.164Z] [worker-us-central1-api-d2310461-219e-42f2-af3c-55314292ee58]: BUSY {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-api-d2310461-219e-42f2-af3c-55314292ee58]: BUSY"}}
[debug] [2021-09-23T13:38:49.778Z] [runtime-status] [29062] Functions runtime initialized. {"cwd":"/Users/edouardtoulet/Desktop/Js/REACT/amazon-clone/functions","node_version":"14.15.5"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [29062] Functions runtime initialized. {\"cwd\":\"/Users/edouardtoulet/Desktop/Js/REACT/amazon-clone/functions\",\"node_version\":\"14.15.5\"}"}}
[debug] [2021-09-23T13:38:49.785Z] [runtime-status] [29062] Disabled runtime features: undefined {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [29062] Disabled runtime features: undefined"}}
[debug] [2021-09-23T13:38:49.791Z] [runtime-status] [29062] Resolved module firebase-admin {"declared":true,"installed":true,"version":"9.11.1","resolution":"/Users/edouardtoulet/Desktop/Js/REACT/amazon-clone/functions/node_modules/firebase-admin/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [29062] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"9.11.1\",\"resolution\":\"/Users/edouardtoulet/Desktop/Js/REACT/amazon-clone/functions/node_modules/firebase-admin/lib/index.js\"}"}}
[debug] [2021-09-23T13:38:49.795Z] [runtime-status] [29062] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.15.7","resolution":"/Users/edouardtoulet/Desktop/Js/REACT/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [29062] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.15.7\",\"resolution\":\"/Users/edouardtoulet/Desktop/Js/REACT/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2021-09-23T13:38:49.798Z] [runtime-status] [29062] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.15.7","resolution":"/Users/edouardtoulet/Desktop/Js/REACT/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [29062] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.15.7\",\"resolution\":\"/Users/edouardtoulet/Desktop/Js/REACT/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2021-09-23T13:38:49.799Z] [runtime-status] [29062] Outgoing network have been stubbed. [{"name":"http","status":"mocked"},{"name":"http","status":"mocked"},{"name":"https","status":"mocked"},{"name":"https","status":"mocked"},{"name":"net","status":"mocked"}] {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [29062] Outgoing network have been stubbed. [{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"net\",\"status\":\"mocked\"}]"}}
[debug] [2021-09-23T13:38:49.800Z] [runtime-status] [29062] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.15.7","resolution":"/Users/edouardtoulet/Desktop/Js/REACT/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [29062] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.15.7\",\"resolution\":\"/Users/edouardtoulet/Desktop/Js/REACT/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2021-09-23T13:38:49.856Z] [runtime-status] [29062] Checked functions.config() {"config":{}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [29062] Checked functions.config() {\"config\":{}}"}}
[debug] [2021-09-23T13:38:49.857Z] [runtime-status] [29062] firebase-functions has been stubbed. {"functionsResolution":{"declared":true,"installed":true,"version":"3.15.7","resolution":"/Users/edouardtoulet/Desktop/Js/REACT/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [29062] firebase-functions has been stubbed. {\"functionsResolution\":{\"declared\":true,\"installed\":true,\"version\":\"3.15.7\",\"resolution\":\"/Users/edouardtoulet/Desktop/Js/REACT/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}}"}}
[debug] [2021-09-23T13:38:49.857Z] [runtime-status] [29062] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.15.7","resolution":"/Users/edouardtoulet/Desktop/Js/REACT/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [29062] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.15.7\",\"resolution\":\"/Users/edouardtoulet/Desktop/Js/REACT/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2021-09-23T13:38:49.859Z] [runtime-status] [29062] Resolved module firebase-admin {"declared":true,"installed":true,"version":"9.11.1","resolution":"/Users/edouardtoulet/Desktop/Js/REACT/amazon-clone/functions/node_modules/firebase-admin/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [29062] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"9.11.1\",\"resolution\":\"/Users/edouardtoulet/Desktop/Js/REACT/amazon-clone/functions/node_modules/firebase-admin/lib/index.js\"}"}}
[debug] [2021-09-23T13:38:49.859Z] [runtime-status] [29062] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.15.7","resolution":"/Users/edouardtoulet/Desktop/Js/REACT/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [29062] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.15.7\",\"resolution\":\"/Users/edouardtoulet/Desktop/Js/REACT/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2021-09-23T13:38:49.859Z] [runtime-status] [29062] firebase-admin has been stubbed. {"adminResolution":{"declared":true,"installed":true,"version":"9.11.1","resolution":"/Users/edouardtoulet/Desktop/Js/REACT/amazon-clone/functions/node_modules/firebase-admin/lib/index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [29062] firebase-admin has been stubbed. {\"adminResolution\":{\"declared\":true,\"installed\":true,\"version\":\"9.11.1\",\"resolution\":\"/Users/edouardtoulet/Desktop/Js/REACT/amazon-clone/functions/node_modules/firebase-admin/lib/index.js\"}}"}}
[debug] [2021-09-23T13:38:50.017Z] [runtime-status] [29062] Trigger "us-central1-api" has been found, beginning invocation! {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [29062] Trigger \"us-central1-api\" has been found, beginning invocation!"}}
[info] i  functions: Beginning execution of "us-central1-api" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"Beginning execution of \"us-central1-api\""}}
[debug] [2021-09-23T13:38:50.018Z] [runtime-status] [29062] triggerDefinition {"httpsTrigger":{},"name":"api","entryPoint":"api","regions":["us-central1"],"region":"us-central1","id":"us-central1-api"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [29062] triggerDefinition {\"httpsTrigger\":{},\"name\":\"api\",\"entryPoint\":\"api\",\"regions\":[\"us-central1\"],\"region\":\"us-central1\",\"id\":\"us-central1-api\"}"}}
[debug] [2021-09-23T13:38:50.018Z] [runtime-status] [29062] Running us-central1-api in mode HTTPS {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [29062] Running us-central1-api in mode HTTPS"}}
[debug] [2021-09-23T13:38:50.023Z] [runtime-status] [29062] Attempting to listen to socketPath: /var/folders/1q/t08t1c7147b3jyhcc6c2xwfr0000gn/T/fire_emu_29062.sock {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [29062] Attempting to listen to socketPath: /var/folders/1q/t08t1c7147b3jyhcc6c2xwfr0000gn/T/fire_emu_29062.sock"}}
[debug] [2021-09-23T13:38:50.026Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2021-09-23T13:38:50.026Z] [functions] Got req.url=/clone-e655c/us-central1/api/payments/create?total=0, mapping to path=/payments/create?total=0 {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Got req.url=/clone-e655c/us-central1/api/payments/create?total=0, mapping to path=/payments/create?total=0"}}
[debug] [2021-09-23T13:38:50.035Z] [runtime-status] [29062] Ephemeral server handling POST request {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [29062] Ephemeral server handling POST request"}}
[info] >  Payment Request received BOOOOOM !! 0 {"user":"Payment Request received BOOOOOM !! 0","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m Payment Request received BOOOOOM !! 0"}}
[debug] [2021-09-23T13:38:50.052Z] [runtime-status] [29062] Ephemeral server survived. {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [29062] Ephemeral server survived."}}
[info] >  (node:29062) UnhandledPromiseRejectionWarning: Error: This value must be greater than or equal to 1. {"user":"(node:29062) UnhandledPromiseRejectionWarning: Error: This value must be greater than or equal to 1.","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m (node:29062) UnhandledPromiseRejectionWarning: Error: This value must be greater than or equal to 1."}}
[info] >      at Function.generate (/Users/edouardtoulet/Desktop/Js/REACT/amazon-clone/functions/node_modules/stripe/lib/Error.js:40:16) {"user":"    at Function.generate (/Users/edouardtoulet/Desktop/Js/REACT/amazon-clone/functions/node_modules/stripe/lib/Error.js:40:16)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     at Function.generate (/Users/edouardtoulet/Desktop/Js/REACT/amazon-clone/functions/node_modules/stripe/lib/Error.js:40:16)"}}
[info] >      at res.toJSON.then.StripeAPIError.message (/Users/edouardtoulet/Desktop/Js/REACT/amazon-clone/functions/node_modules/stripe/lib/StripeResource.js:220:35) {"user":"    at res.toJSON.then.StripeAPIError.message (/Users/edouardtoulet/Desktop/Js/REACT/amazon-clone/functions/node_modules/stripe/lib/StripeResource.js:220:35)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     at res.toJSON.then.StripeAPIError.message (/Users/edouardtoulet/Desktop/Js/REACT/amazon-clone/functions/node_modules/stripe/lib/StripeResource.js:220:35)"}}
[info] >      at processTicksAndRejections (internal/process/task_queues.js:93:5) {"user":"    at processTicksAndRejections (internal/process/task_queues.js:93:5)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     at processTicksAndRejections (internal/process/task_queues.js:93:5)"}}
[info] >  (Use `node --trace-warnings ...` to show where the warning was created) {"user":"(Use `node --trace-warnings ...` to show where the warning was created)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m (Use `node --trace-warnings ...` to show where the warning was created)"}}
[info] >  (node:29062) UnhandledPromiseRejectionWarning: Unhandled promise rejection. This error originated either by throwing inside of an async function without a catch block, or by rejecting a promise which was not handled with .catch(). To terminate the node process on unhandled promise rejection, use the CLI flag `--unhandled-rejections=strict` (see https://nodejs.org/api/cli.html#cli_unhandled_rejections_mode). (rejection id: 1) {"user":"(node:29062) UnhandledPromiseRejectionWarning: Unhandled promise rejection. This error originated either by throwing inside of an async function without a catch block, or by rejecting a promise which was not handled with .catch(). To terminate the node process on unhandled promise rejection, use the CLI flag `--unhandled-rejections=strict` (see https://nodejs.org/api/cli.html#cli_unhandled_rejections_mode). (rejection id: 1)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m (node:29062) UnhandledPromiseRejectionWarning: Unhandled promise rejection. This error originated either by throwing inside of an async function without a catch block, or by rejecting a promise which was not handled with .catch(). To terminate the node process on unhandled promise rejection, use the CLI flag `--unhandled-rejections=strict` (see https://nodejs.org/api/cli.html#cli_unhandled_rejections_mode). (rejection id: 1)"}}
[info] >  (node:29062) [DEP0018] DeprecationWarning: Unhandled promise rejections are deprecated. In the future, promise rejections that are not handled will terminate the Node.js process with a non-zero exit code. {"user":"(node:29062) [DEP0018] DeprecationWarning: Unhandled promise rejections are deprecated. In the future, promise rejections that are not handled will terminate the Node.js process with a non-zero exit code.","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m (node:29062) [DEP0018] DeprecationWarning: Unhandled promise rejections are deprecated. In the future, promise rejections that are not handled will terminate the Node.js process with a non-zero exit code."}}
[debug] [2021-09-23T13:38:51.048Z] [work-queue] {"queueLength":1,"workRunningCount":5}
[debug] [2021-09-23T13:38:51.048Z] [work-queue] {"queueLength":0,"workRunningCount":6}
[debug] [2021-09-23T13:38:51.048Z] Accepted request POST /clone-e655c/us-central1/api/payments/create?total=0 --> us-central1-api
[debug] [2021-09-23T13:38:51.053Z] [worker-pool] addWorker(us-central1-api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] addWorker(us-central1-api)"}}
[debug] [2021-09-23T13:38:51.053Z] [worker-pool] Adding worker with key us-central1-api, total=6 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Adding worker with key us-central1-api, total=6"}}
[debug] [2021-09-23T13:38:51.053Z] [worker-pool] submitWork(triggerId=us-central1-api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitWork(triggerId=us-central1-api)"}}
[debug] [2021-09-23T13:38:51.053Z] [worker-us-central1-api-2d64eea0-fd36-4e00-8b83-a5eea8858c1e]: Assigning socketPath: /var/folders/1q/t08t1c7147b3jyhcc6c2xwfr0000gn/T/fire_emu_29064.sock {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-api-2d64eea0-fd36-4e00-8b83-a5eea8858c1e]: Assigning socketPath: /var/folders/1q/t08t1c7147b3jyhcc6c2xwfr0000gn/T/fire_emu_29064.sock"}}
[debug] [2021-09-23T13:38:51.053Z] [worker-us-central1-api-2d64eea0-fd36-4e00-8b83-a5eea8858c1e]: BUSY {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-api-2d64eea0-fd36-4e00-8b83-a5eea8858c1e]: BUSY"}}
[debug] [2021-09-23T13:38:51.447Z] [runtime-status] [29064] Functions runtime initialized. {"cwd":"/Users/edouardtoulet/Desktop/Js/REACT/amazon-clone/functions","node_version":"14.15.5"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [29064] Functions runtime initialized. {\"cwd\":\"/Users/edouardtoulet/Desktop/Js/REACT/amazon-clone/functions\",\"node_version\":\"14.15.5\"}"}}
[debug] [2021-09-23T13:38:51.454Z] [runtime-status] [29064] Disabled runtime features: undefined {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [29064] Disabled runtime features: undefined"}}
[debug] [2021-09-23T13:38:51.458Z] [runtime-status] [29064] Resolved module firebase-admin {"declared":true,"installed":true,"version":"9.11.1","resolution":"/Users/edouardtoulet/Desktop/Js/REACT/amazon-clone/functions/node_modules/firebase-admin/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [29064] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"9.11.1\",\"resolution\":\"/Users/edouardtoulet/Desktop/Js/REACT/amazon-clone/functions/node_modules/firebase-admin/lib/index.js\"}"}}
[debug] [2021-09-23T13:38:51.461Z] [runtime-status] [29064] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.15.7","resolution":"/Users/edouardtoulet/Desktop/Js/REACT/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [29064] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.15.7\",\"resolution\":\"/Users/edouardtoulet/Desktop/Js/REACT/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2021-09-23T13:38:51.463Z] [runtime-status] [29064] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.15.7","resolution":"/Users/edouardtoulet/Desktop/Js/REACT/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [29064] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.15.7\",\"resolution\":\"/Users/edouardtoulet/Desktop/Js/REACT/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2021-09-23T13:38:51.465Z] [runtime-status] [29064] Outgoing network have been stubbed. [{"name":"http","status":"mocked"},{"name":"http","status":"mocked"},{"name":"https","status":"mocked"},{"name":"https","status":"mocked"},{"name":"net","status":"mocked"}] {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [29064] Outgoing network have been stubbed. [{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"net\",\"status\":\"mocked\"}]"}}
[debug] [2021-09-23T13:38:51.466Z] [runtime-status] [29064] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.15.7","resolution":"/Users/edouardtoulet/Desktop/Js/REACT/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [29064] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.15.7\",\"resolution\":\"/Users/edouardtoulet/Desktop/Js/REACT/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2021-09-23T13:38:51.686Z] [runtime-status] [29064] Checked functions.config() {"config":{}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [29064] Checked functions.config() {\"config\":{}}"}}
[debug] [2021-09-23T13:38:51.689Z] [runtime-status] [29064] firebase-functions has been stubbed. {"functionsResolution":{"declared":true,"installed":true,"version":"3.15.7","resolution":"/Users/edouardtoulet/Desktop/Js/REACT/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [29064] firebase-functions has been stubbed. {\"functionsResolution\":{\"declared\":true,\"installed\":true,\"version\":\"3.15.7\",\"resolution\":\"/Users/edouardtoulet/Desktop/Js/REACT/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}}"}}
[debug] [2021-09-23T13:38:51.696Z] [runtime-status] [29064] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.15.7","resolution":"/Users/edouardtoulet/Desktop/Js/REACT/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [29064] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.15.7\",\"resolution\":\"/Users/edouardtoulet/Desktop/Js/REACT/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2021-09-23T13:38:51.698Z] [runtime-status] [29064] Resolved module firebase-admin {"declared":true,"installed":true,"version":"9.11.1","resolution":"/Users/edouardtoulet/Desktop/Js/REACT/amazon-clone/functions/node_modules/firebase-admin/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [29064] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"9.11.1\",\"resolution\":\"/Users/edouardtoulet/Desktop/Js/REACT/amazon-clone/functions/node_modules/firebase-admin/lib/index.js\"}"}}
[debug] [2021-09-23T13:38:51.702Z] [runtime-status] [29064] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.15.7","resolution":"/Users/edouardtoulet/Desktop/Js/REACT/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [29064] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.15.7\",\"resolution\":\"/Users/edouardtoulet/Desktop/Js/REACT/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2021-09-23T13:38:51.703Z] [runtime-status] [29064] firebase-admin has been stubbed. {"adminResolution":{"declared":true,"installed":true,"version":"9.11.1","resolution":"/Users/edouardtoulet/Desktop/Js/REACT/amazon-clone/functions/node_modules/firebase-admin/lib/index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [29064] firebase-admin has been stubbed. {\"adminResolution\":{\"declared\":true,\"installed\":true,\"version\":\"9.11.1\",\"resolution\":\"/Users/edouardtoulet/Desktop/Js/REACT/amazon-clone/functions/node_modules/firebase-admin/lib/index.js\"}}"}}
[debug] [2021-09-23T13:38:52.098Z] [runtime-status] [29064] Trigger "us-central1-api" has been found, beginning invocation! {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [29064] Trigger \"us-central1-api\" has been found, beginning invocation!"}}
[info] i  functions: Beginning execution of "us-central1-api" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"Beginning execution of \"us-central1-api\""}}
[debug] [2021-09-23T13:38:52.105Z] [runtime-status] [29064] triggerDefinition {"httpsTrigger":{},"name":"api","entryPoint":"api","regions":["us-central1"],"region":"us-central1","id":"us-central1-api"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [29064] triggerDefinition {\"httpsTrigger\":{},\"name\":\"api\",\"entryPoint\":\"api\",\"regions\":[\"us-central1\"],\"region\":\"us-central1\",\"id\":\"us-central1-api\"}"}}
[debug] [2021-09-23T13:38:52.191Z] [runtime-status] [29064] Running us-central1-api in mode HTTPS {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [29064] Running us-central1-api in mode HTTPS"}}
[debug] [2021-09-23T13:38:52.211Z] [runtime-status] [29064] Attempting to listen to socketPath: /var/folders/1q/t08t1c7147b3jyhcc6c2xwfr0000gn/T/fire_emu_29064.sock {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [29064] Attempting to listen to socketPath: /var/folders/1q/t08t1c7147b3jyhcc6c2xwfr0000gn/T/fire_emu_29064.sock"}}
[debug] [2021-09-23T13:38:52.216Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2021-09-23T13:38:52.216Z] [functions] Got req.url=/clone-e655c/us-central1/api/payments/create?total=0, mapping to path=/payments/create?total=0 {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Got req.url=/clone-e655c/us-central1/api/payments/create?total=0, mapping to path=/payments/create?total=0"}}
[debug] [2021-09-23T13:38:52.229Z] [runtime-status] [29064] Ephemeral server handling POST request {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [29064] Ephemeral server handling POST request"}}
[info] >  Payment Request received BOOOOOM !! 0 {"user":"Payment Request received BOOOOOM !! 0","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m Payment Request received BOOOOOM !! 0"}}
[debug] [2021-09-23T13:38:52.252Z] [runtime-status] [29064] Ephemeral server survived. {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [29064] Ephemeral server survived."}}
[info] >  (node:29064) UnhandledPromiseRejectionWarning: Error: This value must be greater than or equal to 1. {"user":"(node:29064) UnhandledPromiseRejectionWarning: Error: This value must be greater than or equal to 1.","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m (node:29064) UnhandledPromiseRejectionWarning: Error: This value must be greater than or equal to 1."}}
[info] >      at Function.generate (/Users/edouardtoulet/Desktop/Js/REACT/amazon-clone/functions/node_modules/stripe/lib/Error.js:40:16) {"user":"    at Function.generate (/Users/edouardtoulet/Desktop/Js/REACT/amazon-clone/functions/node_modules/stripe/lib/Error.js:40:16)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     at Function.generate (/Users/edouardtoulet/Desktop/Js/REACT/amazon-clone/functions/node_modules/stripe/lib/Error.js:40:16)"}}
[info] >      at res.toJSON.then.StripeAPIError.message (/Users/edouardtoulet/Desktop/Js/REACT/amazon-clone/functions/node_modules/stripe/lib/StripeResource.js:220:35) {"user":"    at res.toJSON.then.StripeAPIError.message (/Users/edouardtoulet/Desktop/Js/REACT/amazon-clone/functions/node_modules/stripe/lib/StripeResource.js:220:35)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     at res.toJSON.then.StripeAPIError.message (/Users/edouardtoulet/Desktop/Js/REACT/amazon-clone/functions/node_modules/stripe/lib/StripeResource.js:220:35)"}}
[info] >      at processTicksAndRejections (internal/process/task_queues.js:93:5) {"user":"    at processTicksAndRejections (internal/process/task_queues.js:93:5)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     at processTicksAndRejections (internal/process/task_queues.js:93:5)"}}
[info] >  (Use `node --trace-warnings ...` to show where the warning was created) {"user":"(Use `node --trace-warnings ...` to show where the warning was created)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m (Use `node --trace-warnings ...` to show where the warning was created)"}}
[info] >  (node:29064) UnhandledPromiseRejectionWarning: Unhandled promise rejection. This error originated either by throwing inside of an async function without a catch block, or by rejecting a promise which was not handled with .catch(). To terminate the node process on unhandled promise rejection, use the CLI flag `--unhandled-rejections=strict` (see https://nodejs.org/api/cli.html#cli_unhandled_rejections_mode). (rejection id: 1) {"user":"(node:29064) UnhandledPromiseRejectionWarning: Unhandled promise rejection. This error originated either by throwing inside of an async function without a catch block, or by rejecting a promise which was not handled with .catch(). To terminate the node process on unhandled promise rejection, use the CLI flag `--unhandled-rejections=strict` (see https://nodejs.org/api/cli.html#cli_unhandled_rejections_mode). (rejection id: 1)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m (node:29064) UnhandledPromiseRejectionWarning: Unhandled promise rejection. This error originated either by throwing inside of an async function without a catch block, or by rejecting a promise which was not handled with .catch(). To terminate the node process on unhandled promise rejection, use the CLI flag `--unhandled-rejections=strict` (see https://nodejs.org/api/cli.html#cli_unhandled_rejections_mode). (rejection id: 1)"}}
[info] >  (node:29064) [DEP0018] DeprecationWarning: Unhandled promise rejections are deprecated. In the future, promise rejections that are not handled will terminate the Node.js process with a non-zero exit code. {"user":"(node:29064) [DEP0018] DeprecationWarning: Unhandled promise rejections are deprecated. In the future, promise rejections that are not handled will terminate the Node.js process with a non-zero exit code.","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m (node:29064) [DEP0018] DeprecationWarning: Unhandled promise rejections are deprecated. In the future, promise rejections that are not handled will terminate the Node.js process with a non-zero exit code."}}
[warn] ⚠  functions: Your function timed out after ~60s. To configure this timeout, see
      https://firebase.google.com/docs/functions/manage-functions#set_timeout_and_memory_allocation. {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"Your function timed out after ~60s. To configure this timeout, see\n      https://firebase.google.com/docs/functions/manage-functions#set_timeout_and_memory_allocation."}}
[info] >  /usr/local/lib/node_modules/firebase-tools/lib/emulator/functionsEmulatorRuntime.js:679 {"user":"/usr/local/lib/node_modules/firebase-tools/lib/emulator/functionsEmulatorRuntime.js:679","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m /usr/local/lib/node_modules/firebase-tools/lib/emulator/functionsEmulatorRuntime.js:679"}}
[info] >              throw new Error("Function timed out."); {"user":"            throw new Error(\"Function timed out.\");","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m             throw new Error(\"Function timed out.\");"}}
[info] >              ^ {"user":"            ^","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m             ^"}}
[info] >   {"user":"","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m "}}
[info] >  Error: Function timed out. {"user":"Error: Function timed out.","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m Error: Function timed out."}}
[info] >      at Timeout._onTimeout (/usr/local/lib/node_modules/firebase-tools/lib/emulator/functionsEmulatorRuntime.js:679:19) {"user":"    at Timeout._onTimeout (/usr/local/lib/node_modules/firebase-tools/lib/emulator/functionsEmulatorRuntime.js:679:19)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     at Timeout._onTimeout (/usr/local/lib/node_modules/firebase-tools/lib/emulator/functionsEmulatorRuntime.js:679:19)"}}
[info] >      at listOnTimeout (internal/timers.js:554:17) {"user":"    at listOnTimeout (internal/timers.js:554:17)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     at listOnTimeout (internal/timers.js:554:17)"}}
[info] >      at processTimers (internal/timers.js:497:7) {"user":"    at processTimers (internal/timers.js:497:7)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     at processTimers (internal/timers.js:497:7)"}}
[debug] [2021-09-23T13:38:54.409Z] [worker-us-central1-api-c88256f5-d3d4-4881-a441-d877df69d197]: exited {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-api-c88256f5-d3d4-4881-a441-d877df69d197]: exited"}}
[debug] [2021-09-23T13:38:54.409Z] [worker-us-central1-api-c88256f5-d3d4-4881-a441-d877df69d197]: FINISHED {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-api-c88256f5-d3d4-4881-a441-d877df69d197]: FINISHED"}}
[debug] [2021-09-23T13:38:54.410Z] [work-queue] {"queueLength":0,"workRunningCount":5}
[warn] ⚠  functions: Your function timed out after ~60s. To configure this timeout, see
      https://firebase.google.com/docs/functions/manage-functions#set_timeout_and_memory_allocation. {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"Your function timed out after ~60s. To configure this timeout, see\n      https://firebase.google.com/docs/functions/manage-functions#set_timeout_and_memory_allocation."}}
[info] >  /usr/local/lib/node_modules/firebase-tools/lib/emulator/functionsEmulatorRuntime.js:679 {"user":"/usr/local/lib/node_modules/firebase-tools/lib/emulator/functionsEmulatorRuntime.js:679","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m /usr/local/lib/node_modules/firebase-tools/lib/emulator/functionsEmulatorRuntime.js:679"}}
[info] >              throw new Error("Function timed out."); {"user":"            throw new Error(\"Function timed out.\");","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m             throw new Error(\"Function timed out.\");"}}
[info] >              ^ {"user":"            ^","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m             ^"}}
[info] >   {"user":"","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m "}}
[info] >  Error: Function timed out. {"user":"Error: Function timed out.","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m Error: Function timed out."}}
[info] >      at Timeout._onTimeout (/usr/local/lib/node_modules/firebase-tools/lib/emulator/functionsEmulatorRuntime.js:679:19) {"user":"    at Timeout._onTimeout (/usr/local/lib/node_modules/firebase-tools/lib/emulator/functionsEmulatorRuntime.js:679:19)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     at Timeout._onTimeout (/usr/local/lib/node_modules/firebase-tools/lib/emulator/functionsEmulatorRuntime.js:679:19)"}}
[info] >      at listOnTimeout (internal/timers.js:554:17) {"user":"    at listOnTimeout (internal/timers.js:554:17)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     at listOnTimeout (internal/timers.js:554:17)"}}
[info] >      at processTimers (internal/timers.js:497:7) {"user":"    at processTimers (internal/timers.js:497:7)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     at processTimers (internal/timers.js:497:7)"}}
[debug] [2021-09-23T13:39:09.041Z] [worker-us-central1-api-7158087e-02da-4ddd-a810-6e7699b0b81e]: exited {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-api-7158087e-02da-4ddd-a810-6e7699b0b81e]: exited"}}
[debug] [2021-09-23T13:39:09.041Z] [worker-us-central1-api-7158087e-02da-4ddd-a810-6e7699b0b81e]: FINISHED {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-api-7158087e-02da-4ddd-a810-6e7699b0b81e]: FINISHED"}}
[debug] [2021-09-23T13:39:09.041Z] [work-queue] {"queueLength":0,"workRunningCount":4}
[debug] [2021-09-23T13:39:16.391Z] [work-queue] {"queueLength":1,"workRunningCount":4}
[debug] [2021-09-23T13:39:16.391Z] [work-queue] {"queueLength":0,"workRunningCount":5}
[debug] [2021-09-23T13:39:16.391Z] Accepted request POST /clone-e655c/us-central1/api/payments/create?total=0 --> us-central1-api
[debug] [2021-09-23T13:39:16.391Z] [worker-pool] Cleaned up workers for us-central1-api: 6 --> 4 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Cleaned up workers for us-central1-api: 6 --> 4"}}
[debug] [2021-09-23T13:39:16.397Z] [worker-pool] addWorker(us-central1-api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] addWorker(us-central1-api)"}}
[debug] [2021-09-23T13:39:16.397Z] [worker-pool] Adding worker with key us-central1-api, total=5 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Adding worker with key us-central1-api, total=5"}}
[debug] [2021-09-23T13:39:16.397Z] [worker-pool] submitWork(triggerId=us-central1-api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitWork(triggerId=us-central1-api)"}}
[debug] [2021-09-23T13:39:16.397Z] [worker-us-central1-api-9e29518e-db55-444e-8d57-09f2d1d95465]: Assigning socketPath: /var/folders/1q/t08t1c7147b3jyhcc6c2xwfr0000gn/T/fire_emu_29085.sock {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-api-9e29518e-db55-444e-8d57-09f2d1d95465]: Assigning socketPath: /var/folders/1q/t08t1c7147b3jyhcc6c2xwfr0000gn/T/fire_emu_29085.sock"}}
[debug] [2021-09-23T13:39:16.397Z] [worker-us-central1-api-9e29518e-db55-444e-8d57-09f2d1d95465]: BUSY {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-api-9e29518e-db55-444e-8d57-09f2d1d95465]: BUSY"}}
[debug] [2021-09-23T13:39:17.216Z] [runtime-status] [29085] Functions runtime initialized. {"cwd":"/Users/edouardtoulet/Desktop/Js/REACT/amazon-clone/functions","node_version":"14.15.5"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [29085] Functions runtime initialized. {\"cwd\":\"/Users/edouardtoulet/Desktop/Js/REACT/amazon-clone/functions\",\"node_version\":\"14.15.5\"}"}}
[debug] [2021-09-23T13:39:17.262Z] [runtime-status] [29085] Disabled runtime features: undefined {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [29085] Disabled runtime features: undefined"}}
[debug] [2021-09-23T13:39:17.292Z] [runtime-status] [29085] Resolved module firebase-admin {"declared":true,"installed":true,"version":"9.11.1","resolution":"/Users/edouardtoulet/Desktop/Js/REACT/amazon-clone/functions/node_modules/firebase-admin/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [29085] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"9.11.1\",\"resolution\":\"/Users/edouardtoulet/Desktop/Js/REACT/amazon-clone/functions/node_modules/firebase-admin/lib/index.js\"}"}}
[debug] [2021-09-23T13:39:17.299Z] [runtime-status] [29085] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.15.7","resolution":"/Users/edouardtoulet/Desktop/Js/REACT/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [29085] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.15.7\",\"resolution\":\"/Users/edouardtoulet/Desktop/Js/REACT/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2021-09-23T13:39:17.305Z] [runtime-status] [29085] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.15.7","resolution":"/Users/edouardtoulet/Desktop/Js/REACT/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [29085] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.15.7\",\"resolution\":\"/Users/edouardtoulet/Desktop/Js/REACT/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2021-09-23T13:39:17.308Z] [runtime-status] [29085] Outgoing network have been stubbed. [{"name":"http","status":"mocked"},{"name":"http","status":"mocked"},{"name":"https","status":"mocked"},{"name":"https","status":"mocked"},{"name":"net","status":"mocked"}] {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [29085] Outgoing network have been stubbed. [{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"net\",\"status\":\"mocked\"}]"}}
[debug] [2021-09-23T13:39:17.309Z] [runtime-status] [29085] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.15.7","resolution":"/Users/edouardtoulet/Desktop/Js/REACT/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [29085] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.15.7\",\"resolution\":\"/Users/edouardtoulet/Desktop/Js/REACT/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2021-09-23T13:39:17.449Z] [runtime-status] [29085] Checked functions.config() {"config":{}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [29085] Checked functions.config() {\"config\":{}}"}}
[debug] [2021-09-23T13:39:17.449Z] [runtime-status] [29085] firebase-functions has been stubbed. {"functionsResolution":{"declared":true,"installed":true,"version":"3.15.7","resolution":"/Users/edouardtoulet/Desktop/Js/REACT/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [29085] firebase-functions has been stubbed. {\"functionsResolution\":{\"declared\":true,\"installed\":true,\"version\":\"3.15.7\",\"resolution\":\"/Users/edouardtoulet/Desktop/Js/REACT/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}}"}}
[debug] [2021-09-23T13:39:17.450Z] [runtime-status] [29085] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.15.7","resolution":"/Users/edouardtoulet/Desktop/Js/REACT/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [29085] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.15.7\",\"resolution\":\"/Users/edouardtoulet/Desktop/Js/REACT/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2021-09-23T13:39:17.451Z] [runtime-status] [29085] Resolved module firebase-admin {"declared":true,"installed":true,"version":"9.11.1","resolution":"/Users/edouardtoulet/Desktop/Js/REACT/amazon-clone/functions/node_modules/firebase-admin/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [29085] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"9.11.1\",\"resolution\":\"/Users/edouardtoulet/Desktop/Js/REACT/amazon-clone/functions/node_modules/firebase-admin/lib/index.js\"}"}}
[debug] [2021-09-23T13:39:17.451Z] [runtime-status] [29085] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.15.7","resolution":"/Users/edouardtoulet/Desktop/Js/REACT/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [29085] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.15.7\",\"resolution\":\"/Users/edouardtoulet/Desktop/Js/REACT/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2021-09-23T13:39:17.451Z] [runtime-status] [29085] firebase-admin has been stubbed. {"adminResolution":{"declared":true,"installed":true,"version":"9.11.1","resolution":"/Users/edouardtoulet/Desktop/Js/REACT/amazon-clone/functions/node_modules/firebase-admin/lib/index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [29085] firebase-admin has been stubbed. {\"adminResolution\":{\"declared\":true,\"installed\":true,\"version\":\"9.11.1\",\"resolution\":\"/Users/edouardtoulet/Desktop/Js/REACT/amazon-clone/functions/node_modules/firebase-admin/lib/index.js\"}}"}}
[debug] [2021-09-23T13:39:18.165Z] [runtime-status] [29085] Trigger "us-central1-api" has been found, beginning invocation! {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [29085] Trigger \"us-central1-api\" has been found, beginning invocation!"}}
[info] i  functions: Beginning execution of "us-central1-api" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"Beginning execution of \"us-central1-api\""}}
[debug] [2021-09-23T13:39:18.167Z] [runtime-status] [29085] triggerDefinition {"httpsTrigger":{},"name":"api","entryPoint":"api","regions":["us-central1"],"region":"us-central1","id":"us-central1-api"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [29085] triggerDefinition {\"httpsTrigger\":{},\"name\":\"api\",\"entryPoint\":\"api\",\"regions\":[\"us-central1\"],\"region\":\"us-central1\",\"id\":\"us-central1-api\"}"}}
[debug] [2021-09-23T13:39:18.168Z] [runtime-status] [29085] Running us-central1-api in mode HTTPS {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [29085] Running us-central1-api in mode HTTPS"}}
[debug] [2021-09-23T13:39:18.190Z] [runtime-status] [29085] Attempting to listen to socketPath: /var/folders/1q/t08t1c7147b3jyhcc6c2xwfr0000gn/T/fire_emu_29085.sock {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [29085] Attempting to listen to socketPath: /var/folders/1q/t08t1c7147b3jyhcc6c2xwfr0000gn/T/fire_emu_29085.sock"}}
[debug] [2021-09-23T13:39:18.196Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2021-09-23T13:39:18.196Z] [functions] Got req.url=/clone-e655c/us-central1/api/payments/create?total=0, mapping to path=/payments/create?total=0 {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Got req.url=/clone-e655c/us-central1/api/payments/create?total=0, mapping to path=/payments/create?total=0"}}
[debug] [2021-09-23T13:39:18.209Z] [runtime-status] [29085] Ephemeral server handling POST request {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [29085] Ephemeral server handling POST request"}}
[info] >  Payment Request received BOOOOOM !! 0 {"user":"Payment Request received BOOOOOM !! 0","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m Payment Request received BOOOOOM !! 0"}}
[debug] [2021-09-23T13:39:18.272Z] [runtime-status] [29085] Ephemeral server survived. {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [29085] Ephemeral server survived."}}
[info] >  (node:29085) UnhandledPromiseRejectionWarning: Error: This value must be greater than or equal to 1. {"user":"(node:29085) UnhandledPromiseRejectionWarning: Error: This value must be greater than or equal to 1.","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m (node:29085) UnhandledPromiseRejectionWarning: Error: This value must be greater than or equal to 1."}}
[info] >      at Function.generate (/Users/edouardtoulet/Desktop/Js/REACT/amazon-clone/functions/node_modules/stripe/lib/Error.js:40:16) {"user":"    at Function.generate (/Users/edouardtoulet/Desktop/Js/REACT/amazon-clone/functions/node_modules/stripe/lib/Error.js:40:16)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     at Function.generate (/Users/edouardtoulet/Desktop/Js/REACT/amazon-clone/functions/node_modules/stripe/lib/Error.js:40:16)"}}
[info] >      at res.toJSON.then.StripeAPIError.message (/Users/edouardtoulet/Desktop/Js/REACT/amazon-clone/functions/node_modules/stripe/lib/StripeResource.js:220:35) {"user":"    at res.toJSON.then.StripeAPIError.message (/Users/edouardtoulet/Desktop/Js/REACT/amazon-clone/functions/node_modules/stripe/lib/StripeResource.js:220:35)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     at res.toJSON.then.StripeAPIError.message (/Users/edouardtoulet/Desktop/Js/REACT/amazon-clone/functions/node_modules/stripe/lib/StripeResource.js:220:35)"}}
[info] >      at processTicksAndRejections (internal/process/task_queues.js:93:5) {"user":"    at processTicksAndRejections (internal/process/task_queues.js:93:5)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     at processTicksAndRejections (internal/process/task_queues.js:93:5)"}}
[info] >  (Use `node --trace-warnings ...` to show where the warning was created) {"user":"(Use `node --trace-warnings ...` to show where the warning was created)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m (Use `node --trace-warnings ...` to show where the warning was created)"}}
[info] >  (node:29085) UnhandledPromiseRejectionWarning: Unhandled promise rejection. This error originated either by throwing inside of an async function without a catch block, or by rejecting a promise which was not handled with .catch(). To terminate the node process on unhandled promise rejection, use the CLI flag `--unhandled-rejections=strict` (see https://nodejs.org/api/cli.html#cli_unhandled_rejections_mode). (rejection id: 1) {"user":"(node:29085) UnhandledPromiseRejectionWarning: Unhandled promise rejection. This error originated either by throwing inside of an async function without a catch block, or by rejecting a promise which was not handled with .catch(). To terminate the node process on unhandled promise rejection, use the CLI flag `--unhandled-rejections=strict` (see https://nodejs.org/api/cli.html#cli_unhandled_rejections_mode). (rejection id: 1)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m (node:29085) UnhandledPromiseRejectionWarning: Unhandled promise rejection. This error originated either by throwing inside of an async function without a catch block, or by rejecting a promise which was not handled with .catch(). To terminate the node process on unhandled promise rejection, use the CLI flag `--unhandled-rejections=strict` (see https://nodejs.org/api/cli.html#cli_unhandled_rejections_mode). (rejection id: 1)"}}
[info] >  (node:29085) [DEP0018] DeprecationWarning: Unhandled promise rejections are deprecated. In the future, promise rejections that are not handled will terminate the Node.js process with a non-zero exit code. {"user":"(node:29085) [DEP0018] DeprecationWarning: Unhandled promise rejections are deprecated. In the future, promise rejections that are not handled will terminate the Node.js process with a non-zero exit code.","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m (node:29085) [DEP0018] DeprecationWarning: Unhandled promise rejections are deprecated. In the future, promise rejections that are not handled will terminate the Node.js process with a non-zero exit code."}}
[warn] ⚠  functions: Your function timed out after ~60s. To configure this timeout, see
      https://firebase.google.com/docs/functions/manage-functions#set_timeout_and_memory_allocation. {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"Your function timed out after ~60s. To configure this timeout, see\n      https://firebase.google.com/docs/functions/manage-functions#set_timeout_and_memory_allocation."}}
[info] >  /usr/local/lib/node_modules/firebase-tools/lib/emulator/functionsEmulatorRuntime.js:679 {"user":"/usr/local/lib/node_modules/firebase-tools/lib/emulator/functionsEmulatorRuntime.js:679","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m /usr/local/lib/node_modules/firebase-tools/lib/emulator/functionsEmulatorRuntime.js:679"}}
[info] >              throw new Error("Function timed out."); {"user":"            throw new Error(\"Function timed out.\");","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m             throw new Error(\"Function timed out.\");"}}
[info] >              ^ {"user":"            ^","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m             ^"}}
[info] >   {"user":"","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m "}}
[info] >  Error: Function timed out. {"user":"Error: Function timed out.","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m Error: Function timed out."}}
[info] >      at Timeout._onTimeout (/usr/local/lib/node_modules/firebase-tools/lib/emulator/functionsEmulatorRuntime.js:679:19) {"user":"    at Timeout._onTimeout (/usr/local/lib/node_modules/firebase-tools/lib/emulator/functionsEmulatorRuntime.js:679:19)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     at Timeout._onTimeout (/usr/local/lib/node_modules/firebase-tools/lib/emulator/functionsEmulatorRuntime.js:679:19)"}}
[info] >      at listOnTimeout (internal/timers.js:554:17) {"user":"    at listOnTimeout (internal/timers.js:554:17)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     at listOnTimeout (internal/timers.js:554:17)"}}
[info] >      at processTimers (internal/timers.js:497:7) {"user":"    at processTimers (internal/timers.js:497:7)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     at processTimers (internal/timers.js:497:7)"}}
[debug] [2021-09-23T13:39:24.134Z] [worker-us-central1-api-26d42491-cde4-4c71-b427-2c4c8e1a1126]: exited {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-api-26d42491-cde4-4c71-b427-2c4c8e1a1126]: exited"}}
[debug] [2021-09-23T13:39:24.134Z] [worker-us-central1-api-26d42491-cde4-4c71-b427-2c4c8e1a1126]: FINISHED {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-api-26d42491-cde4-4c71-b427-2c4c8e1a1126]: FINISHED"}}
[debug] [2021-09-23T13:39:24.134Z] [work-queue] {"queueLength":0,"workRunningCount":4}
[warn] ⚠  functions: Your function timed out after ~60s. To configure this timeout, see
      https://firebase.google.com/docs/functions/manage-functions#set_timeout_and_memory_allocation. {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"Your function timed out after ~60s. To configure this timeout, see\n      https://firebase.google.com/docs/functions/manage-functions#set_timeout_and_memory_allocation."}}
[info] >  /usr/local/lib/node_modules/firebase-tools/lib/emulator/functionsEmulatorRuntime.js:679 {"user":"/usr/local/lib/node_modules/firebase-tools/lib/emulator/functionsEmulatorRuntime.js:679","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m /usr/local/lib/node_modules/firebase-tools/lib/emulator/functionsEmulatorRuntime.js:679"}}
[info] >              throw new Error("Function timed out."); {"user":"            throw new Error(\"Function timed out.\");","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m             throw new Error(\"Function timed out.\");"}}
[info] >              ^ {"user":"            ^","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m             ^"}}
[info] >   {"user":"","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m "}}
[info] >  Error: Function timed out. {"user":"Error: Function timed out.","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m Error: Function timed out."}}
[info] >      at Timeout._onTimeout (/usr/local/lib/node_modules/firebase-tools/lib/emulator/functionsEmulatorRuntime.js:679:19) {"user":"    at Timeout._onTimeout (/usr/local/lib/node_modules/firebase-tools/lib/emulator/functionsEmulatorRuntime.js:679:19)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     at Timeout._onTimeout (/usr/local/lib/node_modules/firebase-tools/lib/emulator/functionsEmulatorRuntime.js:679:19)"}}
[info] >      at listOnTimeout (internal/timers.js:554:17) {"user":"    at listOnTimeout (internal/timers.js:554:17)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     at listOnTimeout (internal/timers.js:554:17)"}}
[info] >      at processTimers (internal/timers.js:497:7) {"user":"    at processTimers (internal/timers.js:497:7)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     at processTimers (internal/timers.js:497:7)"}}
[debug] [2021-09-23T13:39:26.649Z] [worker-us-central1-api-c250a3cc-6d4a-4159-811a-3c7ea72e3760]: exited {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-api-c250a3cc-6d4a-4159-811a-3c7ea72e3760]: exited"}}
[debug] [2021-09-23T13:39:26.650Z] [worker-us-central1-api-c250a3cc-6d4a-4159-811a-3c7ea72e3760]: FINISHED {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-api-c250a3cc-6d4a-4159-811a-3c7ea72e3760]: FINISHED"}}
[debug] [2021-09-23T13:39:26.650Z] [work-queue] {"queueLength":0,"workRunningCount":3}
[warn] ⚠  functions: Your function timed out after ~60s. To configure this timeout, see
      https://firebase.google.com/docs/functions/manage-functions#set_timeout_and_memory_allocation. {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"Your function timed out after ~60s. To configure this timeout, see\n      https://firebase.google.com/docs/functions/manage-functions#set_timeout_and_memory_allocation."}}
[info] >  /usr/local/lib/node_modules/firebase-tools/lib/emulator/functionsEmulatorRuntime.js:679 {"user":"/usr/local/lib/node_modules/firebase-tools/lib/emulator/functionsEmulatorRuntime.js:679","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m /usr/local/lib/node_modules/firebase-tools/lib/emulator/functionsEmulatorRuntime.js:679"}}
[info] >              throw new Error("Function timed out."); {"user":"            throw new Error(\"Function timed out.\");","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m             throw new Error(\"Function timed out.\");"}}
[info] >              ^ {"user":"            ^","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m             ^"}}
[info] >   {"user":"","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m "}}
[info] >  Error: Function timed out. {"user":"Error: Function timed out.","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m Error: Function timed out."}}
[info] >      at Timeout._onTimeout (/usr/local/lib/node_modules/firebase-tools/lib/emulator/functionsEmulatorRuntime.js:679:19) {"user":"    at Timeout._onTimeout (/usr/local/lib/node_modules/firebase-tools/lib/emulator/functionsEmulatorRuntime.js:679:19)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     at Timeout._onTimeout (/usr/local/lib/node_modules/firebase-tools/lib/emulator/functionsEmulatorRuntime.js:679:19)"}}
[info] >      at listOnTimeout (internal/timers.js:554:17) {"user":"    at listOnTimeout (internal/timers.js:554:17)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     at listOnTimeout (internal/timers.js:554:17)"}}
[info] >      at processTimers (internal/timers.js:497:7) {"user":"    at processTimers (internal/timers.js:497:7)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     at processTimers (internal/timers.js:497:7)"}}
[debug] [2021-09-23T13:39:50.032Z] [worker-us-central1-api-d2310461-219e-42f2-af3c-55314292ee58]: exited {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-api-d2310461-219e-42f2-af3c-55314292ee58]: exited"}}
[debug] [2021-09-23T13:39:50.032Z] [worker-us-central1-api-d2310461-219e-42f2-af3c-55314292ee58]: FINISHED {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-api-d2310461-219e-42f2-af3c-55314292ee58]: FINISHED"}}
[debug] [2021-09-23T13:39:50.032Z] [work-queue] {"queueLength":0,"workRunningCount":2}
[warn] ⚠  functions: Your function timed out after ~60s. To configure this timeout, see
      https://firebase.google.com/docs/functions/manage-functions#set_timeout_and_memory_allocation. {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"Your function timed out after ~60s. To configure this timeout, see\n      https://firebase.google.com/docs/functions/manage-functions#set_timeout_and_memory_allocation."}}
[info] >  /usr/local/lib/node_modules/firebase-tools/lib/emulator/functionsEmulatorRuntime.js:679 {"user":"/usr/local/lib/node_modules/firebase-tools/lib/emulator/functionsEmulatorRuntime.js:679","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m /usr/local/lib/node_modules/firebase-tools/lib/emulator/functionsEmulatorRuntime.js:679"}}
[info] >              throw new Error("Function timed out."); {"user":"            throw new Error(\"Function timed out.\");","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m             throw new Error(\"Function timed out.\");"}}
[info] >              ^ {"user":"            ^","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m             ^"}}
[info] >   {"user":"","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m "}}
[info] >  Error: Function timed out. {"user":"Error: Function timed out.","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m Error: Function timed out."}}
[info] >      at Timeout._onTimeout (/usr/local/lib/node_modules/firebase-tools/lib/emulator/functionsEmulatorRuntime.js:679:19) {"user":"    at Timeout._onTimeout (/usr/local/lib/node_modules/firebase-tools/lib/emulator/functionsEmulatorRuntime.js:679:19)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     at Timeout._onTimeout (/usr/local/lib/node_modules/firebase-tools/lib/emulator/functionsEmulatorRuntime.js:679:19)"}}
[info] >      at listOnTimeout (internal/timers.js:554:17) {"user":"    at listOnTimeout (internal/timers.js:554:17)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     at listOnTimeout (internal/timers.js:554:17)"}}
[info] >      at processTimers (internal/timers.js:497:7) {"user":"    at processTimers (internal/timers.js:497:7)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     at processTimers (internal/timers.js:497:7)"}}
[debug] [2021-09-23T13:39:52.210Z] [worker-us-central1-api-2d64eea0-fd36-4e00-8b83-a5eea8858c1e]: exited {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-api-2d64eea0-fd36-4e00-8b83-a5eea8858c1e]: exited"}}
[debug] [2021-09-23T13:39:52.211Z] [worker-us-central1-api-2d64eea0-fd36-4e00-8b83-a5eea8858c1e]: FINISHED {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-api-2d64eea0-fd36-4e00-8b83-a5eea8858c1e]: FINISHED"}}
[debug] [2021-09-23T13:39:52.211Z] [work-queue] {"queueLength":0,"workRunningCount":1}
[warn] ⚠  functions: Your function timed out after ~60s. To configure this timeout, see
      https://firebase.google.com/docs/functions/manage-functions#set_timeout_and_memory_allocation. {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"Your function timed out after ~60s. To configure this timeout, see\n      https://firebase.google.com/docs/functions/manage-functions#set_timeout_and_memory_allocation."}}
[info] >  /usr/local/lib/node_modules/firebase-tools/lib/emulator/functionsEmulatorRuntime.js:679 {"user":"/usr/local/lib/node_modules/firebase-tools/lib/emulator/functionsEmulatorRuntime.js:679","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m /usr/local/lib/node_modules/firebase-tools/lib/emulator/functionsEmulatorRuntime.js:679"}}
[info] >              throw new Error("Function timed out."); {"user":"            throw new Error(\"Function timed out.\");","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m             throw new Error(\"Function timed out.\");"}}
[info] >              ^ {"user":"            ^","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m             ^"}}
[info] >   {"user":"","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m "}}
[info] >  Error: Function timed out. {"user":"Error: Function timed out.","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m Error: Function timed out."}}
[info] >      at Timeout._onTimeout (/usr/local/lib/node_modules/firebase-tools/lib/emulator/functionsEmulatorRuntime.js:679:19) {"user":"    at Timeout._onTimeout (/usr/local/lib/node_modules/firebase-tools/lib/emulator/functionsEmulatorRuntime.js:679:19)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     at Timeout._onTimeout (/usr/local/lib/node_modules/firebase-tools/lib/emulator/functionsEmulatorRuntime.js:679:19)"}}
[info] >      at listOnTimeout (internal/timers.js:554:17) {"user":"    at listOnTimeout (internal/timers.js:554:17)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     at listOnTimeout (internal/timers.js:554:17)"}}
[info] >      at processTimers (internal/timers.js:497:7) {"user":"    at processTimers (internal/timers.js:497:7)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     at processTimers (internal/timers.js:497:7)"}}
[debug] [2021-09-23T13:40:18.192Z] [worker-us-central1-api-9e29518e-db55-444e-8d57-09f2d1d95465]: exited {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-api-9e29518e-db55-444e-8d57-09f2d1d95465]: exited"}}
[debug] [2021-09-23T13:40:18.192Z] [worker-us-central1-api-9e29518e-db55-444e-8d57-09f2d1d95465]: FINISHED {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-api-9e29518e-db55-444e-8d57-09f2d1d95465]: FINISHED"}}
[debug] [2021-09-23T13:40:18.192Z] [work-queue] {"queueLength":0,"workRunningCount":0}
[debug] [2021-09-23T13:40:23.056Z] [work-queue] {"queueLength":1,"workRunningCount":0}
[debug] [2021-09-23T13:40:23.057Z] [work-queue] {"queueLength":0,"workRunningCount":1}
[debug] [2021-09-23T13:40:23.057Z] Accepted request POST /clone-e655c/us-central1/api/payments/create?total=0 --> us-central1-api
[debug] [2021-09-23T13:40:23.057Z] [worker-pool] Cleaned up workers for us-central1-api: 5 --> 0 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Cleaned up workers for us-central1-api: 5 --> 0"}}
[debug] [2021-09-23T13:40:23.063Z] [worker-pool] addWorker(us-central1-api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] addWorker(us-central1-api)"}}
[debug] [2021-09-23T13:40:23.064Z] [worker-pool] Adding worker with key us-central1-api, total=1 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Adding worker with key us-central1-api, total=1"}}
[debug] [2021-09-23T13:40:23.064Z] [worker-pool] submitWork(triggerId=us-central1-api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitWork(triggerId=us-central1-api)"}}
[debug] [2021-09-23T13:40:23.066Z] [worker-us-central1-api-76f09fa1-43b4-400a-9462-c72c82ccf217]: Assigning socketPath: /var/folders/1q/t08t1c7147b3jyhcc6c2xwfr0000gn/T/fire_emu_29108.sock {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-api-76f09fa1-43b4-400a-9462-c72c82ccf217]: Assigning socketPath: /var/folders/1q/t08t1c7147b3jyhcc6c2xwfr0000gn/T/fire_emu_29108.sock"}}
[debug] [2021-09-23T13:40:23.066Z] [worker-us-central1-api-76f09fa1-43b4-400a-9462-c72c82ccf217]: BUSY {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-api-76f09fa1-43b4-400a-9462-c72c82ccf217]: BUSY"}}
[debug] [2021-09-23T13:40:23.916Z] [runtime-status] [29108] Functions runtime initialized. {"cwd":"/Users/edouardtoulet/Desktop/Js/REACT/amazon-clone/functions","node_version":"14.15.5"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [29108] Functions runtime initialized. {\"cwd\":\"/Users/edouardtoulet/Desktop/Js/REACT/amazon-clone/functions\",\"node_version\":\"14.15.5\"}"}}
[debug] [2021-09-23T13:40:23.929Z] [runtime-status] [29108] Disabled runtime features: undefined {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [29108] Disabled runtime features: undefined"}}
[debug] [2021-09-23T13:40:23.933Z] [runtime-status] [29108] Resolved module firebase-admin {"declared":true,"installed":true,"version":"9.11.1","resolution":"/Users/edouardtoulet/Desktop/Js/REACT/amazon-clone/functions/node_modules/firebase-admin/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [29108] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"9.11.1\",\"resolution\":\"/Users/edouardtoulet/Desktop/Js/REACT/amazon-clone/functions/node_modules/firebase-admin/lib/index.js\"}"}}
[debug] [2021-09-23T13:40:23.947Z] [runtime-status] [29108] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.15.7","resolution":"/Users/edouardtoulet/Desktop/Js/REACT/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [29108] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.15.7\",\"resolution\":\"/Users/edouardtoulet/Desktop/Js/REACT/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2021-09-23T13:40:23.978Z] [runtime-status] [29108] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.15.7","resolution":"/Users/edouardtoulet/Desktop/Js/REACT/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [29108] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.15.7\",\"resolution\":\"/Users/edouardtoulet/Desktop/Js/REACT/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2021-09-23T13:40:23.981Z] [runtime-status] [29108] Outgoing network have been stubbed. [{"name":"http","status":"mocked"},{"name":"http","status":"mocked"},{"name":"https","status":"mocked"},{"name":"https","status":"mocked"},{"name":"net","status":"mocked"}] {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [29108] Outgoing network have been stubbed. [{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"net\",\"status\":\"mocked\"}]"}}
[debug] [2021-09-23T13:40:23.982Z] [runtime-status] [29108] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.15.7","resolution":"/Users/edouardtoulet/Desktop/Js/REACT/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [29108] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.15.7\",\"resolution\":\"/Users/edouardtoulet/Desktop/Js/REACT/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2021-09-23T13:40:24.037Z] [runtime-status] [29108] Checked functions.config() {"config":{}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [29108] Checked functions.config() {\"config\":{}}"}}
[debug] [2021-09-23T13:40:24.037Z] [runtime-status] [29108] firebase-functions has been stubbed. {"functionsResolution":{"declared":true,"installed":true,"version":"3.15.7","resolution":"/Users/edouardtoulet/Desktop/Js/REACT/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [29108] firebase-functions has been stubbed. {\"functionsResolution\":{\"declared\":true,\"installed\":true,\"version\":\"3.15.7\",\"resolution\":\"/Users/edouardtoulet/Desktop/Js/REACT/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}}"}}
[debug] [2021-09-23T13:40:24.038Z] [runtime-status] [29108] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.15.7","resolution":"/Users/edouardtoulet/Desktop/Js/REACT/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [29108] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.15.7\",\"resolution\":\"/Users/edouardtoulet/Desktop/Js/REACT/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2021-09-23T13:40:24.039Z] [runtime-status] [29108] Resolved module firebase-admin {"declared":true,"installed":true,"version":"9.11.1","resolution":"/Users/edouardtoulet/Desktop/Js/REACT/amazon-clone/functions/node_modules/firebase-admin/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [29108] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"9.11.1\",\"resolution\":\"/Users/edouardtoulet/Desktop/Js/REACT/amazon-clone/functions/node_modules/firebase-admin/lib/index.js\"}"}}
[debug] [2021-09-23T13:40:24.040Z] [runtime-status] [29108] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.15.7","resolution":"/Users/edouardtoulet/Desktop/Js/REACT/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [29108] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.15.7\",\"resolution\":\"/Users/edouardtoulet/Desktop/Js/REACT/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2021-09-23T13:40:24.040Z] [runtime-status] [29108] firebase-admin has been stubbed. {"adminResolution":{"declared":true,"installed":true,"version":"9.11.1","resolution":"/Users/edouardtoulet/Desktop/Js/REACT/amazon-clone/functions/node_modules/firebase-admin/lib/index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [29108] firebase-admin has been stubbed. {\"adminResolution\":{\"declared\":true,\"installed\":true,\"version\":\"9.11.1\",\"resolution\":\"/Users/edouardtoulet/Desktop/Js/REACT/amazon-clone/functions/node_modules/firebase-admin/lib/index.js\"}}"}}
[debug] [2021-09-23T13:40:24.390Z] [runtime-status] [29108] Trigger "us-central1-api" has been found, beginning invocation! {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [29108] Trigger \"us-central1-api\" has been found, beginning invocation!"}}
[info] i  functions: Beginning execution of "us-central1-api" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"Beginning execution of \"us-central1-api\""}}
[debug] [2021-09-23T13:40:24.391Z] [runtime-status] [29108] triggerDefinition {"httpsTrigger":{},"name":"api","entryPoint":"api","regions":["us-central1"],"region":"us-central1","id":"us-central1-api"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [29108] triggerDefinition {\"httpsTrigger\":{},\"name\":\"api\",\"entryPoint\":\"api\",\"regions\":[\"us-central1\"],\"region\":\"us-central1\",\"id\":\"us-central1-api\"}"}}
[debug] [2021-09-23T13:40:24.391Z] [runtime-status] [29108] Running us-central1-api in mode HTTPS {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [29108] Running us-central1-api in mode HTTPS"}}
[debug] [2021-09-23T13:40:24.401Z] [runtime-status] [29108] Attempting to listen to socketPath: /var/folders/1q/t08t1c7147b3jyhcc6c2xwfr0000gn/T/fire_emu_29108.sock {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [29108] Attempting to listen to socketPath: /var/folders/1q/t08t1c7147b3jyhcc6c2xwfr0000gn/T/fire_emu_29108.sock"}}
[debug] [2021-09-23T13:40:24.405Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2021-09-23T13:40:24.405Z] [functions] Got req.url=/clone-e655c/us-central1/api/payments/create?total=0, mapping to path=/payments/create?total=0 {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Got req.url=/clone-e655c/us-central1/api/payments/create?total=0, mapping to path=/payments/create?total=0"}}
[debug] [2021-09-23T13:40:24.421Z] [runtime-status] [29108] Ephemeral server handling POST request {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [29108] Ephemeral server handling POST request"}}
[info] >  Payment Request received BOOOOOM !! 0 {"user":"Payment Request received BOOOOOM !! 0","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m Payment Request received BOOOOOM !! 0"}}
[debug] [2021-09-23T13:40:24.579Z] [runtime-status] [29108] Ephemeral server survived. {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [29108] Ephemeral server survived."}}
[info] >  (node:29108) UnhandledPromiseRejectionWarning: Error: This value must be greater than or equal to 1. {"user":"(node:29108) UnhandledPromiseRejectionWarning: Error: This value must be greater than or equal to 1.","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m (node:29108) UnhandledPromiseRejectionWarning: Error: This value must be greater than or equal to 1."}}
[info] >      at Function.generate (/Users/edouardtoulet/Desktop/Js/REACT/amazon-clone/functions/node_modules/stripe/lib/Error.js:40:16) {"user":"    at Function.generate (/Users/edouardtoulet/Desktop/Js/REACT/amazon-clone/functions/node_modules/stripe/lib/Error.js:40:16)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     at Function.generate (/Users/edouardtoulet/Desktop/Js/REACT/amazon-clone/functions/node_modules/stripe/lib/Error.js:40:16)"}}
[info] >      at res.toJSON.then.StripeAPIError.message (/Users/edouardtoulet/Desktop/Js/REACT/amazon-clone/functions/node_modules/stripe/lib/StripeResource.js:220:35) {"user":"    at res.toJSON.then.StripeAPIError.message (/Users/edouardtoulet/Desktop/Js/REACT/amazon-clone/functions/node_modules/stripe/lib/StripeResource.js:220:35)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     at res.toJSON.then.StripeAPIError.message (/Users/edouardtoulet/Desktop/Js/REACT/amazon-clone/functions/node_modules/stripe/lib/StripeResource.js:220:35)"}}
[info] >      at processTicksAndRejections (internal/process/task_queues.js:93:5) {"user":"    at processTicksAndRejections (internal/process/task_queues.js:93:5)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     at processTicksAndRejections (internal/process/task_queues.js:93:5)"}}
[info] >  (Use `node --trace-warnings ...` to show where the warning was created) {"user":"(Use `node --trace-warnings ...` to show where the warning was created)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m (Use `node --trace-warnings ...` to show where the warning was created)"}}
[info] >  (node:29108) UnhandledPromiseRejectionWarning: Unhandled promise rejection. This error originated either by throwing inside of an async function without a catch block, or by rejecting a promise which was not handled with .catch(). To terminate the node process on unhandled promise rejection, use the CLI flag `--unhandled-rejections=strict` (see https://nodejs.org/api/cli.html#cli_unhandled_rejections_mode). (rejection id: 1) {"user":"(node:29108) UnhandledPromiseRejectionWarning: Unhandled promise rejection. This error originated either by throwing inside of an async function without a catch block, or by rejecting a promise which was not handled with .catch(). To terminate the node process on unhandled promise rejection, use the CLI flag `--unhandled-rejections=strict` (see https://nodejs.org/api/cli.html#cli_unhandled_rejections_mode). (rejection id: 1)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m (node:29108) UnhandledPromiseRejectionWarning: Unhandled promise rejection. This error originated either by throwing inside of an async function without a catch block, or by rejecting a promise which was not handled with .catch(). To terminate the node process on unhandled promise rejection, use the CLI flag `--unhandled-rejections=strict` (see https://nodejs.org/api/cli.html#cli_unhandled_rejections_mode). (rejection id: 1)"}}
[info] >  (node:29108) [DEP0018] DeprecationWarning: Unhandled promise rejections are deprecated. In the future, promise rejections that are not handled will terminate the Node.js process with a non-zero exit code. {"user":"(node:29108) [DEP0018] DeprecationWarning: Unhandled promise rejections are deprecated. In the future, promise rejections that are not handled will terminate the Node.js process with a non-zero exit code.","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m (node:29108) [DEP0018] DeprecationWarning: Unhandled promise rejections are deprecated. In the future, promise rejections that are not handled will terminate the Node.js process with a non-zero exit code."}}
[debug] [2021-09-23T13:41:04.668Z] [work-queue] {"queueLength":1,"workRunningCount":1}
[debug] [2021-09-23T13:41:04.668Z] [work-queue] {"queueLength":0,"workRunningCount":2}
[debug] [2021-09-23T13:41:04.668Z] Accepted request POST /clone-e655c/us-central1/api/payments/create?total=37599 --> us-central1-api
[debug] [2021-09-23T13:41:04.687Z] [worker-pool] addWorker(us-central1-api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] addWorker(us-central1-api)"}}
[debug] [2021-09-23T13:41:04.687Z] [worker-pool] Adding worker with key us-central1-api, total=2 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Adding worker with key us-central1-api, total=2"}}
[debug] [2021-09-23T13:41:04.687Z] [worker-pool] submitWork(triggerId=us-central1-api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitWork(triggerId=us-central1-api)"}}
[debug] [2021-09-23T13:41:04.687Z] [worker-us-central1-api-3e5a8fbd-b4b6-4596-82b6-be54bd5ce080]: Assigning socketPath: /var/folders/1q/t08t1c7147b3jyhcc6c2xwfr0000gn/T/fire_emu_29140.sock {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-api-3e5a8fbd-b4b6-4596-82b6-be54bd5ce080]: Assigning socketPath: /var/folders/1q/t08t1c7147b3jyhcc6c2xwfr0000gn/T/fire_emu_29140.sock"}}
[debug] [2021-09-23T13:41:04.687Z] [worker-us-central1-api-3e5a8fbd-b4b6-4596-82b6-be54bd5ce080]: BUSY {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-api-3e5a8fbd-b4b6-4596-82b6-be54bd5ce080]: BUSY"}}
[debug] [2021-09-23T13:41:05.400Z] [runtime-status] [29140] Functions runtime initialized. {"cwd":"/Users/edouardtoulet/Desktop/Js/REACT/amazon-clone/functions","node_version":"14.15.5"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [29140] Functions runtime initialized. {\"cwd\":\"/Users/edouardtoulet/Desktop/Js/REACT/amazon-clone/functions\",\"node_version\":\"14.15.5\"}"}}
[debug] [2021-09-23T13:41:05.403Z] [runtime-status] [29140] Disabled runtime features: undefined {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [29140] Disabled runtime features: undefined"}}
[debug] [2021-09-23T13:41:05.407Z] [runtime-status] [29140] Resolved module firebase-admin {"declared":true,"installed":true,"version":"9.11.1","resolution":"/Users/edouardtoulet/Desktop/Js/REACT/amazon-clone/functions/node_modules/firebase-admin/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [29140] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"9.11.1\",\"resolution\":\"/Users/edouardtoulet/Desktop/Js/REACT/amazon-clone/functions/node_modules/firebase-admin/lib/index.js\"}"}}
[debug] [2021-09-23T13:41:05.414Z] [runtime-status] [29140] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.15.7","resolution":"/Users/edouardtoulet/Desktop/Js/REACT/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [29140] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.15.7\",\"resolution\":\"/Users/edouardtoulet/Desktop/Js/REACT/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2021-09-23T13:41:05.417Z] [runtime-status] [29140] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.15.7","resolution":"/Users/edouardtoulet/Desktop/Js/REACT/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [29140] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.15.7\",\"resolution\":\"/Users/edouardtoulet/Desktop/Js/REACT/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2021-09-23T13:41:05.419Z] [runtime-status] [29140] Outgoing network have been stubbed. [{"name":"http","status":"mocked"},{"name":"http","status":"mocked"},{"name":"https","status":"mocked"},{"name":"https","status":"mocked"},{"name":"net","status":"mocked"}] {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [29140] Outgoing network have been stubbed. [{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"net\",\"status\":\"mocked\"}]"}}
[debug] [2021-09-23T13:41:05.420Z] [runtime-status] [29140] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.15.7","resolution":"/Users/edouardtoulet/Desktop/Js/REACT/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [29140] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.15.7\",\"resolution\":\"/Users/edouardtoulet/Desktop/Js/REACT/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2021-09-23T13:41:05.492Z] [runtime-status] [29140] Checked functions.config() {"config":{}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [29140] Checked functions.config() {\"config\":{}}"}}
[debug] [2021-09-23T13:41:05.494Z] [runtime-status] [29140] firebase-functions has been stubbed. {"functionsResolution":{"declared":true,"installed":true,"version":"3.15.7","resolution":"/Users/edouardtoulet/Desktop/Js/REACT/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [29140] firebase-functions has been stubbed. {\"functionsResolution\":{\"declared\":true,\"installed\":true,\"version\":\"3.15.7\",\"resolution\":\"/Users/edouardtoulet/Desktop/Js/REACT/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}}"}}
[debug] [2021-09-23T13:41:05.495Z] [runtime-status] [29140] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.15.7","resolution":"/Users/edouardtoulet/Desktop/Js/REACT/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [29140] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.15.7\",\"resolution\":\"/Users/edouardtoulet/Desktop/Js/REACT/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2021-09-23T13:41:05.497Z] [runtime-status] [29140] Resolved module firebase-admin {"declared":true,"installed":true,"version":"9.11.1","resolution":"/Users/edouardtoulet/Desktop/Js/REACT/amazon-clone/functions/node_modules/firebase-admin/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [29140] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"9.11.1\",\"resolution\":\"/Users/edouardtoulet/Desktop/Js/REACT/amazon-clone/functions/node_modules/firebase-admin/lib/index.js\"}"}}
[debug] [2021-09-23T13:41:05.497Z] [runtime-status] [29140] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.15.7","resolution":"/Users/edouardtoulet/Desktop/Js/REACT/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [29140] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.15.7\",\"resolution\":\"/Users/edouardtoulet/Desktop/Js/REACT/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2021-09-23T13:41:05.497Z] [runtime-status] [29140] firebase-admin has been stubbed. {"adminResolution":{"declared":true,"installed":true,"version":"9.11.1","resolution":"/Users/edouardtoulet/Desktop/Js/REACT/amazon-clone/functions/node_modules/firebase-admin/lib/index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [29140] firebase-admin has been stubbed. {\"adminResolution\":{\"declared\":true,\"installed\":true,\"version\":\"9.11.1\",\"resolution\":\"/Users/edouardtoulet/Desktop/Js/REACT/amazon-clone/functions/node_modules/firebase-admin/lib/index.js\"}}"}}
[debug] [2021-09-23T13:41:05.674Z] [runtime-status] [29140] Trigger "us-central1-api" has been found, beginning invocation! {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [29140] Trigger \"us-central1-api\" has been found, beginning invocation!"}}
[info] i  functions: Beginning execution of "us-central1-api" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"Beginning execution of \"us-central1-api\""}}
[debug] [2021-09-23T13:41:05.675Z] [runtime-status] [29140] triggerDefinition {"httpsTrigger":{},"name":"api","entryPoint":"api","regions":["us-central1"],"region":"us-central1","id":"us-central1-api"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [29140] triggerDefinition {\"httpsTrigger\":{},\"name\":\"api\",\"entryPoint\":\"api\",\"regions\":[\"us-central1\"],\"region\":\"us-central1\",\"id\":\"us-central1-api\"}"}}
[debug] [2021-09-23T13:41:05.675Z] [runtime-status] [29140] Running us-central1-api in mode HTTPS {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [29140] Running us-central1-api in mode HTTPS"}}
[debug] [2021-09-23T13:41:05.678Z] [runtime-status] [29140] Attempting to listen to socketPath: /var/folders/1q/t08t1c7147b3jyhcc6c2xwfr0000gn/T/fire_emu_29140.sock {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [29140] Attempting to listen to socketPath: /var/folders/1q/t08t1c7147b3jyhcc6c2xwfr0000gn/T/fire_emu_29140.sock"}}
[debug] [2021-09-23T13:41:05.680Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2021-09-23T13:41:05.681Z] [functions] Got req.url=/clone-e655c/us-central1/api/payments/create?total=37599, mapping to path=/payments/create?total=37599 {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Got req.url=/clone-e655c/us-central1/api/payments/create?total=37599, mapping to path=/payments/create?total=37599"}}
[debug] [2021-09-23T13:41:05.693Z] [runtime-status] [29140] Ephemeral server handling POST request {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [29140] Ephemeral server handling POST request"}}
[info] >  Payment Request received BOOOOOM !! 37599 {"user":"Payment Request received BOOOOOM !! 37599","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m Payment Request received BOOOOOM !! 37599"}}
[debug] [2021-09-23T13:41:05.702Z] [runtime-status] [29140] Ephemeral server survived. {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [29140] Ephemeral server survived."}}
[info] i  functions: Finished "us-central1-api" in ~1s {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"Finished \"us-central1-api\" in ~1s"}}
[debug] [2021-09-23T13:41:06.232Z] [worker-us-central1-api-3e5a8fbd-b4b6-4596-82b6-be54bd5ce080]: IDLE {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-api-3e5a8fbd-b4b6-4596-82b6-be54bd5ce080]: IDLE"}}
[debug] [2021-09-23T13:41:06.232Z] [work-queue] {"queueLength":0,"workRunningCount":1}
[debug] [2021-09-23T13:41:17.101Z] [work-queue] {"queueLength":1,"workRunningCount":1}
[debug] [2021-09-23T13:41:17.101Z] [work-queue] {"queueLength":0,"workRunningCount":2}
[debug] [2021-09-23T13:41:17.101Z] Accepted request POST /clone-e655c/us-central1/api/payments/create?total=0 --> us-central1-api
[debug] [2021-09-23T13:41:17.101Z] [worker-pool] submitWork(triggerId=us-central1-api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitWork(triggerId=us-central1-api)"}}
[debug] [2021-09-23T13:41:17.101Z] [worker-us-central1-api-3e5a8fbd-b4b6-4596-82b6-be54bd5ce080]: Assigning socketPath: /var/folders/1q/t08t1c7147b3jyhcc6c2xwfr0000gn/T/fire_emu_29140.sock {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-api-3e5a8fbd-b4b6-4596-82b6-be54bd5ce080]: Assigning socketPath: /var/folders/1q/t08t1c7147b3jyhcc6c2xwfr0000gn/T/fire_emu_29140.sock"}}
[debug] [2021-09-23T13:41:17.101Z] [worker-us-central1-api-3e5a8fbd-b4b6-4596-82b6-be54bd5ce080]: BUSY {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-api-3e5a8fbd-b4b6-4596-82b6-be54bd5ce080]: BUSY"}}
[debug] [2021-09-23T13:41:17.106Z] [runtime-status] [29140] Trigger "us-central1-api" has been found, beginning invocation! {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [29140] Trigger \"us-central1-api\" has been found, beginning invocation!"}}
[info] i  functions: Beginning execution of "us-central1-api" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"Beginning execution of \"us-central1-api\""}}
[debug] [2021-09-23T13:41:17.109Z] [runtime-status] [29140] triggerDefinition {"httpsTrigger":{},"name":"api","entryPoint":"api","regions":["us-central1"],"region":"us-central1","id":"us-central1-api"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [29140] triggerDefinition {\"httpsTrigger\":{},\"name\":\"api\",\"entryPoint\":\"api\",\"regions\":[\"us-central1\"],\"region\":\"us-central1\",\"id\":\"us-central1-api\"}"}}
[debug] [2021-09-23T13:41:17.109Z] [runtime-status] [29140] Running us-central1-api in mode HTTPS {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [29140] Running us-central1-api in mode HTTPS"}}
[debug] [2021-09-23T13:41:17.110Z] [runtime-status] [29140] Attempting to listen to socketPath: /var/folders/1q/t08t1c7147b3jyhcc6c2xwfr0000gn/T/fire_emu_29140.sock {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [29140] Attempting to listen to socketPath: /var/folders/1q/t08t1c7147b3jyhcc6c2xwfr0000gn/T/fire_emu_29140.sock"}}
[debug] [2021-09-23T13:41:17.116Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2021-09-23T13:41:17.116Z] [functions] Got req.url=/clone-e655c/us-central1/api/payments/create?total=0, mapping to path=/payments/create?total=0 {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Got req.url=/clone-e655c/us-central1/api/payments/create?total=0, mapping to path=/payments/create?total=0"}}
[debug] [2021-09-23T13:41:17.125Z] [runtime-status] [29140] Ephemeral server handling POST request {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [29140] Ephemeral server handling POST request"}}
[debug] [2021-09-23T13:41:17.125Z] [runtime-status] [29140] Ephemeral server survived. {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [29140] Ephemeral server survived."}}
[info] >  Payment Request received BOOOOOM !! 0 {"user":"Payment Request received BOOOOOM !! 0","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m Payment Request received BOOOOOM !! 0"}}
[info] >  (node:29140) UnhandledPromiseRejectionWarning: Error: This value must be greater than or equal to 1. {"user":"(node:29140) UnhandledPromiseRejectionWarning: Error: This value must be greater than or equal to 1.","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m (node:29140) UnhandledPromiseRejectionWarning: Error: This value must be greater than or equal to 1."}}
[info] >      at Function.generate (/Users/edouardtoulet/Desktop/Js/REACT/amazon-clone/functions/node_modules/stripe/lib/Error.js:40:16) {"user":"    at Function.generate (/Users/edouardtoulet/Desktop/Js/REACT/amazon-clone/functions/node_modules/stripe/lib/Error.js:40:16)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     at Function.generate (/Users/edouardtoulet/Desktop/Js/REACT/amazon-clone/functions/node_modules/stripe/lib/Error.js:40:16)"}}
[info] >      at res.toJSON.then.StripeAPIError.message (/Users/edouardtoulet/Desktop/Js/REACT/amazon-clone/functions/node_modules/stripe/lib/StripeResource.js:220:35) {"user":"    at res.toJSON.then.StripeAPIError.message (/Users/edouardtoulet/Desktop/Js/REACT/amazon-clone/functions/node_modules/stripe/lib/StripeResource.js:220:35)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     at res.toJSON.then.StripeAPIError.message (/Users/edouardtoulet/Desktop/Js/REACT/amazon-clone/functions/node_modules/stripe/lib/StripeResource.js:220:35)"}}
[info] >      at processTicksAndRejections (internal/process/task_queues.js:93:5) {"user":"    at processTicksAndRejections (internal/process/task_queues.js:93:5)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     at processTicksAndRejections (internal/process/task_queues.js:93:5)"}}
[info] >  (Use `node --trace-warnings ...` to show where the warning was created) {"user":"(Use `node --trace-warnings ...` to show where the warning was created)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m (Use `node --trace-warnings ...` to show where the warning was created)"}}
[info] >  (node:29140) UnhandledPromiseRejectionWarning: Unhandled promise rejection. This error originated either by throwing inside of an async function without a catch block, or by rejecting a promise which was not handled with .catch(). To terminate the node process on unhandled promise rejection, use the CLI flag `--unhandled-rejections=strict` (see https://nodejs.org/api/cli.html#cli_unhandled_rejections_mode). (rejection id: 1) {"user":"(node:29140) UnhandledPromiseRejectionWarning: Unhandled promise rejection. This error originated either by throwing inside of an async function without a catch block, or by rejecting a promise which was not handled with .catch(). To terminate the node process on unhandled promise rejection, use the CLI flag `--unhandled-rejections=strict` (see https://nodejs.org/api/cli.html#cli_unhandled_rejections_mode). (rejection id: 1)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m (node:29140) UnhandledPromiseRejectionWarning: Unhandled promise rejection. This error originated either by throwing inside of an async function without a catch block, or by rejecting a promise which was not handled with .catch(). To terminate the node process on unhandled promise rejection, use the CLI flag `--unhandled-rejections=strict` (see https://nodejs.org/api/cli.html#cli_unhandled_rejections_mode). (rejection id: 1)"}}
[info] >  (node:29140) [DEP0018] DeprecationWarning: Unhandled promise rejections are deprecated. In the future, promise rejections that are not handled will terminate the Node.js process with a non-zero exit code. {"user":"(node:29140) [DEP0018] DeprecationWarning: Unhandled promise rejections are deprecated. In the future, promise rejections that are not handled will terminate the Node.js process with a non-zero exit code.","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m (node:29140) [DEP0018] DeprecationWarning: Unhandled promise rejections are deprecated. In the future, promise rejections that are not handled will terminate the Node.js process with a non-zero exit code."}}
[warn] ⚠  functions: Your function timed out after ~60s. To configure this timeout, see
      https://firebase.google.com/docs/functions/manage-functions#set_timeout_and_memory_allocation. {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"Your function timed out after ~60s. To configure this timeout, see\n      https://firebase.google.com/docs/functions/manage-functions#set_timeout_and_memory_allocation."}}
[info] >  /usr/local/lib/node_modules/firebase-tools/lib/emulator/functionsEmulatorRuntime.js:679 {"user":"/usr/local/lib/node_modules/firebase-tools/lib/emulator/functionsEmulatorRuntime.js:679","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m /usr/local/lib/node_modules/firebase-tools/lib/emulator/functionsEmulatorRuntime.js:679"}}
[info] >              throw new Error("Function timed out."); {"user":"            throw new Error(\"Function timed out.\");","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m             throw new Error(\"Function timed out.\");"}}
[info] >              ^ {"user":"            ^","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m             ^"}}
[info] >   {"user":"","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m "}}
[info] >  Error: Function timed out. {"user":"Error: Function timed out.","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m Error: Function timed out."}}
[info] >      at Timeout._onTimeout (/usr/local/lib/node_modules/firebase-tools/lib/emulator/functionsEmulatorRuntime.js:679:19) {"user":"    at Timeout._onTimeout (/usr/local/lib/node_modules/firebase-tools/lib/emulator/functionsEmulatorRuntime.js:679:19)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     at Timeout._onTimeout (/usr/local/lib/node_modules/firebase-tools/lib/emulator/functionsEmulatorRuntime.js:679:19)"}}
[info] >      at listOnTimeout (internal/timers.js:554:17) {"user":"    at listOnTimeout (internal/timers.js:554:17)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     at listOnTimeout (internal/timers.js:554:17)"}}
[info] >      at processTimers (internal/timers.js:497:7) {"user":"    at processTimers (internal/timers.js:497:7)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     at processTimers (internal/timers.js:497:7)"}}
[debug] [2021-09-23T13:41:24.416Z] [worker-us-central1-api-76f09fa1-43b4-400a-9462-c72c82ccf217]: exited {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-api-76f09fa1-43b4-400a-9462-c72c82ccf217]: exited"}}
[debug] [2021-09-23T13:41:24.417Z] [worker-us-central1-api-76f09fa1-43b4-400a-9462-c72c82ccf217]: FINISHED {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-api-76f09fa1-43b4-400a-9462-c72c82ccf217]: FINISHED"}}
[debug] [2021-09-23T13:41:24.417Z] [work-queue] {"queueLength":0,"workRunningCount":1}
[warn] ⚠  functions: Your function timed out after ~60s. To configure this timeout, see
      https://firebase.google.com/docs/functions/manage-functions#set_timeout_and_memory_allocation. {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"Your function timed out after ~60s. To configure this timeout, see\n      https://firebase.google.com/docs/functions/manage-functions#set_timeout_and_memory_allocation."}}
[info] >  /usr/local/lib/node_modules/firebase-tools/lib/emulator/functionsEmulatorRuntime.js:679 {"user":"/usr/local/lib/node_modules/firebase-tools/lib/emulator/functionsEmulatorRuntime.js:679","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m /usr/local/lib/node_modules/firebase-tools/lib/emulator/functionsEmulatorRuntime.js:679"}}
[info] >              throw new Error("Function timed out."); {"user":"            throw new Error(\"Function timed out.\");","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m             throw new Error(\"Function timed out.\");"}}
[info] >              ^ {"user":"            ^","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m             ^"}}
[info] >   {"user":"","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m "}}
[info] >  Error: Function timed out. {"user":"Error: Function timed out.","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m Error: Function timed out."}}
[info] >      at Timeout._onTimeout (/usr/local/lib/node_modules/firebase-tools/lib/emulator/functionsEmulatorRuntime.js:679:19) {"user":"    at Timeout._onTimeout (/usr/local/lib/node_modules/firebase-tools/lib/emulator/functionsEmulatorRuntime.js:679:19)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     at Timeout._onTimeout (/usr/local/lib/node_modules/firebase-tools/lib/emulator/functionsEmulatorRuntime.js:679:19)"}}
[info] >      at listOnTimeout (internal/timers.js:554:17) {"user":"    at listOnTimeout (internal/timers.js:554:17)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     at listOnTimeout (internal/timers.js:554:17)"}}
[info] >      at processTimers (internal/timers.js:497:7) {"user":"    at processTimers (internal/timers.js:497:7)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     at processTimers (internal/timers.js:497:7)"}}
[debug] [2021-09-23T13:42:17.124Z] [worker-us-central1-api-3e5a8fbd-b4b6-4596-82b6-be54bd5ce080]: exited {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-api-3e5a8fbd-b4b6-4596-82b6-be54bd5ce080]: exited"}}
[debug] [2021-09-23T13:42:17.125Z] [worker-us-central1-api-3e5a8fbd-b4b6-4596-82b6-be54bd5ce080]: FINISHED {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-api-3e5a8fbd-b4b6-4596-82b6-be54bd5ce080]: FINISHED"}}
[debug] [2021-09-23T13:42:17.125Z] [work-queue] {"queueLength":0,"workRunningCount":0}
[debug] [2021-09-23T13:45:30.541Z] [work-queue] {"queueLength":1,"workRunningCount":0}
[debug] [2021-09-23T13:45:30.541Z] [work-queue] {"queueLength":0,"workRunningCount":1}
[debug] [2021-09-23T13:45:30.541Z] Accepted request POST /clone-e655c/us-central1/api/payments/create?total=37599 --> us-central1-api
[debug] [2021-09-23T13:45:30.541Z] [worker-pool] Cleaned up workers for us-central1-api: 2 --> 0 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Cleaned up workers for us-central1-api: 2 --> 0"}}
[debug] [2021-09-23T13:45:30.558Z] [worker-pool] addWorker(us-central1-api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] addWorker(us-central1-api)"}}
[debug] [2021-09-23T13:45:30.559Z] [worker-pool] Adding worker with key us-central1-api, total=1 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Adding worker with key us-central1-api, total=1"}}
[debug] [2021-09-23T13:45:30.559Z] [worker-pool] submitWork(triggerId=us-central1-api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitWork(triggerId=us-central1-api)"}}
[debug] [2021-09-23T13:45:30.559Z] [worker-us-central1-api-afff6411-8eb7-4aee-ba3f-5e36a13c0d1d]: Assigning socketPath: /var/folders/1q/t08t1c7147b3jyhcc6c2xwfr0000gn/T/fire_emu_29169.sock {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-api-afff6411-8eb7-4aee-ba3f-5e36a13c0d1d]: Assigning socketPath: /var/folders/1q/t08t1c7147b3jyhcc6c2xwfr0000gn/T/fire_emu_29169.sock"}}
[debug] [2021-09-23T13:45:30.559Z] [worker-us-central1-api-afff6411-8eb7-4aee-ba3f-5e36a13c0d1d]: BUSY {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-api-afff6411-8eb7-4aee-ba3f-5e36a13c0d1d]: BUSY"}}
[debug] [2021-09-23T13:45:31.283Z] [runtime-status] [29169] Functions runtime initialized. {"cwd":"/Users/edouardtoulet/Desktop/Js/REACT/amazon-clone/functions","node_version":"14.15.5"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [29169] Functions runtime initialized. {\"cwd\":\"/Users/edouardtoulet/Desktop/Js/REACT/amazon-clone/functions\",\"node_version\":\"14.15.5\"}"}}
[debug] [2021-09-23T13:45:31.294Z] [runtime-status] [29169] Disabled runtime features: undefined {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [29169] Disabled runtime features: undefined"}}
[debug] [2021-09-23T13:45:31.299Z] [runtime-status] [29169] Resolved module firebase-admin {"declared":true,"installed":true,"version":"9.11.1","resolution":"/Users/edouardtoulet/Desktop/Js/REACT/amazon-clone/functions/node_modules/firebase-admin/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [29169] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"9.11.1\",\"resolution\":\"/Users/edouardtoulet/Desktop/Js/REACT/amazon-clone/functions/node_modules/firebase-admin/lib/index.js\"}"}}
[debug] [2021-09-23T13:45:31.303Z] [runtime-status] [29169] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.15.7","resolution":"/Users/edouardtoulet/Desktop/Js/REACT/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [29169] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.15.7\",\"resolution\":\"/Users/edouardtoulet/Desktop/Js/REACT/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2021-09-23T13:45:31.306Z] [runtime-status] [29169] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.15.7","resolution":"/Users/edouardtoulet/Desktop/Js/REACT/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [29169] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.15.7\",\"resolution\":\"/Users/edouardtoulet/Desktop/Js/REACT/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2021-09-23T13:45:31.310Z] [runtime-status] [29169] Outgoing network have been stubbed. [{"name":"http","status":"mocked"},{"name":"http","status":"mocked"},{"name":"https","status":"mocked"},{"name":"https","status":"mocked"},{"name":"net","status":"mocked"}] {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [29169] Outgoing network have been stubbed. [{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"net\",\"status\":\"mocked\"}]"}}
[debug] [2021-09-23T13:45:31.311Z] [runtime-status] [29169] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.15.7","resolution":"/Users/edouardtoulet/Desktop/Js/REACT/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [29169] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.15.7\",\"resolution\":\"/Users/edouardtoulet/Desktop/Js/REACT/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2021-09-23T13:45:31.388Z] [runtime-status] [29169] Checked functions.config() {"config":{}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [29169] Checked functions.config() {\"config\":{}}"}}
[debug] [2021-09-23T13:45:31.389Z] [runtime-status] [29169] firebase-functions has been stubbed. {"functionsResolution":{"declared":true,"installed":true,"version":"3.15.7","resolution":"/Users/edouardtoulet/Desktop/Js/REACT/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [29169] firebase-functions has been stubbed. {\"functionsResolution\":{\"declared\":true,\"installed\":true,\"version\":\"3.15.7\",\"resolution\":\"/Users/edouardtoulet/Desktop/Js/REACT/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}}"}}
[debug] [2021-09-23T13:45:31.390Z] [runtime-status] [29169] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.15.7","resolution":"/Users/edouardtoulet/Desktop/Js/REACT/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [29169] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.15.7\",\"resolution\":\"/Users/edouardtoulet/Desktop/Js/REACT/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2021-09-23T13:45:31.391Z] [runtime-status] [29169] Resolved module firebase-admin {"declared":true,"installed":true,"version":"9.11.1","resolution":"/Users/edouardtoulet/Desktop/Js/REACT/amazon-clone/functions/node_modules/firebase-admin/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [29169] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"9.11.1\",\"resolution\":\"/Users/edouardtoulet/Desktop/Js/REACT/amazon-clone/functions/node_modules/firebase-admin/lib/index.js\"}"}}
[debug] [2021-09-23T13:45:31.392Z] [runtime-status] [29169] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.15.7","resolution":"/Users/edouardtoulet/Desktop/Js/REACT/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [29169] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.15.7\",\"resolution\":\"/Users/edouardtoulet/Desktop/Js/REACT/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2021-09-23T13:45:31.392Z] [runtime-status] [29169] firebase-admin has been stubbed. {"adminResolution":{"declared":true,"installed":true,"version":"9.11.1","resolution":"/Users/edouardtoulet/Desktop/Js/REACT/amazon-clone/functions/node_modules/firebase-admin/lib/index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [29169] firebase-admin has been stubbed. {\"adminResolution\":{\"declared\":true,\"installed\":true,\"version\":\"9.11.1\",\"resolution\":\"/Users/edouardtoulet/Desktop/Js/REACT/amazon-clone/functions/node_modules/firebase-admin/lib/index.js\"}}"}}
[debug] [2021-09-23T13:45:31.598Z] [runtime-status] [29169] Trigger "us-central1-api" has been found, beginning invocation! {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [29169] Trigger \"us-central1-api\" has been found, beginning invocation!"}}
[info] i  functions: Beginning execution of "us-central1-api" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"Beginning execution of \"us-central1-api\""}}
[debug] [2021-09-23T13:45:31.598Z] [runtime-status] [29169] triggerDefinition {"httpsTrigger":{},"name":"api","entryPoint":"api","regions":["us-central1"],"region":"us-central1","id":"us-central1-api"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [29169] triggerDefinition {\"httpsTrigger\":{},\"name\":\"api\",\"entryPoint\":\"api\",\"regions\":[\"us-central1\"],\"region\":\"us-central1\",\"id\":\"us-central1-api\"}"}}
[debug] [2021-09-23T13:45:31.598Z] [runtime-status] [29169] Running us-central1-api in mode HTTPS {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [29169] Running us-central1-api in mode HTTPS"}}
[debug] [2021-09-23T13:45:31.604Z] [runtime-status] [29169] Attempting to listen to socketPath: /var/folders/1q/t08t1c7147b3jyhcc6c2xwfr0000gn/T/fire_emu_29169.sock {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [29169] Attempting to listen to socketPath: /var/folders/1q/t08t1c7147b3jyhcc6c2xwfr0000gn/T/fire_emu_29169.sock"}}
[debug] [2021-09-23T13:45:31.608Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2021-09-23T13:45:31.609Z] [functions] Got req.url=/clone-e655c/us-central1/api/payments/create?total=37599, mapping to path=/payments/create?total=37599 {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Got req.url=/clone-e655c/us-central1/api/payments/create?total=37599, mapping to path=/payments/create?total=37599"}}
[debug] [2021-09-23T13:45:31.622Z] [runtime-status] [29169] Ephemeral server handling POST request {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [29169] Ephemeral server handling POST request"}}
[info] >  Payment Request received BOOOOOM !! 37599 {"user":"Payment Request received BOOOOOM !! 37599","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m Payment Request received BOOOOOM !! 37599"}}
[debug] [2021-09-23T13:45:31.635Z] [runtime-status] [29169] Ephemeral server survived. {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [29169] Ephemeral server survived."}}
[info] i  functions: Finished "us-central1-api" in ~1s {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"Finished \"us-central1-api\" in ~1s"}}
[debug] [2021-09-23T13:45:32.146Z] [worker-us-central1-api-afff6411-8eb7-4aee-ba3f-5e36a13c0d1d]: IDLE {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-api-afff6411-8eb7-4aee-ba3f-5e36a13c0d1d]: IDLE"}}
[debug] [2021-09-23T13:45:32.146Z] [work-queue] {"queueLength":0,"workRunningCount":0}
[debug] [2021-09-23T13:50:39.160Z] [work-queue] {"queueLength":1,"workRunningCount":0}
[debug] [2021-09-23T13:50:39.162Z] [work-queue] {"queueLength":0,"workRunningCount":1}
[debug] [2021-09-23T13:50:39.162Z] Accepted request POST /clone-e655c/us-central1/api/payments/create?total=37599 --> us-central1-api
[debug] [2021-09-23T13:50:39.168Z] [worker-pool] submitWork(triggerId=us-central1-api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitWork(triggerId=us-central1-api)"}}
[debug] [2021-09-23T13:50:39.168Z] [worker-us-central1-api-afff6411-8eb7-4aee-ba3f-5e36a13c0d1d]: Assigning socketPath: /var/folders/1q/t08t1c7147b3jyhcc6c2xwfr0000gn/T/fire_emu_29169.sock {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-api-afff6411-8eb7-4aee-ba3f-5e36a13c0d1d]: Assigning socketPath: /var/folders/1q/t08t1c7147b3jyhcc6c2xwfr0000gn/T/fire_emu_29169.sock"}}
[debug] [2021-09-23T13:50:39.168Z] [worker-us-central1-api-afff6411-8eb7-4aee-ba3f-5e36a13c0d1d]: BUSY {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-api-afff6411-8eb7-4aee-ba3f-5e36a13c0d1d]: BUSY"}}
[debug] [2021-09-23T13:50:39.172Z] [runtime-status] [29169] Trigger "us-central1-api" has been found, beginning invocation! {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [29169] Trigger \"us-central1-api\" has been found, beginning invocation!"}}
[info] i  functions: Beginning execution of "us-central1-api" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"Beginning execution of \"us-central1-api\""}}
[debug] [2021-09-23T13:50:39.174Z] [runtime-status] [29169] triggerDefinition {"httpsTrigger":{},"name":"api","entryPoint":"api","regions":["us-central1"],"region":"us-central1","id":"us-central1-api"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [29169] triggerDefinition {\"httpsTrigger\":{},\"name\":\"api\",\"entryPoint\":\"api\",\"regions\":[\"us-central1\"],\"region\":\"us-central1\",\"id\":\"us-central1-api\"}"}}
[debug] [2021-09-23T13:50:39.174Z] [runtime-status] [29169] Running us-central1-api in mode HTTPS {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [29169] Running us-central1-api in mode HTTPS"}}
[debug] [2021-09-23T13:50:39.174Z] [runtime-status] [29169] Attempting to listen to socketPath: /var/folders/1q/t08t1c7147b3jyhcc6c2xwfr0000gn/T/fire_emu_29169.sock {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [29169] Attempting to listen to socketPath: /var/folders/1q/t08t1c7147b3jyhcc6c2xwfr0000gn/T/fire_emu_29169.sock"}}
[debug] [2021-09-23T13:50:39.181Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2021-09-23T13:50:39.184Z] [functions] Got req.url=/clone-e655c/us-central1/api/payments/create?total=37599, mapping to path=/payments/create?total=37599 {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Got req.url=/clone-e655c/us-central1/api/payments/create?total=37599, mapping to path=/payments/create?total=37599"}}
[debug] [2021-09-23T13:50:39.191Z] [runtime-status] [29169] Ephemeral server handling POST request {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [29169] Ephemeral server handling POST request"}}
[info] >  Payment Request received BOOOOOM !! 37599 {"user":"Payment Request received BOOOOOM !! 37599","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m Payment Request received BOOOOOM !! 37599"}}
[debug] [2021-09-23T13:50:39.194Z] [runtime-status] [29169] Ephemeral server survived. {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [29169] Ephemeral server survived."}}
[info] i  functions: Finished "us-central1-api" in ~1s {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"Finished \"us-central1-api\" in ~1s"}}
[debug] [2021-09-23T13:50:39.593Z] [worker-us-central1-api-afff6411-8eb7-4aee-ba3f-5e36a13c0d1d]: IDLE {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-api-afff6411-8eb7-4aee-ba3f-5e36a13c0d1d]: IDLE"}}
[debug] [2021-09-23T13:50:39.593Z] [work-queue] {"queueLength":0,"workRunningCount":0}
[debug] [2021-09-23T13:53:25.158Z] [work-queue] {"queueLength":1,"workRunningCount":0}
[debug] [2021-09-23T13:53:25.158Z] [work-queue] {"queueLength":0,"workRunningCount":1}
[debug] [2021-09-23T13:53:25.158Z] Accepted request POST /clone-e655c/us-central1/api/payments/create?total=37599 --> us-central1-api
[debug] [2021-09-23T13:53:25.158Z] [worker-pool] submitWork(triggerId=us-central1-api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitWork(triggerId=us-central1-api)"}}
[debug] [2021-09-23T13:53:25.158Z] [worker-us-central1-api-afff6411-8eb7-4aee-ba3f-5e36a13c0d1d]: Assigning socketPath: /var/folders/1q/t08t1c7147b3jyhcc6c2xwfr0000gn/T/fire_emu_29169.sock {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-api-afff6411-8eb7-4aee-ba3f-5e36a13c0d1d]: Assigning socketPath: /var/folders/1q/t08t1c7147b3jyhcc6c2xwfr0000gn/T/fire_emu_29169.sock"}}
[debug] [2021-09-23T13:53:25.158Z] [worker-us-central1-api-afff6411-8eb7-4aee-ba3f-5e36a13c0d1d]: BUSY {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-api-afff6411-8eb7-4aee-ba3f-5e36a13c0d1d]: BUSY"}}
[debug] [2021-09-23T13:53:25.160Z] [runtime-status] [29169] Trigger "us-central1-api" has been found, beginning invocation! {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [29169] Trigger \"us-central1-api\" has been found, beginning invocation!"}}
[info] i  functions: Beginning execution of "us-central1-api" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"Beginning execution of \"us-central1-api\""}}
[debug] [2021-09-23T13:53:25.161Z] [runtime-status] [29169] triggerDefinition {"httpsTrigger":{},"name":"api","entryPoint":"api","regions":["us-central1"],"region":"us-central1","id":"us-central1-api"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [29169] triggerDefinition {\"httpsTrigger\":{},\"name\":\"api\",\"entryPoint\":\"api\",\"regions\":[\"us-central1\"],\"region\":\"us-central1\",\"id\":\"us-central1-api\"}"}}
[debug] [2021-09-23T13:53:25.161Z] [runtime-status] [29169] Running us-central1-api in mode HTTPS {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [29169] Running us-central1-api in mode HTTPS"}}
[debug] [2021-09-23T13:53:25.164Z] [runtime-status] [29169] Attempting to listen to socketPath: /var/folders/1q/t08t1c7147b3jyhcc6c2xwfr0000gn/T/fire_emu_29169.sock {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [29169] Attempting to listen to socketPath: /var/folders/1q/t08t1c7147b3jyhcc6c2xwfr0000gn/T/fire_emu_29169.sock"}}
[debug] [2021-09-23T13:53:25.174Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2021-09-23T13:53:25.175Z] [functions] Got req.url=/clone-e655c/us-central1/api/payments/create?total=37599, mapping to path=/payments/create?total=37599 {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Got req.url=/clone-e655c/us-central1/api/payments/create?total=37599, mapping to path=/payments/create?total=37599"}}
[debug] [2021-09-23T13:53:25.184Z] [runtime-status] [29169] Ephemeral server handling POST request {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [29169] Ephemeral server handling POST request"}}
[info] >  Payment Request received BOOOOOM !! 37599 {"user":"Payment Request received BOOOOOM !! 37599","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m Payment Request received BOOOOOM !! 37599"}}
[debug] [2021-09-23T13:53:25.188Z] [runtime-status] [29169] Ephemeral server survived. {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [29169] Ephemeral server survived."}}
[info] i  functions: Finished "us-central1-api" in ~1s {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"Finished \"us-central1-api\" in ~1s"}}
[debug] [2021-09-23T13:53:25.728Z] [worker-us-central1-api-afff6411-8eb7-4aee-ba3f-5e36a13c0d1d]: IDLE {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-api-afff6411-8eb7-4aee-ba3f-5e36a13c0d1d]: IDLE"}}
[debug] [2021-09-23T13:53:25.729Z] [work-queue] {"queueLength":0,"workRunningCount":0}
[debug] [2021-09-23T13:55:39.114Z] [work-queue] {"queueLength":1,"workRunningCount":0}
[debug] [2021-09-23T13:55:39.114Z] [work-queue] {"queueLength":0,"workRunningCount":1}
[debug] [2021-09-23T13:55:39.114Z] Accepted request POST /clone-e655c/us-central1/api/payments/create?total=0 --> us-central1-api
[debug] [2021-09-23T13:55:39.114Z] [worker-pool] submitWork(triggerId=us-central1-api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitWork(triggerId=us-central1-api)"}}
[debug] [2021-09-23T13:55:39.115Z] [worker-us-central1-api-afff6411-8eb7-4aee-ba3f-5e36a13c0d1d]: Assigning socketPath: /var/folders/1q/t08t1c7147b3jyhcc6c2xwfr0000gn/T/fire_emu_29169.sock {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-api-afff6411-8eb7-4aee-ba3f-5e36a13c0d1d]: Assigning socketPath: /var/folders/1q/t08t1c7147b3jyhcc6c2xwfr0000gn/T/fire_emu_29169.sock"}}
[debug] [2021-09-23T13:55:39.115Z] [worker-us-central1-api-afff6411-8eb7-4aee-ba3f-5e36a13c0d1d]: BUSY {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-api-afff6411-8eb7-4aee-ba3f-5e36a13c0d1d]: BUSY"}}
[debug] [2021-09-23T13:55:39.117Z] [runtime-status] [29169] Trigger "us-central1-api" has been found, beginning invocation! {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [29169] Trigger \"us-central1-api\" has been found, beginning invocation!"}}
[info] i  functions: Beginning execution of "us-central1-api" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"Beginning execution of \"us-central1-api\""}}
[debug] [2021-09-23T13:55:39.121Z] [runtime-status] [29169] triggerDefinition {"httpsTrigger":{},"name":"api","entryPoint":"api","regions":["us-central1"],"region":"us-central1","id":"us-central1-api"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [29169] triggerDefinition {\"httpsTrigger\":{},\"name\":\"api\",\"entryPoint\":\"api\",\"regions\":[\"us-central1\"],\"region\":\"us-central1\",\"id\":\"us-central1-api\"}"}}
[debug] [2021-09-23T13:55:39.121Z] [runtime-status] [29169] Running us-central1-api in mode HTTPS {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [29169] Running us-central1-api in mode HTTPS"}}
[debug] [2021-09-23T13:55:39.121Z] [runtime-status] [29169] Attempting to listen to socketPath: /var/folders/1q/t08t1c7147b3jyhcc6c2xwfr0000gn/T/fire_emu_29169.sock {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [29169] Attempting to listen to socketPath: /var/folders/1q/t08t1c7147b3jyhcc6c2xwfr0000gn/T/fire_emu_29169.sock"}}
[debug] [2021-09-23T13:55:39.123Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2021-09-23T13:55:39.123Z] [functions] Got req.url=/clone-e655c/us-central1/api/payments/create?total=0, mapping to path=/payments/create?total=0 {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Got req.url=/clone-e655c/us-central1/api/payments/create?total=0, mapping to path=/payments/create?total=0"}}
[debug] [2021-09-23T13:55:39.130Z] [runtime-status] [29169] Ephemeral server handling POST request {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [29169] Ephemeral server handling POST request"}}
[debug] [2021-09-23T13:55:39.130Z] [runtime-status] [29169] Ephemeral server survived. {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [29169] Ephemeral server survived."}}
[info] >  Payment Request received BOOOOOM !! 0 {"user":"Payment Request received BOOOOOM !! 0","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m Payment Request received BOOOOOM !! 0"}}
[info] >  (node:29169) UnhandledPromiseRejectionWarning: Error: This value must be greater than or equal to 1. {"user":"(node:29169) UnhandledPromiseRejectionWarning: Error: This value must be greater than or equal to 1.","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m (node:29169) UnhandledPromiseRejectionWarning: Error: This value must be greater than or equal to 1."}}
[info] >      at Function.generate (/Users/edouardtoulet/Desktop/Js/REACT/amazon-clone/functions/node_modules/stripe/lib/Error.js:40:16) {"user":"    at Function.generate (/Users/edouardtoulet/Desktop/Js/REACT/amazon-clone/functions/node_modules/stripe/lib/Error.js:40:16)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     at Function.generate (/Users/edouardtoulet/Desktop/Js/REACT/amazon-clone/functions/node_modules/stripe/lib/Error.js:40:16)"}}
[info] >      at res.toJSON.then.StripeAPIError.message (/Users/edouardtoulet/Desktop/Js/REACT/amazon-clone/functions/node_modules/stripe/lib/StripeResource.js:220:35) {"user":"    at res.toJSON.then.StripeAPIError.message (/Users/edouardtoulet/Desktop/Js/REACT/amazon-clone/functions/node_modules/stripe/lib/StripeResource.js:220:35)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     at res.toJSON.then.StripeAPIError.message (/Users/edouardtoulet/Desktop/Js/REACT/amazon-clone/functions/node_modules/stripe/lib/StripeResource.js:220:35)"}}
[info] >      at processTicksAndRejections (internal/process/task_queues.js:93:5) {"user":"    at processTicksAndRejections (internal/process/task_queues.js:93:5)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     at processTicksAndRejections (internal/process/task_queues.js:93:5)"}}
[info] >  (Use `node --trace-warnings ...` to show where the warning was created) {"user":"(Use `node --trace-warnings ...` to show where the warning was created)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m (Use `node --trace-warnings ...` to show where the warning was created)"}}
[info] >  (node:29169) UnhandledPromiseRejectionWarning: Unhandled promise rejection. This error originated either by throwing inside of an async function without a catch block, or by rejecting a promise which was not handled with .catch(). To terminate the node process on unhandled promise rejection, use the CLI flag `--unhandled-rejections=strict` (see https://nodejs.org/api/cli.html#cli_unhandled_rejections_mode). (rejection id: 1) {"user":"(node:29169) UnhandledPromiseRejectionWarning: Unhandled promise rejection. This error originated either by throwing inside of an async function without a catch block, or by rejecting a promise which was not handled with .catch(). To terminate the node process on unhandled promise rejection, use the CLI flag `--unhandled-rejections=strict` (see https://nodejs.org/api/cli.html#cli_unhandled_rejections_mode). (rejection id: 1)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m (node:29169) UnhandledPromiseRejectionWarning: Unhandled promise rejection. This error originated either by throwing inside of an async function without a catch block, or by rejecting a promise which was not handled with .catch(). To terminate the node process on unhandled promise rejection, use the CLI flag `--unhandled-rejections=strict` (see https://nodejs.org/api/cli.html#cli_unhandled_rejections_mode). (rejection id: 1)"}}
[info] >  (node:29169) [DEP0018] DeprecationWarning: Unhandled promise rejections are deprecated. In the future, promise rejections that are not handled will terminate the Node.js process with a non-zero exit code. {"user":"(node:29169) [DEP0018] DeprecationWarning: Unhandled promise rejections are deprecated. In the future, promise rejections that are not handled will terminate the Node.js process with a non-zero exit code.","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m (node:29169) [DEP0018] DeprecationWarning: Unhandled promise rejections are deprecated. In the future, promise rejections that are not handled will terminate the Node.js process with a non-zero exit code."}}
[warn] ⚠  functions: Your function timed out after ~60s. To configure this timeout, see
      https://firebase.google.com/docs/functions/manage-functions#set_timeout_and_memory_allocation. {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"Your function timed out after ~60s. To configure this timeout, see\n      https://firebase.google.com/docs/functions/manage-functions#set_timeout_and_memory_allocation."}}
[info] >  /usr/local/lib/node_modules/firebase-tools/lib/emulator/functionsEmulatorRuntime.js:679 {"user":"/usr/local/lib/node_modules/firebase-tools/lib/emulator/functionsEmulatorRuntime.js:679","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m /usr/local/lib/node_modules/firebase-tools/lib/emulator/functionsEmulatorRuntime.js:679"}}
[info] >              throw new Error("Function timed out."); {"user":"            throw new Error(\"Function timed out.\");","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m             throw new Error(\"Function timed out.\");"}}
[info] >              ^ {"user":"            ^","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m             ^"}}
[info] >   {"user":"","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m "}}
[info] >  Error: Function timed out. {"user":"Error: Function timed out.","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m Error: Function timed out."}}
[info] >      at Timeout._onTimeout (/usr/local/lib/node_modules/firebase-tools/lib/emulator/functionsEmulatorRuntime.js:679:19) {"user":"    at Timeout._onTimeout (/usr/local/lib/node_modules/firebase-tools/lib/emulator/functionsEmulatorRuntime.js:679:19)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     at Timeout._onTimeout (/usr/local/lib/node_modules/firebase-tools/lib/emulator/functionsEmulatorRuntime.js:679:19)"}}
[info] >      at listOnTimeout (internal/timers.js:554:17) {"user":"    at listOnTimeout (internal/timers.js:554:17)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     at listOnTimeout (internal/timers.js:554:17)"}}
[info] >      at processTimers (internal/timers.js:497:7) {"user":"    at processTimers (internal/timers.js:497:7)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     at processTimers (internal/timers.js:497:7)"}}
[debug] [2021-09-23T13:56:39.134Z] [worker-us-central1-api-afff6411-8eb7-4aee-ba3f-5e36a13c0d1d]: exited {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-api-afff6411-8eb7-4aee-ba3f-5e36a13c0d1d]: exited"}}
[debug] [2021-09-23T13:56:39.135Z] [worker-us-central1-api-afff6411-8eb7-4aee-ba3f-5e36a13c0d1d]: FINISHED {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-api-afff6411-8eb7-4aee-ba3f-5e36a13c0d1d]: FINISHED"}}
[debug] [2021-09-23T13:56:39.135Z] [work-queue] {"queueLength":0,"workRunningCount":0}
[debug] [2021-09-23T13:57:29.334Z] [work-queue] {"queueLength":1,"workRunningCount":0}
[debug] [2021-09-23T13:57:29.334Z] [work-queue] {"queueLength":0,"workRunningCount":1}
[debug] [2021-09-23T13:57:29.334Z] Accepted request POST /clone-e655c/us-central1/api/payments/create?total=0 --> us-central1-api
[debug] [2021-09-23T13:57:29.334Z] [worker-pool] Cleaned up workers for us-central1-api: 1 --> 0 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Cleaned up workers for us-central1-api: 1 --> 0"}}
[debug] [2021-09-23T13:57:29.344Z] [worker-pool] addWorker(us-central1-api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] addWorker(us-central1-api)"}}
[debug] [2021-09-23T13:57:29.344Z] [worker-pool] Adding worker with key us-central1-api, total=1 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Adding worker with key us-central1-api, total=1"}}
[debug] [2021-09-23T13:57:29.344Z] [worker-pool] submitWork(triggerId=us-central1-api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitWork(triggerId=us-central1-api)"}}
[debug] [2021-09-23T13:57:29.344Z] [worker-us-central1-api-6daa2f18-0ec7-44eb-941c-a8fd242cf19b]: Assigning socketPath: /var/folders/1q/t08t1c7147b3jyhcc6c2xwfr0000gn/T/fire_emu_29582.sock {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-api-6daa2f18-0ec7-44eb-941c-a8fd242cf19b]: Assigning socketPath: /var/folders/1q/t08t1c7147b3jyhcc6c2xwfr0000gn/T/fire_emu_29582.sock"}}
[debug] [2021-09-23T13:57:29.344Z] [worker-us-central1-api-6daa2f18-0ec7-44eb-941c-a8fd242cf19b]: BUSY {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-api-6daa2f18-0ec7-44eb-941c-a8fd242cf19b]: BUSY"}}
[debug] [2021-09-23T13:57:30.138Z] [runtime-status] [29582] Functions runtime initialized. {"cwd":"/Users/edouardtoulet/Desktop/Js/REACT/amazon-clone/functions","node_version":"14.15.5"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [29582] Functions runtime initialized. {\"cwd\":\"/Users/edouardtoulet/Desktop/Js/REACT/amazon-clone/functions\",\"node_version\":\"14.15.5\"}"}}
[debug] [2021-09-23T13:57:30.147Z] [runtime-status] [29582] Disabled runtime features: undefined {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [29582] Disabled runtime features: undefined"}}
[debug] [2021-09-23T13:57:30.165Z] [runtime-status] [29582] Resolved module firebase-admin {"declared":true,"installed":true,"version":"9.11.1","resolution":"/Users/edouardtoulet/Desktop/Js/REACT/amazon-clone/functions/node_modules/firebase-admin/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [29582] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"9.11.1\",\"resolution\":\"/Users/edouardtoulet/Desktop/Js/REACT/amazon-clone/functions/node_modules/firebase-admin/lib/index.js\"}"}}
[debug] [2021-09-23T13:57:30.183Z] [runtime-status] [29582] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.15.7","resolution":"/Users/edouardtoulet/Desktop/Js/REACT/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [29582] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.15.7\",\"resolution\":\"/Users/edouardtoulet/Desktop/Js/REACT/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2021-09-23T13:57:30.186Z] [runtime-status] [29582] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.15.7","resolution":"/Users/edouardtoulet/Desktop/Js/REACT/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [29582] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.15.7\",\"resolution\":\"/Users/edouardtoulet/Desktop/Js/REACT/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2021-09-23T13:57:30.228Z] [runtime-status] [29582] Outgoing network have been stubbed. [{"name":"http","status":"mocked"},{"name":"http","status":"mocked"},{"name":"https","status":"mocked"},{"name":"https","status":"mocked"},{"name":"net","status":"mocked"}] {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [29582] Outgoing network have been stubbed. [{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"net\",\"status\":\"mocked\"}]"}}
[debug] [2021-09-23T13:57:30.230Z] [runtime-status] [29582] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.15.7","resolution":"/Users/edouardtoulet/Desktop/Js/REACT/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [29582] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.15.7\",\"resolution\":\"/Users/edouardtoulet/Desktop/Js/REACT/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2021-09-23T13:57:30.464Z] [runtime-status] [29582] Checked functions.config() {"config":{}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [29582] Checked functions.config() {\"config\":{}}"}}
[debug] [2021-09-23T13:57:30.465Z] [runtime-status] [29582] firebase-functions has been stubbed. {"functionsResolution":{"declared":true,"installed":true,"version":"3.15.7","resolution":"/Users/edouardtoulet/Desktop/Js/REACT/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [29582] firebase-functions has been stubbed. {\"functionsResolution\":{\"declared\":true,\"installed\":true,\"version\":\"3.15.7\",\"resolution\":\"/Users/edouardtoulet/Desktop/Js/REACT/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}}"}}
[debug] [2021-09-23T13:57:30.466Z] [runtime-status] [29582] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.15.7","resolution":"/Users/edouardtoulet/Desktop/Js/REACT/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [29582] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.15.7\",\"resolution\":\"/Users/edouardtoulet/Desktop/Js/REACT/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2021-09-23T13:57:30.467Z] [runtime-status] [29582] Resolved module firebase-admin {"declared":true,"installed":true,"version":"9.11.1","resolution":"/Users/edouardtoulet/Desktop/Js/REACT/amazon-clone/functions/node_modules/firebase-admin/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [29582] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"9.11.1\",\"resolution\":\"/Users/edouardtoulet/Desktop/Js/REACT/amazon-clone/functions/node_modules/firebase-admin/lib/index.js\"}"}}
[debug] [2021-09-23T13:57:30.468Z] [runtime-status] [29582] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.15.7","resolution":"/Users/edouardtoulet/Desktop/Js/REACT/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [29582] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.15.7\",\"resolution\":\"/Users/edouardtoulet/Desktop/Js/REACT/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2021-09-23T13:57:30.469Z] [runtime-status] [29582] firebase-admin has been stubbed. {"adminResolution":{"declared":true,"installed":true,"version":"9.11.1","resolution":"/Users/edouardtoulet/Desktop/Js/REACT/amazon-clone/functions/node_modules/firebase-admin/lib/index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [29582] firebase-admin has been stubbed. {\"adminResolution\":{\"declared\":true,\"installed\":true,\"version\":\"9.11.1\",\"resolution\":\"/Users/edouardtoulet/Desktop/Js/REACT/amazon-clone/functions/node_modules/firebase-admin/lib/index.js\"}}"}}
[debug] [2021-09-23T13:57:30.940Z] [runtime-status] [29582] Trigger "us-central1-api" has been found, beginning invocation! {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [29582] Trigger \"us-central1-api\" has been found, beginning invocation!"}}
[info] i  functions: Beginning execution of "us-central1-api" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"Beginning execution of \"us-central1-api\""}}
[debug] [2021-09-23T13:57:30.959Z] [runtime-status] [29582] triggerDefinition {"httpsTrigger":{},"name":"api","entryPoint":"api","regions":["us-central1"],"region":"us-central1","id":"us-central1-api"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [29582] triggerDefinition {\"httpsTrigger\":{},\"name\":\"api\",\"entryPoint\":\"api\",\"regions\":[\"us-central1\"],\"region\":\"us-central1\",\"id\":\"us-central1-api\"}"}}
[debug] [2021-09-23T13:57:30.959Z] [runtime-status] [29582] Running us-central1-api in mode HTTPS {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [29582] Running us-central1-api in mode HTTPS"}}
[debug] [2021-09-23T13:57:30.967Z] [runtime-status] [29582] Attempting to listen to socketPath: /var/folders/1q/t08t1c7147b3jyhcc6c2xwfr0000gn/T/fire_emu_29582.sock {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [29582] Attempting to listen to socketPath: /var/folders/1q/t08t1c7147b3jyhcc6c2xwfr0000gn/T/fire_emu_29582.sock"}}
[debug] [2021-09-23T13:57:30.974Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2021-09-23T13:57:30.974Z] [functions] Got req.url=/clone-e655c/us-central1/api/payments/create?total=0, mapping to path=/payments/create?total=0 {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Got req.url=/clone-e655c/us-central1/api/payments/create?total=0, mapping to path=/payments/create?total=0"}}
[debug] [2021-09-23T13:57:30.984Z] [runtime-status] [29582] Ephemeral server handling POST request {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [29582] Ephemeral server handling POST request"}}
[info] >  Payment Request received BOOOOOM !! 0 {"user":"Payment Request received BOOOOOM !! 0","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m Payment Request received BOOOOOM !! 0"}}
[debug] [2021-09-23T13:57:31.016Z] [runtime-status] [29582] Ephemeral server survived. {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [29582] Ephemeral server survived."}}
[info] >  (node:29582) UnhandledPromiseRejectionWarning: Error: This value must be greater than or equal to 1. {"user":"(node:29582) UnhandledPromiseRejectionWarning: Error: This value must be greater than or equal to 1.","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m (node:29582) UnhandledPromiseRejectionWarning: Error: This value must be greater than or equal to 1."}}
[info] >      at Function.generate (/Users/edouardtoulet/Desktop/Js/REACT/amazon-clone/functions/node_modules/stripe/lib/Error.js:40:16) {"user":"    at Function.generate (/Users/edouardtoulet/Desktop/Js/REACT/amazon-clone/functions/node_modules/stripe/lib/Error.js:40:16)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     at Function.generate (/Users/edouardtoulet/Desktop/Js/REACT/amazon-clone/functions/node_modules/stripe/lib/Error.js:40:16)"}}
[info] >      at res.toJSON.then.StripeAPIError.message (/Users/edouardtoulet/Desktop/Js/REACT/amazon-clone/functions/node_modules/stripe/lib/StripeResource.js:220:35) {"user":"    at res.toJSON.then.StripeAPIError.message (/Users/edouardtoulet/Desktop/Js/REACT/amazon-clone/functions/node_modules/stripe/lib/StripeResource.js:220:35)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     at res.toJSON.then.StripeAPIError.message (/Users/edouardtoulet/Desktop/Js/REACT/amazon-clone/functions/node_modules/stripe/lib/StripeResource.js:220:35)"}}
[info] >      at processTicksAndRejections (internal/process/task_queues.js:93:5) {"user":"    at processTicksAndRejections (internal/process/task_queues.js:93:5)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     at processTicksAndRejections (internal/process/task_queues.js:93:5)"}}
[info] >  (Use `node --trace-warnings ...` to show where the warning was created) {"user":"(Use `node --trace-warnings ...` to show where the warning was created)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m (Use `node --trace-warnings ...` to show where the warning was created)"}}
[info] >  (node:29582) UnhandledPromiseRejectionWarning: Unhandled promise rejection. This error originated either by throwing inside of an async function without a catch block, or by rejecting a promise which was not handled with .catch(). To terminate the node process on unhandled promise rejection, use the CLI flag `--unhandled-rejections=strict` (see https://nodejs.org/api/cli.html#cli_unhandled_rejections_mode). (rejection id: 1) {"user":"(node:29582) UnhandledPromiseRejectionWarning: Unhandled promise rejection. This error originated either by throwing inside of an async function without a catch block, or by rejecting a promise which was not handled with .catch(). To terminate the node process on unhandled promise rejection, use the CLI flag `--unhandled-rejections=strict` (see https://nodejs.org/api/cli.html#cli_unhandled_rejections_mode). (rejection id: 1)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m (node:29582) UnhandledPromiseRejectionWarning: Unhandled promise rejection. This error originated either by throwing inside of an async function without a catch block, or by rejecting a promise which was not handled with .catch(). To terminate the node process on unhandled promise rejection, use the CLI flag `--unhandled-rejections=strict` (see https://nodejs.org/api/cli.html#cli_unhandled_rejections_mode). (rejection id: 1)"}}
[info] >  (node:29582) [DEP0018] DeprecationWarning: Unhandled promise rejections are deprecated. In the future, promise rejections that are not handled will terminate the Node.js process with a non-zero exit code. {"user":"(node:29582) [DEP0018] DeprecationWarning: Unhandled promise rejections are deprecated. In the future, promise rejections that are not handled will terminate the Node.js process with a non-zero exit code.","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m (node:29582) [DEP0018] DeprecationWarning: Unhandled promise rejections are deprecated. In the future, promise rejections that are not handled will terminate the Node.js process with a non-zero exit code."}}
[debug] [2021-09-23T13:57:36.361Z] [work-queue] {"queueLength":1,"workRunningCount":1}
[debug] [2021-09-23T13:57:36.361Z] [work-queue] {"queueLength":0,"workRunningCount":2}
[debug] [2021-09-23T13:57:36.361Z] Accepted request POST /clone-e655c/us-central1/api/payments/create?total=0 --> us-central1-api
[debug] [2021-09-23T13:57:36.370Z] [worker-pool] addWorker(us-central1-api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] addWorker(us-central1-api)"}}
[debug] [2021-09-23T13:57:36.370Z] [worker-pool] Adding worker with key us-central1-api, total=2 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Adding worker with key us-central1-api, total=2"}}
[debug] [2021-09-23T13:57:36.370Z] [worker-pool] submitWork(triggerId=us-central1-api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitWork(triggerId=us-central1-api)"}}
[debug] [2021-09-23T13:57:36.370Z] [worker-us-central1-api-c50eaf52-90cf-437e-9630-6bd5c93e6415]: Assigning socketPath: /var/folders/1q/t08t1c7147b3jyhcc6c2xwfr0000gn/T/fire_emu_29584.sock {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-api-c50eaf52-90cf-437e-9630-6bd5c93e6415]: Assigning socketPath: /var/folders/1q/t08t1c7147b3jyhcc6c2xwfr0000gn/T/fire_emu_29584.sock"}}
[debug] [2021-09-23T13:57:36.371Z] [worker-us-central1-api-c50eaf52-90cf-437e-9630-6bd5c93e6415]: BUSY {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-api-c50eaf52-90cf-437e-9630-6bd5c93e6415]: BUSY"}}
[debug] [2021-09-23T13:57:37.513Z] [runtime-status] [29584] Functions runtime initialized. {"cwd":"/Users/edouardtoulet/Desktop/Js/REACT/amazon-clone/functions","node_version":"14.15.5"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [29584] Functions runtime initialized. {\"cwd\":\"/Users/edouardtoulet/Desktop/Js/REACT/amazon-clone/functions\",\"node_version\":\"14.15.5\"}"}}
[debug] [2021-09-23T13:57:37.528Z] [runtime-status] [29584] Disabled runtime features: undefined {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [29584] Disabled runtime features: undefined"}}
[debug] [2021-09-23T13:57:37.531Z] [runtime-status] [29584] Resolved module firebase-admin {"declared":true,"installed":true,"version":"9.11.1","resolution":"/Users/edouardtoulet/Desktop/Js/REACT/amazon-clone/functions/node_modules/firebase-admin/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [29584] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"9.11.1\",\"resolution\":\"/Users/edouardtoulet/Desktop/Js/REACT/amazon-clone/functions/node_modules/firebase-admin/lib/index.js\"}"}}
[debug] [2021-09-23T13:57:37.534Z] [runtime-status] [29584] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.15.7","resolution":"/Users/edouardtoulet/Desktop/Js/REACT/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [29584] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.15.7\",\"resolution\":\"/Users/edouardtoulet/Desktop/Js/REACT/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2021-09-23T13:57:37.542Z] [runtime-status] [29584] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.15.7","resolution":"/Users/edouardtoulet/Desktop/Js/REACT/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [29584] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.15.7\",\"resolution\":\"/Users/edouardtoulet/Desktop/Js/REACT/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2021-09-23T13:57:37.546Z] [runtime-status] [29584] Outgoing network have been stubbed. [{"name":"http","status":"mocked"},{"name":"http","status":"mocked"},{"name":"https","status":"mocked"},{"name":"https","status":"mocked"},{"name":"net","status":"mocked"}] {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [29584] Outgoing network have been stubbed. [{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"net\",\"status\":\"mocked\"}]"}}
[debug] [2021-09-23T13:57:37.550Z] [runtime-status] [29584] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.15.7","resolution":"/Users/edouardtoulet/Desktop/Js/REACT/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [29584] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.15.7\",\"resolution\":\"/Users/edouardtoulet/Desktop/Js/REACT/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2021-09-23T13:57:37.825Z] [runtime-status] [29584] Checked functions.config() {"config":{}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [29584] Checked functions.config() {\"config\":{}}"}}
[debug] [2021-09-23T13:57:37.829Z] [runtime-status] [29584] firebase-functions has been stubbed. {"functionsResolution":{"declared":true,"installed":true,"version":"3.15.7","resolution":"/Users/edouardtoulet/Desktop/Js/REACT/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [29584] firebase-functions has been stubbed. {\"functionsResolution\":{\"declared\":true,\"installed\":true,\"version\":\"3.15.7\",\"resolution\":\"/Users/edouardtoulet/Desktop/Js/REACT/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}}"}}
[debug] [2021-09-23T13:57:37.829Z] [runtime-status] [29584] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.15.7","resolution":"/Users/edouardtoulet/Desktop/Js/REACT/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [29584] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.15.7\",\"resolution\":\"/Users/edouardtoulet/Desktop/Js/REACT/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2021-09-23T13:57:37.834Z] [runtime-status] [29584] Resolved module firebase-admin {"declared":true,"installed":true,"version":"9.11.1","resolution":"/Users/edouardtoulet/Desktop/Js/REACT/amazon-clone/functions/node_modules/firebase-admin/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [29584] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"9.11.1\",\"resolution\":\"/Users/edouardtoulet/Desktop/Js/REACT/amazon-clone/functions/node_modules/firebase-admin/lib/index.js\"}"}}
[debug] [2021-09-23T13:57:37.836Z] [runtime-status] [29584] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.15.7","resolution":"/Users/edouardtoulet/Desktop/Js/REACT/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [29584] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.15.7\",\"resolution\":\"/Users/edouardtoulet/Desktop/Js/REACT/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2021-09-23T13:57:37.837Z] [runtime-status] [29584] firebase-admin has been stubbed. {"adminResolution":{"declared":true,"installed":true,"version":"9.11.1","resolution":"/Users/edouardtoulet/Desktop/Js/REACT/amazon-clone/functions/node_modules/firebase-admin/lib/index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [29584] firebase-admin has been stubbed. {\"adminResolution\":{\"declared\":true,\"installed\":true,\"version\":\"9.11.1\",\"resolution\":\"/Users/edouardtoulet/Desktop/Js/REACT/amazon-clone/functions/node_modules/firebase-admin/lib/index.js\"}}"}}
[debug] [2021-09-23T13:57:38.324Z] [runtime-status] [29584] Trigger "us-central1-api" has been found, beginning invocation! {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [29584] Trigger \"us-central1-api\" has been found, beginning invocation!"}}
[info] i  functions: Beginning execution of "us-central1-api" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"Beginning execution of \"us-central1-api\""}}
[debug] [2021-09-23T13:57:38.325Z] [runtime-status] [29584] triggerDefinition {"httpsTrigger":{},"name":"api","entryPoint":"api","regions":["us-central1"],"region":"us-central1","id":"us-central1-api"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [29584] triggerDefinition {\"httpsTrigger\":{},\"name\":\"api\",\"entryPoint\":\"api\",\"regions\":[\"us-central1\"],\"region\":\"us-central1\",\"id\":\"us-central1-api\"}"}}
[debug] [2021-09-23T13:57:38.325Z] [runtime-status] [29584] Running us-central1-api in mode HTTPS {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [29584] Running us-central1-api in mode HTTPS"}}
[debug] [2021-09-23T13:57:38.329Z] [runtime-status] [29584] Attempting to listen to socketPath: /var/folders/1q/t08t1c7147b3jyhcc6c2xwfr0000gn/T/fire_emu_29584.sock {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [29584] Attempting to listen to socketPath: /var/folders/1q/t08t1c7147b3jyhcc6c2xwfr0000gn/T/fire_emu_29584.sock"}}
[debug] [2021-09-23T13:57:38.332Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2021-09-23T13:57:38.332Z] [functions] Got req.url=/clone-e655c/us-central1/api/payments/create?total=0, mapping to path=/payments/create?total=0 {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Got req.url=/clone-e655c/us-central1/api/payments/create?total=0, mapping to path=/payments/create?total=0"}}
[debug] [2021-09-23T13:57:38.340Z] [runtime-status] [29584] Ephemeral server handling POST request {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [29584] Ephemeral server handling POST request"}}
[info] >  Payment Request received BOOOOOM !! 0 {"user":"Payment Request received BOOOOOM !! 0","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m Payment Request received BOOOOOM !! 0"}}
[debug] [2021-09-23T13:57:38.417Z] [runtime-status] [29584] Ephemeral server survived. {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [29584] Ephemeral server survived."}}
[info] >  (node:29584) UnhandledPromiseRejectionWarning: Error: This value must be greater than or equal to 1. {"user":"(node:29584) UnhandledPromiseRejectionWarning: Error: This value must be greater than or equal to 1.","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m (node:29584) UnhandledPromiseRejectionWarning: Error: This value must be greater than or equal to 1."}}
[info] >      at Function.generate (/Users/edouardtoulet/Desktop/Js/REACT/amazon-clone/functions/node_modules/stripe/lib/Error.js:40:16) {"user":"    at Function.generate (/Users/edouardtoulet/Desktop/Js/REACT/amazon-clone/functions/node_modules/stripe/lib/Error.js:40:16)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     at Function.generate (/Users/edouardtoulet/Desktop/Js/REACT/amazon-clone/functions/node_modules/stripe/lib/Error.js:40:16)"}}
[info] >      at res.toJSON.then.StripeAPIError.message (/Users/edouardtoulet/Desktop/Js/REACT/amazon-clone/functions/node_modules/stripe/lib/StripeResource.js:220:35) {"user":"    at res.toJSON.then.StripeAPIError.message (/Users/edouardtoulet/Desktop/Js/REACT/amazon-clone/functions/node_modules/stripe/lib/StripeResource.js:220:35)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     at res.toJSON.then.StripeAPIError.message (/Users/edouardtoulet/Desktop/Js/REACT/amazon-clone/functions/node_modules/stripe/lib/StripeResource.js:220:35)"}}
[info] >      at processTicksAndRejections (internal/process/task_queues.js:93:5) {"user":"    at processTicksAndRejections (internal/process/task_queues.js:93:5)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     at processTicksAndRejections (internal/process/task_queues.js:93:5)"}}
[info] >  (Use `node --trace-warnings ...` to show where the warning was created) {"user":"(Use `node --trace-warnings ...` to show where the warning was created)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m (Use `node --trace-warnings ...` to show where the warning was created)"}}
[info] >  (node:29584) UnhandledPromiseRejectionWarning: Unhandled promise rejection. This error originated either by throwing inside of an async function without a catch block, or by rejecting a promise which was not handled with .catch(). To terminate the node process on unhandled promise rejection, use the CLI flag `--unhandled-rejections=strict` (see https://nodejs.org/api/cli.html#cli_unhandled_rejections_mode). (rejection id: 1) {"user":"(node:29584) UnhandledPromiseRejectionWarning: Unhandled promise rejection. This error originated either by throwing inside of an async function without a catch block, or by rejecting a promise which was not handled with .catch(). To terminate the node process on unhandled promise rejection, use the CLI flag `--unhandled-rejections=strict` (see https://nodejs.org/api/cli.html#cli_unhandled_rejections_mode). (rejection id: 1)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m (node:29584) UnhandledPromiseRejectionWarning: Unhandled promise rejection. This error originated either by throwing inside of an async function without a catch block, or by rejecting a promise which was not handled with .catch(). To terminate the node process on unhandled promise rejection, use the CLI flag `--unhandled-rejections=strict` (see https://nodejs.org/api/cli.html#cli_unhandled_rejections_mode). (rejection id: 1)"}}
[info] >  (node:29584) [DEP0018] DeprecationWarning: Unhandled promise rejections are deprecated. In the future, promise rejections that are not handled will terminate the Node.js process with a non-zero exit code. {"user":"(node:29584) [DEP0018] DeprecationWarning: Unhandled promise rejections are deprecated. In the future, promise rejections that are not handled will terminate the Node.js process with a non-zero exit code.","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m (node:29584) [DEP0018] DeprecationWarning: Unhandled promise rejections are deprecated. In the future, promise rejections that are not handled will terminate the Node.js process with a non-zero exit code."}}
[debug] [2021-09-23T13:57:53.014Z] [work-queue] {"queueLength":1,"workRunningCount":2}
[debug] [2021-09-23T13:57:53.014Z] [work-queue] {"queueLength":0,"workRunningCount":3}
[debug] [2021-09-23T13:57:53.014Z] Accepted request POST /clone-e655c/us-central1/api/payments/create?total=0 --> us-central1-api
[debug] [2021-09-23T13:57:53.019Z] [worker-pool] addWorker(us-central1-api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] addWorker(us-central1-api)"}}
[debug] [2021-09-23T13:57:53.019Z] [worker-pool] Adding worker with key us-central1-api, total=3 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Adding worker with key us-central1-api, total=3"}}
[debug] [2021-09-23T13:57:53.019Z] [worker-pool] submitWork(triggerId=us-central1-api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitWork(triggerId=us-central1-api)"}}
[debug] [2021-09-23T13:57:53.019Z] [worker-us-central1-api-ca5cbdec-2766-4742-ae24-f7ae9020247c]: Assigning socketPath: /var/folders/1q/t08t1c7147b3jyhcc6c2xwfr0000gn/T/fire_emu_29595.sock {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-api-ca5cbdec-2766-4742-ae24-f7ae9020247c]: Assigning socketPath: /var/folders/1q/t08t1c7147b3jyhcc6c2xwfr0000gn/T/fire_emu_29595.sock"}}
[debug] [2021-09-23T13:57:53.019Z] [worker-us-central1-api-ca5cbdec-2766-4742-ae24-f7ae9020247c]: BUSY {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-api-ca5cbdec-2766-4742-ae24-f7ae9020247c]: BUSY"}}
[debug] [2021-09-23T13:57:53.596Z] [runtime-status] [29595] Functions runtime initialized. {"cwd":"/Users/edouardtoulet/Desktop/Js/REACT/amazon-clone/functions","node_version":"14.15.5"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [29595] Functions runtime initialized. {\"cwd\":\"/Users/edouardtoulet/Desktop/Js/REACT/amazon-clone/functions\",\"node_version\":\"14.15.5\"}"}}
[debug] [2021-09-23T13:57:53.600Z] [runtime-status] [29595] Disabled runtime features: undefined {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [29595] Disabled runtime features: undefined"}}
[debug] [2021-09-23T13:57:53.615Z] [runtime-status] [29595] Resolved module firebase-admin {"declared":true,"installed":true,"version":"9.11.1","resolution":"/Users/edouardtoulet/Desktop/Js/REACT/amazon-clone/functions/node_modules/firebase-admin/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [29595] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"9.11.1\",\"resolution\":\"/Users/edouardtoulet/Desktop/Js/REACT/amazon-clone/functions/node_modules/firebase-admin/lib/index.js\"}"}}
[debug] [2021-09-23T13:57:53.623Z] [runtime-status] [29595] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.15.7","resolution":"/Users/edouardtoulet/Desktop/Js/REACT/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [29595] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.15.7\",\"resolution\":\"/Users/edouardtoulet/Desktop/Js/REACT/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2021-09-23T13:57:53.627Z] [runtime-status] [29595] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.15.7","resolution":"/Users/edouardtoulet/Desktop/Js/REACT/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [29595] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.15.7\",\"resolution\":\"/Users/edouardtoulet/Desktop/Js/REACT/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2021-09-23T13:57:53.630Z] [runtime-status] [29595] Outgoing network have been stubbed. [{"name":"http","status":"mocked"},{"name":"http","status":"mocked"},{"name":"https","status":"mocked"},{"name":"https","status":"mocked"},{"name":"net","status":"mocked"}] {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [29595] Outgoing network have been stubbed. [{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"net\",\"status\":\"mocked\"}]"}}
[debug] [2021-09-23T13:57:53.630Z] [runtime-status] [29595] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.15.7","resolution":"/Users/edouardtoulet/Desktop/Js/REACT/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [29595] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.15.7\",\"resolution\":\"/Users/edouardtoulet/Desktop/Js/REACT/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2021-09-23T13:57:53.707Z] [runtime-status] [29595] Checked functions.config() {"config":{}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [29595] Checked functions.config() {\"config\":{}}"}}
[debug] [2021-09-23T13:57:53.707Z] [runtime-status] [29595] firebase-functions has been stubbed. {"functionsResolution":{"declared":true,"installed":true,"version":"3.15.7","resolution":"/Users/edouardtoulet/Desktop/Js/REACT/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [29595] firebase-functions has been stubbed. {\"functionsResolution\":{\"declared\":true,\"installed\":true,\"version\":\"3.15.7\",\"resolution\":\"/Users/edouardtoulet/Desktop/Js/REACT/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}}"}}
[debug] [2021-09-23T13:57:53.708Z] [runtime-status] [29595] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.15.7","resolution":"/Users/edouardtoulet/Desktop/Js/REACT/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [29595] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.15.7\",\"resolution\":\"/Users/edouardtoulet/Desktop/Js/REACT/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2021-09-23T13:57:53.709Z] [runtime-status] [29595] Resolved module firebase-admin {"declared":true,"installed":true,"version":"9.11.1","resolution":"/Users/edouardtoulet/Desktop/Js/REACT/amazon-clone/functions/node_modules/firebase-admin/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [29595] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"9.11.1\",\"resolution\":\"/Users/edouardtoulet/Desktop/Js/REACT/amazon-clone/functions/node_modules/firebase-admin/lib/index.js\"}"}}
[debug] [2021-09-23T13:57:53.710Z] [runtime-status] [29595] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.15.7","resolution":"/Users/edouardtoulet/Desktop/Js/REACT/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [29595] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.15.7\",\"resolution\":\"/Users/edouardtoulet/Desktop/Js/REACT/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2021-09-23T13:57:53.711Z] [runtime-status] [29595] firebase-admin has been stubbed. {"adminResolution":{"declared":true,"installed":true,"version":"9.11.1","resolution":"/Users/edouardtoulet/Desktop/Js/REACT/amazon-clone/functions/node_modules/firebase-admin/lib/index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [29595] firebase-admin has been stubbed. {\"adminResolution\":{\"declared\":true,\"installed\":true,\"version\":\"9.11.1\",\"resolution\":\"/Users/edouardtoulet/Desktop/Js/REACT/amazon-clone/functions/node_modules/firebase-admin/lib/index.js\"}}"}}
[debug] [2021-09-23T13:57:53.883Z] [runtime-status] [29595] Trigger "us-central1-api" has been found, beginning invocation! {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [29595] Trigger \"us-central1-api\" has been found, beginning invocation!"}}
[info] i  functions: Beginning execution of "us-central1-api" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"Beginning execution of \"us-central1-api\""}}
[debug] [2021-09-23T13:57:53.883Z] [runtime-status] [29595] triggerDefinition {"httpsTrigger":{},"name":"api","entryPoint":"api","regions":["us-central1"],"region":"us-central1","id":"us-central1-api"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [29595] triggerDefinition {\"httpsTrigger\":{},\"name\":\"api\",\"entryPoint\":\"api\",\"regions\":[\"us-central1\"],\"region\":\"us-central1\",\"id\":\"us-central1-api\"}"}}
[debug] [2021-09-23T13:57:53.883Z] [runtime-status] [29595] Running us-central1-api in mode HTTPS {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [29595] Running us-central1-api in mode HTTPS"}}
[debug] [2021-09-23T13:57:53.888Z] [runtime-status] [29595] Attempting to listen to socketPath: /var/folders/1q/t08t1c7147b3jyhcc6c2xwfr0000gn/T/fire_emu_29595.sock {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [29595] Attempting to listen to socketPath: /var/folders/1q/t08t1c7147b3jyhcc6c2xwfr0000gn/T/fire_emu_29595.sock"}}
[debug] [2021-09-23T13:57:53.891Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2021-09-23T13:57:53.891Z] [functions] Got req.url=/clone-e655c/us-central1/api/payments/create?total=0, mapping to path=/payments/create?total=0 {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Got req.url=/clone-e655c/us-central1/api/payments/create?total=0, mapping to path=/payments/create?total=0"}}
[debug] [2021-09-23T13:57:53.902Z] [runtime-status] [29595] Ephemeral server handling POST request {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [29595] Ephemeral server handling POST request"}}
[info] >  Payment Request received BOOOOOM !! 0 {"user":"Payment Request received BOOOOOM !! 0","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m Payment Request received BOOOOOM !! 0"}}
[debug] [2021-09-23T13:57:53.915Z] [runtime-status] [29595] Ephemeral server survived. {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [29595] Ephemeral server survived."}}
[info] >  (node:29595) UnhandledPromiseRejectionWarning: Error: This value must be greater than or equal to 1. {"user":"(node:29595) UnhandledPromiseRejectionWarning: Error: This value must be greater than or equal to 1.","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m (node:29595) UnhandledPromiseRejectionWarning: Error: This value must be greater than or equal to 1."}}
[info] >      at Function.generate (/Users/edouardtoulet/Desktop/Js/REACT/amazon-clone/functions/node_modules/stripe/lib/Error.js:40:16) {"user":"    at Function.generate (/Users/edouardtoulet/Desktop/Js/REACT/amazon-clone/functions/node_modules/stripe/lib/Error.js:40:16)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     at Function.generate (/Users/edouardtoulet/Desktop/Js/REACT/amazon-clone/functions/node_modules/stripe/lib/Error.js:40:16)"}}
[info] >      at res.toJSON.then.StripeAPIError.message (/Users/edouardtoulet/Desktop/Js/REACT/amazon-clone/functions/node_modules/stripe/lib/StripeResource.js:220:35) {"user":"    at res.toJSON.then.StripeAPIError.message (/Users/edouardtoulet/Desktop/Js/REACT/amazon-clone/functions/node_modules/stripe/lib/StripeResource.js:220:35)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     at res.toJSON.then.StripeAPIError.message (/Users/edouardtoulet/Desktop/Js/REACT/amazon-clone/functions/node_modules/stripe/lib/StripeResource.js:220:35)"}}
[info] >      at processTicksAndRejections (internal/process/task_queues.js:93:5) {"user":"    at processTicksAndRejections (internal/process/task_queues.js:93:5)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     at processTicksAndRejections (internal/process/task_queues.js:93:5)"}}
[info] >  (Use `node --trace-warnings ...` to show where the warning was created) {"user":"(Use `node --trace-warnings ...` to show where the warning was created)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m (Use `node --trace-warnings ...` to show where the warning was created)"}}
[info] >  (node:29595) UnhandledPromiseRejectionWarning: Unhandled promise rejection. This error originated either by throwing inside of an async function without a catch block, or by rejecting a promise which was not handled with .catch(). To terminate the node process on unhandled promise rejection, use the CLI flag `--unhandled-rejections=strict` (see https://nodejs.org/api/cli.html#cli_unhandled_rejections_mode). (rejection id: 1) {"user":"(node:29595) UnhandledPromiseRejectionWarning: Unhandled promise rejection. This error originated either by throwing inside of an async function without a catch block, or by rejecting a promise which was not handled with .catch(). To terminate the node process on unhandled promise rejection, use the CLI flag `--unhandled-rejections=strict` (see https://nodejs.org/api/cli.html#cli_unhandled_rejections_mode). (rejection id: 1)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m (node:29595) UnhandledPromiseRejectionWarning: Unhandled promise rejection. This error originated either by throwing inside of an async function without a catch block, or by rejecting a promise which was not handled with .catch(). To terminate the node process on unhandled promise rejection, use the CLI flag `--unhandled-rejections=strict` (see https://nodejs.org/api/cli.html#cli_unhandled_rejections_mode). (rejection id: 1)"}}
[info] >  (node:29595) [DEP0018] DeprecationWarning: Unhandled promise rejections are deprecated. In the future, promise rejections that are not handled will terminate the Node.js process with a non-zero exit code. {"user":"(node:29595) [DEP0018] DeprecationWarning: Unhandled promise rejections are deprecated. In the future, promise rejections that are not handled will terminate the Node.js process with a non-zero exit code.","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m (node:29595) [DEP0018] DeprecationWarning: Unhandled promise rejections are deprecated. In the future, promise rejections that are not handled will terminate the Node.js process with a non-zero exit code."}}
